(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d50f6fe"],{"07ac":function(t,e,r){"use strict";var a=r("23e7"),n=r("6f53").values;a({target:"Object",stat:!0},{values:function(t){return n(t)}})},2381:function(t,e,r){"use strict";r.d(e,"n",(function(){return n})),r.d(e,"l",(function(){return i})),r.d(e,"k",(function(){return o})),r.d(e,"m",(function(){return s})),r.d(e,"q",(function(){return l})),r.d(e,"D",(function(){return u})),r.d(e,"o",(function(){return d})),r.d(e,"r",(function(){return c})),r.d(e,"G",(function(){return p})),r.d(e,"h",(function(){return f})),r.d(e,"B",(function(){return m})),r.d(e,"A",(function(){return h})),r.d(e,"e",(function(){return b})),r.d(e,"a",(function(){return w})),r.d(e,"E",(function(){return O})),r.d(e,"H",(function(){return g})),r.d(e,"b",(function(){return v})),r.d(e,"c",(function(){return y})),r.d(e,"d",(function(){return L})),r.d(e,"F",(function(){return x})),r.d(e,"z",(function(){return S})),r.d(e,"f",(function(){return j})),r.d(e,"w",(function(){return M})),r.d(e,"u",(function(){return I})),r.d(e,"x",(function(){return C})),r.d(e,"v",(function(){return k})),r.d(e,"t",(function(){return T})),r.d(e,"I",(function(){return $})),r.d(e,"s",(function(){return _})),r.d(e,"C",(function(){return P})),r.d(e,"p",(function(){return R})),r.d(e,"j",(function(){return W})),r.d(e,"i",(function(){return z})),r.d(e,"g",(function(){return E})),r.d(e,"y",(function(){return B}));var a=r("b775");function n(t){return Object(a["a"])({url:"/rawMaterialOrder/getIfsByStateOne",method:"get",params:t})}function i(t){return Object(a["a"])({url:"/rawMaterialOrder/getIfsByOver",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/rawMaterialOrder/getIfsByAll",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/rawMaterialOrder/getIfsByQuarter",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/system/newUser/getUserNow",method:"get"})}function u(t){return Object(a["a"])({url:"/standardTree/selectStandardMethodEnum",method:"get"})}function d(t){return Object(a["a"])({url:"/insOrder/getInsOrder",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/rawMaterialOrder/notificationRawOrder",method:"get",params:t})}function p(t){return Object(a["a"])({url:"/rawMaterialOrder/selectStandardTreeListByPartNo",method:"get",params:t})}function f(t){return Object(a["a"])({url:"/rawMaterialOrder/delRawMaterOrderTemplate",method:"delete",params:t})}function m(t){return Object(a["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplateById",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplate",method:"get",params:t})}function b(t){return Object(a["a"])({url:"/rawMaterialOrder/addRawMaterOrderTemplate",method:"post",data:t})}function w(t){return Object(a["a"])({url:"/rawMaterialOrder/addExemptionOrder",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/standardTree/selectStandardProductList",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/standardTree/selectsStandardMethodByFLSSM",method:"get",params:t})}function v(t){return Object(a["a"])({url:"/insOrder/addInsOrder",method:"post",data:t})}function y(t){return Object(a["a"])({url:"/rawMaterialOrder/addRawCopperOrder",method:"post",data:t})}function L(t){return Object(a["a"])({url:"/rawMaterialOrder/addRawCopperOrderExemptionOrder",method:"post",data:t})}function x(){return Object(a["a"])({url:"/standardTree/selectStandardTreeList2",method:"get"})}function S(t){return Object(a["a"])({url:"/insOrder/selectInsOrderTemplate",method:"get",params:t})}function j(t){return Object(a["a"])({url:"/rawMaterialOrder/concessionRelease",method:"post",data:t})}function M(t){return Object(a["a"])({url:"/rawMaterialOrder/repealQuarterRawOrder",method:"post",data:t})}function I(t){return Object(a["a"])({url:"/rawMaterialOrder/rawOrderRelease",method:"post",data:t})}function C(t){return Object(a["a"])({url:"/rawMaterialOrder/revokeInspectionReport",method:"post",data:t})}function k(t){return Object(a["a"])({url:"/rawMaterialOrder/repealEnterRawOrder",method:"post",data:t})}function T(t){return Object(a["a"])({url:"/rawMaterialOrder/rawAllExport",method:"get",data:t,responseType:"blob"})}function $(t){return Object(a["a"])({url:"/insOrder/updateEntrustCode",method:"post",data:t})}function _(t){return Object(a["a"])({url:"/rawMaterialOrder/printLabel",method:"post",data:t})}function P(t){return Object(a["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:t})}function R(t){return Object(a["a"])({url:"/insOrder/getRetestResult",method:"get",params:t})}function W(t){return Object(a["a"])({url:"/insOrderPlan/getFileList",method:"get",params:t})}function z(t){return Object(a["a"])({url:"/insOrderPlan/downFile",method:"get",params:t})}function E(t){return Object(a["a"])({url:"/insOrderPlan/delfile",method:"delete",params:t})}function B(t){return Object(a["a"])({url:"/insOrderPlan/saveUnqualifiedContext",method:"post",data:t})}},"58d5":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ins_order_config"},[r("div",{staticClass:"search_form"},[r("div",{staticClass:"search_input"},[r("el-radio-group",{staticStyle:{"margin-right":"20px"},attrs:{size:"small"},on:{input:t.changeTab},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[r("el-radio-button",{attrs:{label:"绝缘"}},[t._v("绝 缘")])],1),r("el-form",{ref:"entity",attrs:{model:t.auxiliaryWireCore,size:"small",inline:!0}},[r("el-form-item",{attrs:{label:"芯数",prop:"num"}},[r("el-select",{attrs:{"allow-create":"",clearable:"","default-first-option":"",filterable:"",multiple:"",size:"small"},model:{value:t.auxiliaryWireCore.num,callback:function(e){t.$set(t.auxiliaryWireCore,"num",e)},expression:"auxiliaryWireCore.num"}},t._l(t.quantityList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),r("el-form-item",{attrs:{label:"检验标准",prop:"standardMethodListId"}},[r("el-select",{attrs:{disabled:"",placeholder:"请选择检验标准",size:"small"},on:{change:function(e){return t.methodChange(e)}},model:{value:t.auxiliaryWireCore.standardMethodListId,callback:function(e){t.$set(t.auxiliaryWireCore,"standardMethodListId",e)},expression:"auxiliaryWireCore.standardMethodListId"}},t._l(t.standards,(function(t){return r("el-option",{key:t.id,attrs:{label:t.code,value:t.id}})})),1)],1)],1)],1),r("div",[r("el-button",{attrs:{size:"small"},on:{click:t.outConfig}},[t._v("返 回")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("保 存")])],1)]),r("div",{staticClass:"table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.getProductLoad,expression:"getProductLoad"}],ref:"productTable",staticClass:"el-table",attrs:{data:t.productList,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 200px)","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},"tooltip-effect":"dark"},on:{select:t.upProductSelect,"selection-change":t.selectProduct,"select-all":t.handleAll}},[r("el-table-column",{attrs:{selectable:t.selectable,type:"selection",width:"65"}}),r("el-table-column",{attrs:{label:"检验项分类","min-width":"140",prop:"inspectionItemClass","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"检验项","min-width":"140",prop:"inspectionItem","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("检验项")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.inspectionItem,callback:function(e){t.inspectionItem=e},expression:"inspectionItem"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"检验项子项","min-width":"140",prop:"inspectionItemSubclass","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("检验项子项")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.inspectionItemSubclass,callback:function(e){t.inspectionItemSubclass=e},expression:"inspectionItemSubclass"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"要求描述","min-width":"220px",prop:"tell"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:e.row.tell,callback:function(r){t.$set(e.row,"tell",r)},expression:"scope.row.tell"}})]}}])}),r("el-table-column",{attrs:{label:"要求值","min-width":"220px",prop:"ask"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求值",size:"small",type:"textarea"},model:{value:e.row.ask,callback:function(r){t.$set(e.row,"ask",r)},expression:"scope.row.ask"}})]}}])}),r("el-table-column",{attrs:{label:"条件","min-width":"140",prop:"radius","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.inspectionItem.includes("高温压力试验")?t._e():r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:e.row.radius,callback:function(r){t.$set(e.row,"radius",r)},expression:"scope.row.radius"}}),e.row.inspectionItem.includes("高温压力试验")?r("el-select",{attrs:{clearable:"",placeholder:"条件",size:"small"},model:{value:e.row.radius,callback:function(r){t.$set(e.row,"radius",r)},expression:"scope.row.radius"}},t._l(JSON.parse(e.row.radiusList),(function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})})),1):t._e()]}}])}),r("el-table-column",{attrs:{label:"试验方法","min-width":"120",prop:"methodS","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("试验方法")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.methodS,callback:function(e){t.methodS=e},expression:"methodS"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"计量单位",prop:"unit","show-overflow-tooltip":"",width:"100"}}),r("el-table-column",{attrs:{label:"单价",prop:"price","show-overflow-tooltip":"",width:"100"}}),r("el-table-column",{attrs:{label:"区间","min-width":"120",prop:"section","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"子实验室","min-width":"130",prop:"sonLaboratory","show-overflow-tooltip":""}})],1)],1)])},n=[],i=(r("4de4"),r("7db0"),r("caad"),r("a15b"),r("d81d"),r("14d9"),r("fb6a"),r("d3b7"),r("07ac"),r("2532"),r("0643"),r("2382"),r("fffc"),r("4e3e"),r("a573"),r("9a9a"),r("159b"),r("5c96"),r("2381")),o={props:{active:{type:String,default:function(){return"0"}},sampleSelectionList:{type:Array,default:function(){return[]}},isSpecial:{type:Boolean,default:function(){return!1}}},data:function(t){return{standardList:[],vaule0:"",currentTab:"绝缘",upIndex:0,productList:[],getProductLoad:!1,productIds:[],sample:[],tree:"",standards:[],auxiliaryWireCore:{standardMethodListId:null,insProduct:[],num:[],modelNum:""},isAskOnlyRead:!1,inspectionItem:null,inspectionItemSubclass:null,methodS:null,filters:[],quantityList:[]}},mounted:function(){var t=this;this.$parent.sampleIds.forEach((function(e){for(var r=0;r<t.$parent.sampleList.length;r++)if(t.$parent.sampleList[r].id==e){t.sample.push(t.$parent.sampleList[r]),void 0!==t.$parent.sampleList[r].auxiliaryWireCore&&null!==t.$parent.sampleList[r].auxiliaryWireCore&&(t.auxiliaryWireCore=t.$parent.sampleList[r].auxiliaryWireCore);break}})),this.selectsStandardMethodByFLSSM2()},methods:{searchFilterList:function(){var t=this,e={inspectionItem:this.inspectionItem,inspectionItemSubclass:this.inspectionItemSubclass,methodS:this.methodS},r=Object.values(e).some((function(t){return t}));if(r){var a=function(r){e[r]&&(t.productList=t.productList0.filter((function(t){return t[r]&&t[r].includes(e[r])})))};for(var n in e)a(n)}else this.productList=this.productList0},requestChange:function(t,e,r){var a=this;this.sampleList.map((function(n){return a.sampleIds.indexOf(n.id)>-1&&n.insProduct.map((function(a){return a.id==e.id&&(e.repetitionTag?e.repetitionTag==a.repetitionTag&&(a[r]=t):a.repetitionTag||(a[r]=t)),a})),n}))},outConfig:function(){this.$parent.auxiliaryShow=!1},selectProduct:function(t){var e=this;this.productIds=[],t.forEach((function(t){e.productIds.push(t.id)}))},upProductSelect:function(t,e){e.state=1==e.state?0:1},handleAll:function(t){var e=this;t.length>0?this.productList.map((function(t){return t.state=1,t})):this.productList.map((function(t){return t.state=0,t})),this.$nextTick((function(){e.$refs.productTable.doLayout()}))},tableRowClassName:function(t){var e=t.row;t.rowIndex;return 0===e.state?"":"warning-row"},selectable:function(){return!(this.active>1)},selectsStandardMethodByFLSSM2:function(){var t=this;this.standards=[],Object(i["H"])({tree:this.$parent.selectTree}).then((function(e){try{if(0==e.data.standardMethodList.length&&5==t.selectTree.split("-").length){var r=t.selectTree.split("-"),a=r.slice(0,r.length-1),n=a.join("-").substring(0,a.join("-").length-1);Object(i["H"])({tree:n}).then((function(e){t.standards=e.data.standardMethodList}))}else t.standards=e.data.standardMethodList}catch(o){}})),this.auxiliaryWireCore.standardMethodListId=this.sampleSelectionList[0].standardMethodListId,this.auxiliaryWireCore.insProduct.length>0?(this.productList=this.auxiliaryWireCore.insProduct,setTimeout((function(){t.productList.forEach((function(e){1==e.state&&t.toggleSelection(e)}))}),200)):this.methodChange(this.sampleSelectionList[0].standardMethodListId)},methodChange:function(t){var e=this;if(null!==t&&""!==t){this.getProductLoad=!0;var r=this.standards.find((function(e){return e.id===t}));this.isAskOnlyRead=null!=r&&"技术要求"===r.code;var a=this.$parent.selectTree.split(" - ");this.$parent.addObj.model&&(a[a.length-1]=this.$parent.addObj.model);var n=this.sampleSelectionList[0].model,o=this.sampleSelectionList[0].cores,s=this.sampleSelectionList[0].conductorMaterial,l=this.sampleSelectionList[0].conductorType,u=this.sampleSelectionList[0].modelNum;Object(i["E"])({model:this.$parent.addObj.model?this.$parent.addObj.model:n,modelNum:u,standardMethodListId:t,factory:a.join(" - "),cores:o,conductorMaterial:s,conductorType:l,isCableTag:"1"},{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.forEach((function(t){t.state=0})),e.productList=t.data,e.getProductLoad=!1})).catch((function(t){e.getProductLoad=!1}))}},toggleSelection:function(t){this.$refs.productTable.toggleRowSelection(t,!0)},save:function(){var t=this;0===this.auxiliaryWireCore.insProduct.length||0!==this.auxiliaryWireCore.num.length?(this.auxiliaryWireCore.insProduct=this.HaveJson(this.productList),this.auxiliaryWireCore.insProduct.forEach((function(t){delete t.id})),"绝缘"===this.currentTab&&this.sample.forEach((function(e){e.auxiliaryWireCore=t.auxiliaryWireCore})),this.$emit("goBackAdd2"),this.$message.success("已保存")):this.$message.error("缺少芯数无法保存")},changeTab:function(t){var e=this;"绝缘"===t&&(this.productList=this.auxiliaryWireCore.insProduct),setTimeout((function(){e.productList.forEach((function(t){1==t.state&&e.toggleSelection(t)}))}),100)},filterHandler:function(t,e,r){var a=r["property"];return e[a]===t}}},s=o,l=(r("7298"),r("2877")),u=Object(l["a"])(s,a,n,!1,null,"7f311443",null);e["default"]=u.exports},7298:function(t,e,r){"use strict";r("e414")},e414:function(t,e,r){}}]);