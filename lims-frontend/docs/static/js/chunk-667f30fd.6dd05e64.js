(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-667f30fd","chunk-1ed86f23"],{"07ac":function(e,t,a){"use strict";var r=a("23e7"),i=a("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},5865:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role_manage"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showData,expression:"!showData"}],staticClass:"search"},[a("div",[a("el-form",{ref:"queryParams",attrs:{model:e.queryParams,size:"small",inline:!0}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"状态",prop:"deviceStatus"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部",size:"small"},on:{change:e.refreshTable},model:{value:e.queryParams.deviceStatus,callback:function(t){e.$set(e.queryParams,"deviceStatus",t)},expression:"queryParams.deviceStatus"}},e._l(e.deviceStatusList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"设备名称",prop:"deviceName"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable()}},model:{value:e.queryParams.deviceName,callback:function(t){e.$set(e.queryParams,"deviceName",t)},expression:"queryParams.deviceName"}})],1),a("el-form-item",{attrs:{label:"规格型号",prop:"specificationModel"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable()}},model:{value:e.queryParams.specificationModel,callback:function(t){e.$set(e.queryParams,"specificationModel",t)},expression:"queryParams.specificationModel"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.refreshTable}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.refresh}},[e._v("重置")])],1)],1)],1),a("div",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisible2=!0}}},[e._v("新增")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleDownOne}},[e._v("导出")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showData,expression:"!showData"}],staticClass:"table"},[a("lims-table",{attrs:{tableData:e.tableData,column:e.column,tableLoading:e.tableLoading,height:"calc(100vh - 300px)",page:e.page},on:{pagination:e.pagination}})],1),a("el-dialog",{attrs:{title:e.isUp?"设备详情":"档案修订",visible:e.dialogVisible,width:"70%",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",{staticStyle:{display:"flex","justify-content":"space-around","max-height":"75vh","overflow-y":"auto"}},[a("el-col",{attrs:{span:7}},[a("el-col",[a("el-image",{staticClass:"img",staticStyle:{width:"100%",height:"320px",marginBottom:"16px"},attrs:{src:e.javaApi+"/img/"+e.formData.imageUpload}},[a("div",{staticClass:"image-error",staticStyle:{width:"calc(100% -2px)",height:"318px","border-radius":"16px",display:"flex","align-items":"center","justify-content":"center",border:"1px solid #EEEEEE"},attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"60px",color:"#666666"}})])]),a("el-form",{attrs:{"label-position":e.labelPosition,model:e.formData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"仪器名称:",required:"",prop:"deviceName"}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.deviceName,callback:function(t){e.$set(e.formData,"deviceName",t)},expression:"formData.deviceName"}})],1),a("el-form-item",{attrs:{label:"仪器名称EN:",required:""}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.enDeviceName,callback:function(t){e.$set(e.formData,"enDeviceName",t)},expression:"formData.enDeviceName"}})],1),a("el-form-item",{attrs:{label:"规格型号:",required:""}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.specificationModel,callback:function(t){e.$set(e.formData,"specificationModel",t)},expression:"formData.specificationModel"}})],1),a("el-form-item",{attrs:{label:"生产厂家:"}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.manufacturer,callback:function(t){e.$set(e.formData,"manufacturer",t)},expression:"formData.manufacturer"}})],1)],1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form",{attrs:{"label-position":e.labelPosition,model:e.formData,"label-width":"116px"}},[a("el-form-item",{attrs:{label:"校准服务机构:"}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.calibrationServices,callback:function(t){e.$set(e.formData,"calibrationServices",t)},expression:"formData.calibrationServices"}})],1),a("el-form-item",{attrs:{label:"资产编码:"}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.assetCode,callback:function(t){e.$set(e.formData,"assetCode",t)},expression:"formData.assetCode"}})],1),a("el-form-item",{attrs:{label:"产地:"}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.origin,callback:function(t){e.$set(e.formData,"origin",t)},expression:"formData.origin"}})],1),a("el-form-item",{attrs:{label:"出厂编号:"}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.factoryNo,callback:function(t){e.$set(e.formData,"factoryNo",t)},expression:"formData.factoryNo"}})],1),a("el-form-item",{attrs:{label:"管理编号:",required:""}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.managementNumber,callback:function(t){e.$set(e.formData,"managementNumber",t)},expression:"formData.managementNumber"}})],1),a("el-form-item",{attrs:{label:"购置日期:"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.isUp,type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",size:"small",placeholder:"选择日期"},model:{value:e.formData.acquisitionDate,callback:function(t){e.$set(e.formData,"acquisitionDate",t)},expression:"formData.acquisitionDate"}})],1),a("el-form-item",{attrs:{label:"校准有效期:",required:""}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.isUp,type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",size:"small",placeholder:"选择日期"},model:{value:e.formData.activationDate,callback:function(t){e.$set(e.formData,"activationDate",t)},expression:"formData.activationDate"}})],1),a("el-form-item",{attrs:{label:"负责人:"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",disabled:e.isUp},model:{value:e.formData.equipmentManager,callback:function(t){e.$set(e.formData,"equipmentManager",t)},expression:"formData.equipmentManager"}},e._l(e.responsiblePersonList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"存放点:"}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.storagePoint,callback:function(t){e.$set(e.formData,"storagePoint",t)},expression:"formData.storagePoint"}})],1),a("el-form-item",{attrs:{label:"技术指标:"}},[a("el-input",{attrs:{disabled:e.isUp,rows:7,type:"textarea",size:"small"},model:{value:e.formData.technicalIndicators,callback:function(t){e.$set(e.formData,"technicalIndicators",t)},expression:"formData.technicalIndicators"}})],1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,model:e.formData,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"所属部门:",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.isUp,placeholder:"请选择",size:"small"},model:{value:e.formData.subordinateDepartmentsId,callback:function(t){e.$set(e.formData,"subordinateDepartmentsId",t)},expression:"formData.subordinateDepartmentsId"}},e._l(e.subordinateDepartmentsList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"检测项目:"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{disabled:e.isUp,options:e.options,"show-all-levels":!1,props:e.props,placeholder:"请选择",size:"small","collapse-tags":!e.isUp,separator:",",filterable:"",clearable:""},model:{value:e.formData.insProductIds,callback:function(t){e.$set(e.formData,"insProductIds",t)},expression:"formData.insProductIds"}})],1),a("el-form-item",{attrs:{label:"最近校准日期:"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.isUp,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",size:"small",placeholder:"选择日期"},model:{value:e.formData.lastCalibrationDate,callback:function(t){e.$set(e.formData,"lastCalibrationDate",t)},expression:"formData.lastCalibrationDate"}})],1),a("el-form-item",{attrs:{label:"下次校准日期:"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.isUp,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",size:"small",placeholder:"选择日期"},model:{value:e.formData.nextCalibrationDate,callback:function(t){e.$set(e.formData,"nextCalibrationDate",t)},expression:"formData.nextCalibrationDate"}})],1),a("el-form-item",{attrs:{label:"设备类型:"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.isUp,placeholder:"请选择",size:"small"},model:{value:e.formData.largeCategory,callback:function(t){e.$set(e.formData,"largeCategory",t)},expression:"formData.largeCategory"}},e._l(e.equipmentList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"单价(万元):"}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.unitPrice,callback:function(t){e.$set(e.formData,"unitPrice",t)},expression:"formData.unitPrice"}})],1),a("el-form-item",{attrs:{label:"当前状态:",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.isUp,placeholder:"请选择",size:"small"},model:{value:e.formData.deviceStatus,callback:function(t){e.$set(e.formData,"deviceStatus",t)},expression:"formData.deviceStatus"}},e._l(e.deviceStatusList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"校准周期（月）:",required:""}},[a("el-input",{attrs:{disabled:e.isUp,size:"small"},model:{value:e.formData.calibrationDate,callback:function(t){e.$set(e.formData,"calibrationDate",t)},expression:"formData.calibrationDate"}})],1),a("el-form-item",{attrs:{label:"被授权人:"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",disabled:e.isUp,placeholder:"请选择",size:"small"},model:{value:e.formData.authorizedPerson,callback:function(t){e.$set(e.formData,"authorizedPerson",t)},expression:"formData.authorizedPerson"}},e._l(e.responsiblePersonList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"图片:"}},[a("div",{staticStyle:{border:"1px solid #DCDFE6","border-radius":"4px",height:"32px",lineHeight:"32px",display:"flex","justify-content":"space-around","font-size":"13px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.formData.imageName,expression:"formData.imageName"}],staticClass:"picName"},[e._v(e._s(e.formData.imageName))]),a("el-upload",{ref:"upload",attrs:{disabled:e.isUp,action:e.action,"on-success":e.handleSuccessUpImg2,"show-file-list":!1,accept:"image/jpg,image/jpeg,image/png",headers:e.uploadHeader,"on-change":e.beforeUpload,"on-error":e.onError}},[a("el-button",{staticStyle:{height:"30px","padding-top":"8px"},attrs:{type:"text"}},[e._v("上传")])],1)],1)])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.isUp?e._e():a("el-row",[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.upLoad},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"新增设备",top:"5vh",visible:e.dialogVisible2,width:"70%","before-close":e.handleClose2},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("el-row",{staticStyle:{display:"flex","justify-content":"space-around"}},[a("el-col",{attrs:{span:7}},[a("el-col",[a("el-image",{staticClass:"img",staticStyle:{width:"100%",height:"320px","margin-bottom":"16px"},attrs:{src:e.javaApi+"/img/"+e.formData2.imageUpload}},[a("div",{staticClass:"image-error",staticStyle:{width:"calc(100% -2px)",height:"318px","border-radius":"16px",display:"flex","align-items":"center","justify-content":"center",border:"1px solid #EEEEEE"},attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"60px",color:"#666666"}})])]),a("el-form",{attrs:{"label-position":e.labelPosition,model:e.formData2,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"仪器名称:",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.deviceName,callback:function(t){e.$set(e.formData2,"deviceName",t)},expression:"formData2.deviceName"}})],1),a("el-form-item",{attrs:{label:"仪器名称EN:",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.enDeviceName,callback:function(t){e.$set(e.formData2,"enDeviceName",t)},expression:"formData2.enDeviceName"}})],1),a("el-form-item",{attrs:{label:"规格型号:",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.specificationModel,callback:function(t){e.$set(e.formData2,"specificationModel",t)},expression:"formData2.specificationModel"}})],1),a("el-form-item",{attrs:{label:"生产厂家:"}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.manufacturer,callback:function(t){e.$set(e.formData2,"manufacturer",t)},expression:"formData2.manufacturer"}})],1)],1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form",{attrs:{"label-position":e.labelPosition,model:e.formData2,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"校准服务机构:"}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.calibrationServices,callback:function(t){e.$set(e.formData2,"calibrationServices",t)},expression:"formData2.calibrationServices"}})],1),a("el-form-item",{attrs:{label:"资产编码:"}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.assetCode,callback:function(t){e.$set(e.formData2,"assetCode",t)},expression:"formData2.assetCode"}})],1),a("el-form-item",{attrs:{label:"产地:"}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.origin,callback:function(t){e.$set(e.formData2,"origin",t)},expression:"formData2.origin"}})],1),a("el-form-item",{attrs:{label:"出厂编号:"}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.factoryNo,callback:function(t){e.$set(e.formData2,"factoryNo",t)},expression:"formData2.factoryNo"}})],1),a("el-form-item",{attrs:{label:"管理编号:",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.managementNumber,callback:function(t){e.$set(e.formData2,"managementNumber",t)},expression:"formData2.managementNumber"}})],1),a("el-form-item",{attrs:{label:"购置日期:"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",size:"small",placeholder:"选择日期"},model:{value:e.formData2.acquisitionDate,callback:function(t){e.$set(e.formData2,"acquisitionDate",t)},expression:"formData2.acquisitionDate"}})],1),a("el-form-item",{attrs:{label:"校准有效期:",required:""}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",size:"small",placeholder:"选择日期"},model:{value:e.formData2.activationDate,callback:function(t){e.$set(e.formData2,"activationDate",t)},expression:"formData2.activationDate"}})],1),a("el-form-item",{attrs:{label:"负责人:"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.formData2.equipmentManager,callback:function(t){e.$set(e.formData2,"equipmentManager",t)},expression:"formData2.equipmentManager"}},e._l(e.responsiblePersonList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"存放点:"}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.storagePoint,callback:function(t){e.$set(e.formData2,"storagePoint",t)},expression:"formData2.storagePoint"}})],1),a("el-form-item",{attrs:{label:"技术指标:"}},[a("el-input",{attrs:{rows:7,type:"textarea",size:"small"},model:{value:e.formData2.technicalIndicators,callback:function(t){e.$set(e.formData2,"technicalIndicators",t)},expression:"formData2.technicalIndicators"}})],1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,model:e.formData2,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属部门:",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.formData2.subordinateDepartmentsId,callback:function(t){e.$set(e.formData2,"subordinateDepartmentsId",t)},expression:"formData2.subordinateDepartmentsId"}},e._l(e.subordinateDepartmentsList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"检测项目:"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.options,"show-all-levels":!1,props:e.props,placeholder:"请选择",size:"small","collapse-tags":"",separator:",",filterable:"",clearable:""},model:{value:e.formData2.insProductIds,callback:function(t){e.$set(e.formData2,"insProductIds",t)},expression:"formData2.insProductIds"}})],1),a("el-form-item",{attrs:{label:"最近校准日期:"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",size:"small",placeholder:"选择日期"},model:{value:e.formData2.lastCalibrationDate,callback:function(t){e.$set(e.formData2,"lastCalibrationDate",t)},expression:"formData2.lastCalibrationDate"}})],1),a("el-form-item",{attrs:{label:"下次校准日期:"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",size:"small",placeholder:"选择日期"},model:{value:e.formData2.nextCalibrationDate,callback:function(t){e.$set(e.formData2,"nextCalibrationDate",t)},expression:"formData2.nextCalibrationDate"}})],1),a("el-form-item",{attrs:{label:"设备类型:"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.formData2.largeCategory,callback:function(t){e.$set(e.formData2,"largeCategory",t)},expression:"formData2.largeCategory"}},e._l(e.equipmentList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"单价(万元):"}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.unitPrice,callback:function(t){e.$set(e.formData2,"unitPrice",t)},expression:"formData2.unitPrice"}})],1),a("el-form-item",{attrs:{label:"当前状态:",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.formData2.deviceStatus,callback:function(t){e.$set(e.formData2,"deviceStatus",t)},expression:"formData2.deviceStatus"}},e._l(e.deviceStatusList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"校准周期（月）:",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.formData2.calibrationDate,callback:function(t){e.$set(e.formData2,"calibrationDate",t)},expression:"formData2.calibrationDate"}})],1),a("el-form-item",{attrs:{label:"被授权人:"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择",size:"small"},model:{value:e.formData2.authorizedPerson,callback:function(t){e.$set(e.formData2,"authorizedPerson",t)},expression:"formData2.authorizedPerson"}},e._l(e.responsiblePersonList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"图片:"}},[a("div",{staticStyle:{border:"1px solid #DCDFE6","border-radius":"4px",height:"32px","line-height":"32px",display:"flex","justify-content":"space-around","font-size":"13px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.formData2.imageName,expression:"formData2.imageName"}],staticClass:"picName"},[e._v(e._s(e.formData2.imageName))]),a("el-upload",{ref:"upload",attrs:{action:e.action,"on-success":e.handleSuccessUpImg2,"show-file-list":!1,accept:"image/jpg,image/jpeg,image/png",headers:e.uploadHeader,"on-change":e.beforeUpload,"on-error":e.onError}},[a("el-button",{staticStyle:{height:"30px","padding-top":"8px"},attrs:{type:"text"}},[e._v("上传")])],1)],1)])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:e.handleClose2}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.upLoad2},on:{click:e.submitForm2}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"数采配置",visible:e.dialogVisible3,width:"400px"},on:{"update:visible":function(t){e.dialogVisible3=t}}},[a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("IP：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.ip,callback:function(t){e.$set(e.configForm,"ip",t)},expression:"configForm.ip"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("采集地址：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.collectUrl,callback:function(t){e.$set(e.configForm,"collectUrl",t)},expression:"configForm.collectUrl"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("储存地址：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.storageUrl,callback:function(t){e.$set(e.configForm,"storageUrl",t)},expression:"configForm.storageUrl"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("参照：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.refer,callback:function(t){e.$set(e.configForm,"refer",t)},expression:"configForm.refer"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("X：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.x,callback:function(t){e.$set(e.configForm,"x",t)},expression:"configForm.x"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("Y：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.y,callback:function(t){e.$set(e.configForm,"y",t)},expression:"configForm.y"}})],1),a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[e._v("公式：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.formula,callback:function(t){e.$set(e.configForm,"formula",t)},expression:"configForm.formula"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:function(t){e.dialogVisible3=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.upLoad3},on:{click:e.submitForm3}},[e._v("确 定")])],1)],1)]),e.showData?a("dataAcquisitionConfig",{attrs:{deviceId:e.deviceId}}):e._e()],1)},i=[],n=a("5530"),o=(a("7db0"),a("a15b"),a("d81d"),a("14d9"),a("b0c0"),a("e9c4"),a("b64b"),a("d3b7"),a("ac1f"),a("00b4"),a("0643"),a("fffc"),a("4e3e"),a("a573"),a("159b"),a("00d5")),l=a("d18d"),c=a("abac"),s=a("b558"),u={props:{clickNodeVal:{type:Object,default:function(){return{}}}},components:{limsTable:o["a"],dataAcquisitionConfig:l["default"]},data:function(){var e=this;return{dateFormat:"yyyy-MM-dd",deviceId:"",fileTypeOptions:[{label:"csv",value:".csv"},{label:"db",value:".db"},{label:"mdb",value:".mdb"},{label:"word",value:".docx"},{label:"excel",value:".xlsx"},{label:"txt",value:".txt"},{label:"png",value:".png"}],isUp:!0,formData:{authorizedPerson:[]},formData2:{imageUpload:"",imageName:"",deviceStatus:"",authorizedPerson:[]},value:"",props:{multiple:!0,emitPath:!1,value:"id",label:"name"},options:[],labelPosition:"right",dialogVisible:!1,dialogVisible2:!1,showData:!1,tableList:[],addDia:!0,equipmentList:[],responsiblePersonList:[],authorizerList:[],deviceStatusList:[],subordinateDepartmentsList:[],upLoad:!1,upLoad2:!1,dialogVisible3:!1,upLoad3:!1,configForm:{},laboratoryNameIsNull:!1,queryParams:{},tableData:[],column:[{label:"设备名称",prop:"deviceName",dataType:"link",linkMethod:"selectAllByOne"},{label:"设备名称EN",prop:"enDeviceName"},{label:"规格型号",prop:"specificationModel"},{label:"生产厂家",prop:"manufacturer"},{label:"出厂编号",prop:"factoryNo"},{label:"管理编号",prop:"managementNumber"},{label:"技术指标",prop:"technicalIndicators"},{label:"购置日期",prop:"acquisitionDate"},{label:"启用日期",prop:"activationDate"},{label:"管理人",prop:"equipmentManagerUser"},{label:"存放点",prop:"storagePoint"},{label:"所属部门",prop:"laboratoryName"},{label:"检验项目",prop:"insProductItem"},{label:"校准服务机构",prop:"calibrationServices"},{label:"最近校准日期",prop:"lastCalibrationDateTwo"},{label:"最近核查日期",prop:"lastCalibrationDate"},{label:"下次校准日期",prop:"nextCalibrationDateTwo"},{label:"下次核查日期",prop:"nextCalibrationDate"},{label:"设备分类",prop:"largeCategory",dataType:"tag",formatData:function(t){return e.equipmentList.find((function(e){return e.value==t}))?e.equipmentList.find((function(e){return e.value==t})).label:null},formatType:function(t){return e.equipmentList.find((function(e){return e.value==t}))?e.equipmentList.find((function(e){return e.value==t})).type:null}},{label:"单价",prop:"unitPrice"},{label:"设备状态",prop:"deviceStatus",dataType:"tag",formatData:function(t){return e.deviceStatusList.find((function(e){return e.value==t})).label},formatType:function(t){return e.deviceStatusList.find((function(e){return e.value==t})).type}},{label:"校准周期(月)",prop:"calibrationDate"},{dataType:"action",fixed:"right",label:"操作",operation:[{name:"档案修订",type:"text",clickFun:function(t){e.isUpdate(t)}},{name:"数采配置",type:"text",clickFun:function(t){e.handleConfig(t)},disabled:function(e){return null==e.insProductItem||""===e.insProductItem}},{name:"删除",type:"text",clickFun:function(t){e.handleDelete(t)}}]}],page:{total:0,size:10,current:0},tableLoading:!1}},computed:{action:function(){return this.javaApi+"/deviceScope/uploadFile"}},mounted:function(){this.selectEnumByCategory(),this.selectDevicePrincipal(),this.obtainItemParameterList(),this.getInsProductIds(),this.clickSidebar(this.clickNodeVal)},methods:{handleNotification:function(e){this.queryParams.largeCategory=e},obtainItemParameterList:function(){var e=this;Object(c["Pb"])().then((function(t){var a=[];t.data.forEach((function(e){a.push({label:e.laboratoryName,value:e.id})})),e.subordinateDepartmentsList=a}))},getList:function(){var e=this;this.tableLoading=!0;var t=Object(n["a"])(Object(n["a"])({laboratoryNameIsNull:this.laboratoryNameIsNull},this.queryParams),this.page);delete t.total,Object(c["Cb"])(Object(n["a"])({},t)).then((function(t){e.tableLoading=!1,200===t.code&&(e.tableData=t.data.records,e.page.total=t.data.total)})).catch((function(t){e.tableLoading=!1}))},pagination:function(e){var t=e.page,a=e.limit;this.page.current=t,this.page.size=a,this.getList()},refresh:function(){this.queryParams={},this.page.current=1,this.getList()},refreshTable:function(){this.page.current=1,this.getList()},handleDownOne:function(){var e=this;this.outLoading=!0,Object(c["kb"])().then((function(t){e.outLoading=!1;var a=new Blob([t],{type:"application/octet-stream"});e.$download.saveAs(a,"设备仪器一览表.doc")}))},selectEnumByCategory:function(){var e=this;this.getDicts("device_status").then((function(t){e.deviceStatusList=e.dictToValue(t.data)})),this.getDicts("device_type").then((function(t){e.equipmentList=e.dictToValue(t.data)}))},selectDevicePrincipal:function(){var e=this;Object(s["w"])().then((function(t){var a=[];t.data.forEach((function(e){a.push({label:e.name,value:e.id})})),e.responsiblePersonList=a,e.authorizerList=a}))},getInsProductIds:function(){var e=this;Object(c["Hb"])().then((function(t){e.options=t.data.map((function(e,t){e.id=e.name;e.children.map((function(e){return e.label=e.name,e.value=e.id,e}));return e})),e.options.forEach((function(e){0==e.children.length?e.children=null:e.children.forEach((function(e){0==e.children.length?e.children=null:e.children.forEach((function(e){e.children&&0==e.children.length&&(e.children=null)}))}))}))}))},handleClose:function(){this.formData={authorizedPerson:[]},this.formData2={imageUpload:"",imageName:"",authorizedPerson:[]},this.dialogVisible=!1,this.upLoad=!1},handleClose2:function(){this.formData={authorizedPerson:[]},this.formData2={imageUpload:"",imageName:"",authorizedPerson:[]},this.dialogVisible2=!1,this.upLoad=!1},selectAllByOne:function(e){this.isUp=!0,this.dialogVisible=!0,this.formData=this.HaveJson(e),console.log(e.insProductIds+"valll"),this.formData.insProductIds=e.insProductIds?e.insProductIds.split(","):[]},isUpdate:function(e){var t=this;this.isUp=!1,this.dialogVisible=!0,this.formData=this.HaveJson(e),"number"===typeof e.insProductIds&&(e.insProductIds=e.insProductIds+""),this.formData.deviceStatus=this.formData.deviceStatus+"",this.formData.insProductIds=e.insProductIds?e.insProductIds.split(","):[];var a=/^\d{4}-\d{2}-\d{2}$/;Object.keys(this.formData).forEach((function(e){a.test(t.formData[e])&&(t.formData[e]="".concat(t.formData[e]," 00:00:00"))}))},beforeUpload:function(e){return!(e.size>10485760)||(this.$message.error("上传文件不超过10M"),this.$refs.upload.clearFiles(),!1)},onError:function(e,t,a){this.$message.error("上传失败"),this.$refs.upload.clearFiles()},handleSuccessUpImg:function(e){200==e.code&&(this.formData.imageUpload=e.data.url,this.formData.imageName=e.data.name)},handleSuccessUpImg2:function(e){var t=this;200==e.code&&this.$nextTick((function(){t.formData.imageUpload=e.data.url,t.formData.imageName=e.data.name,t.formData2.imageUpload=e.data.url,t.formData2.imageName=e.data.name}))},submitForm:function(){var e=this;if(this.formData.deviceName)if(this.formData.enDeviceName)if(this.formData.specificationModel)if(this.formData.managementNumber)if(this.formData.activationDate)if(this.formData.subordinateDepartmentsId)if(""!==this.formData.deviceStatus&&null!==this.formData.deviceStatus)if(this.formData.calibrationDate){delete this.formData.createTime,delete this.formData.updateTime,delete this.formData.createUser,delete this.formData.updateUser;var t=this.HaveJson(this.formData);t.insProductIds=t.insProductIds?t.insProductIds.join():"",0===t.authorizedPerson.length?t.authorizedPerson="":t.authorizedPerson=JSON.stringify(t.authorizedPerson),this.upLoad=!0,Object(c["zc"])(t).then((function(t){e.$message.success("修改成功"),e.upLoad=!1,e.refreshTable("page"),e.dialogVisible=!1})).catch((function(t){e.$message.error("修改失败"),e.dialogVisible=!1,e.upLoad=!1}))}else this.$message.error("未输入校准周期（月）");else this.$message.error("未选择当前状态");else this.$message.error("未选择所属部门");else this.$message.error("未输入校准有效期");else this.$message.error("未输入管理编号");else this.$message.error("未输入规格型号");else this.$message.error("未输入仪器名称EN");else this.$message.error("未输入仪器名称")},submitForm2:function(){var e=this;if(this.formData2.deviceName)if(this.formData2.enDeviceName)if(this.formData2.specificationModel)if(this.formData2.managementNumber)if(this.formData2.activationDate)if(this.formData2.deviceStatus)if(this.formData2.calibrationDate){var t=this.HaveJson(this.formData2);t.insProductIds=t.insProductIds?t.insProductIds.join():"",0===t.authorizedPerson.length?t.authorizedPerson="":t.authorizedPerson=JSON.stringify(t.authorizedPerson),this.upLoad2=!0,Object(c["k"])(t).then((function(t){e.$message.success("提交成功"),e.upLoad2=!1,e.refreshTable("page"),e.dialogVisible2=!1,e.formData2={imageUpload:"",imageName:"",authorizedPerson:[]}})).catch((function(t){e.$message.error("提交失败"),e.dialogVisible2=!1,e.upLoad2=!1}))}else this.$message.error("输入校准周期（月）");else this.$message.error("未选择当前状态");else this.$message.error("未输入校准有效期");else this.$message.error("未输入管理编号");else this.$message.error("未输入规格型号");else this.$message.error("未输入仪器名称EN");else this.$message.error("未输入仪器名称")},handleConfig:function(e){var t=this,a=[];e.insProductItem&&(a=e.insProductItem.split(";"));var r=[];a.map((function(t){var a=Object.assign({deviceId:e.id,insProductItem:t});r.push(a)})),this.tableList=r,this.deviceId=e.id,this.$nextTick((function(){t.showData=!0}))},closeDataVue:function(){this.clickSidebar(this.clickNodeVal),this.showData=!1},submitForm3:function(){var e=this;this.configForm.ip?this.configForm.collectUrl?this.configForm.storageUrl?this.configForm.refer?this.configForm.x?this.configForm.y?(this.upLoad3=!0,Object(c["Ob"])(this.configForm).then((function(t){e.upLoad3=!1,e.$message.success("操作成功"),e.refreshTable("page"),e.dialogVisible3=!1})).catch((function(t){e.$message.error("操作失败"),e.dialogVisible3=!1,e.upLoad3=!1}))):this.$message.error("请填写Y"):this.$message.error("请填写X"):this.$message.error("请填写参照"):this.$message.error("请填写储存地址"):this.$message.error("请填写采集地址"):this.$message.error("请填写IP")},clickSidebar:function(e){if(this.laboratoryNameIsNull=!1,!e.value){if(this.list=[],this.queryParams.laboratoryName=null,this.queryParams.storagePoint=null,"其他"==e.label)return this.laboratoryNameIsNull=!0,void this.refreshTable("page");1==e.level?this.queryParams.laboratoryName=e.label:2==e.level&&("其他"==e.parent.label?this.laboratoryNameIsNull=!0:this.queryParams.laboratoryName=e.parent.label,this.queryParams.storagePoint=e.label),this.refreshTable("page")}},handleDelete:function(e){var t=this;this.$confirm("是否删除该条数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["C"])({id:e.id}).then((function(e){t.$message.success("删除成功"),t.refresh()}))})).catch((function(){}))}},watch:{clickNodeVal:function(e){this.clickSidebar(e)}}},d=u,m=(a("9e54"),a("2877")),f=Object(m["a"])(d,r,i,!1,null,"b3ef2d12",null);t["default"]=f.exports},"80cc":function(e,t,a){},"9e54":function(e,t,a){"use strict";a("80cc")},abac:function(e,t,a){"use strict";a.d(t,"yc",(function(){return i})),a.d(t,"rc",(function(){return n})),a.d(t,"Pb",(function(){return o})),a.d(t,"kb",(function(){return l})),a.d(t,"Hb",(function(){return c})),a.d(t,"zc",(function(){return s})),a.d(t,"k",(function(){return u})),a.d(t,"Ob",(function(){return d})),a.d(t,"Cb",(function(){return m})),a.d(t,"C",(function(){return f})),a.d(t,"ac",(function(){return p})),a.d(t,"bc",(function(){return b})),a.d(t,"Jb",(function(){return h})),a.d(t,"ic",(function(){return v})),a.d(t,"kc",(function(){return g})),a.d(t,"F",(function(){return D})),a.d(t,"Ub",(function(){return y})),a.d(t,"uc",(function(){return x})),a.d(t,"bb",(function(){return O})),a.d(t,"q",(function(){return P})),a.d(t,"x",(function(){return j})),a.d(t,"y",(function(){return S})),a.d(t,"Vb",(function(){return k})),a.d(t,"e",(function(){return w})),a.d(t,"Cc",(function(){return C})),a.d(t,"cc",(function(){return I})),a.d(t,"wb",(function(){return F})),a.d(t,"d",(function(){return M})),a.d(t,"Bc",(function(){return $})),a.d(t,"W",(function(){return z})),a.d(t,"xb",(function(){return N})),a.d(t,"f",(function(){return _})),a.d(t,"Dc",(function(){return E})),a.d(t,"z",(function(){return L})),a.d(t,"Wb",(function(){return U})),a.d(t,"vc",(function(){return T})),a.d(t,"cb",(function(){return A})),a.d(t,"A",(function(){return R})),a.d(t,"Xb",(function(){return q})),a.d(t,"g",(function(){return B})),a.d(t,"Ec",(function(){return V})),a.d(t,"dc",(function(){return H})),a.d(t,"nb",(function(){return J})),a.d(t,"mb",(function(){return X})),a.d(t,"Gb",(function(){return G})),a.d(t,"gc",(function(){return Y})),a.d(t,"o",(function(){return W})),a.d(t,"Fb",(function(){return Q})),a.d(t,"n",(function(){return K})),a.d(t,"fc",(function(){return Z})),a.d(t,"pc",(function(){return ee})),a.d(t,"wc",(function(){return te})),a.d(t,"Ib",(function(){return ae})),a.d(t,"p",(function(){return re})),a.d(t,"Ic",(function(){return ie})),a.d(t,"gb",(function(){return ne})),a.d(t,"P",(function(){return oe})),a.d(t,"sc",(function(){return le})),a.d(t,"xc",(function(){return ce})),a.d(t,"Kb",(function(){return se})),a.d(t,"r",(function(){return ue})),a.d(t,"Jc",(function(){return de})),a.d(t,"hc",(function(){return me})),a.d(t,"jb",(function(){return fe})),a.d(t,"Q",(function(){return pe})),a.d(t,"Yb",(function(){return be})),a.d(t,"db",(function(){return he})),a.d(t,"B",(function(){return ve})),a.d(t,"yb",(function(){return ge})),a.d(t,"h",(function(){return De})),a.d(t,"V",(function(){return ye})),a.d(t,"lc",(function(){return xe})),a.d(t,"Gc",(function(){return Oe})),a.d(t,"L",(function(){return Pe})),a.d(t,"ob",(function(){return je})),a.d(t,"m",(function(){return Se})),a.d(t,"Hc",(function(){return ke})),a.d(t,"N",(function(){return we})),a.d(t,"Rb",(function(){return Ce})),a.d(t,"rb",(function(){return Ie})),a.d(t,"u",(function(){return Fe})),a.d(t,"Y",(function(){return Me})),a.d(t,"t",(function(){return $e})),a.d(t,"qb",(function(){return ze})),a.d(t,"a",(function(){return Ne})),a.d(t,"Ac",(function(){return _e})),a.d(t,"U",(function(){return Ee})),a.d(t,"nc",(function(){return Le})),a.d(t,"tc",(function(){return Ue})),a.d(t,"J",(function(){return Te})),a.d(t,"T",(function(){return Ae})),a.d(t,"E",(function(){return Re})),a.d(t,"pb",(function(){return qe})),a.d(t,"eb",(function(){return Be})),a.d(t,"qc",(function(){return Ve})),a.d(t,"K",(function(){return He})),a.d(t,"lb",(function(){return Je})),a.d(t,"I",(function(){return Xe})),a.d(t,"j",(function(){return Ge})),a.d(t,"Bb",(function(){return Ye})),a.d(t,"jc",(function(){return We})),a.d(t,"tb",(function(){return Qe})),a.d(t,"R",(function(){return Ke})),a.d(t,"G",(function(){return Ze})),a.d(t,"S",(function(){return et})),a.d(t,"mc",(function(){return tt})),a.d(t,"oc",(function(){return at})),a.d(t,"ib",(function(){return rt})),a.d(t,"M",(function(){return it})),a.d(t,"X",(function(){return nt})),a.d(t,"Eb",(function(){return ot})),a.d(t,"Zb",(function(){return lt})),a.d(t,"hb",(function(){return ct})),a.d(t,"D",(function(){return st})),a.d(t,"Db",(function(){return ut})),a.d(t,"l",(function(){return dt})),a.d(t,"Tb",(function(){return mt})),a.d(t,"ab",(function(){return ft})),a.d(t,"w",(function(){return pt})),a.d(t,"ub",(function(){return bt})),a.d(t,"c",(function(){return ht})),a.d(t,"Ab",(function(){return vt})),a.d(t,"fb",(function(){return gt})),a.d(t,"H",(function(){return Dt})),a.d(t,"zb",(function(){return yt})),a.d(t,"i",(function(){return xt})),a.d(t,"Fc",(function(){return Ot})),a.d(t,"ec",(function(){return Pt})),a.d(t,"Sb",(function(){return jt})),a.d(t,"Z",(function(){return St})),a.d(t,"v",(function(){return kt})),a.d(t,"sb",(function(){return wt})),a.d(t,"b",(function(){return Ct})),a.d(t,"s",(function(){return It})),a.d(t,"Lb",(function(){return Ft})),a.d(t,"Mb",(function(){return Mt})),a.d(t,"Nb",(function(){return $t})),a.d(t,"O",(function(){return zt})),a.d(t,"Qb",(function(){return Nt})),a.d(t,"vb",(function(){return _t}));var r=a("b775");function i(e){return Object(r["a"])({url:"/deviceScope/treeDevice",method:"get",params:e})}function n(e){return Object(r["a"])({url:"/deviceScope/selectDeviceParameter",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/laboratoryScope/obtainItemParameterList",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/deviceScope/exportEquipmentDetails",method:"get",responseType:"blob",params:e})}function c(e){return Object(r["a"])({url:"/capacityScope/getInsProduction",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/deviceScope/upDeviceParameter",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/deviceScope/addDeviceParameter",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/deviceScope/numberCollect",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/deviceScope/selectDeviceParameter",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/deviceScope/delDeviceParameter",method:"delete",params:e})}function p(e){return Object(r["a"])({url:"/deviceScope/queryDataAcquisitionConfiguration",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/deviceScope/queryProductConfiguration",method:"get",params:e})}function h(e){return Object(r["a"])({url:"/deviceScope/getNoConfigProduct",method:"get",params:e})}function v(e){return Object(r["a"])({url:"/deviceScope/saveDataAcquisitionConfiguration",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/deviceScope/saveDeviceFileConfiguration",method:"post",data:e})}function D(e){return Object(r["a"])({url:"/deviceScope/deleteDataAcquisitionConfiguration",method:"delete",params:e})}function y(e){return Object(r["a"])({url:"/deviceCalibrationPlan/pageDeviceCalibrationPlan",method:"get",params:e})}function x(e){return Object(r["a"])({url:"/deviceCalibrationPlan/submiatRatifyDeviceCalibrationPlan",method:"post",data:e})}function O(e){return Object(r["a"])({url:"/deviceCalibrationPlan/exportDeviceCalibrationPlanDetail",method:"get",responseType:"blob",params:e})}function P(e){return Object(r["a"])({url:"/deviceMetricRecord/addOrUpdateDeviceMetricRecord",method:"post",data:e})}function j(e){return Object(r["a"])({url:"/deviceCalibrationPlan/delDeviceCalibrationPlan",method:"delete",params:e})}function S(e){return Object(r["a"])({url:"/deviceCalibrationPlan/delDeviceCalibrationPlanDetail",method:"delete",params:e})}function k(e){return Object(r["a"])({url:"/deviceCalibrationPlan/pageDeviceCalibrationPlanDetail",method:"get",params:e})}function w(e){return Object(r["a"])({url:"/deviceCalibrationPlan/addDeviceCalibrationPlanDetail",method:"post",data:e})}function C(e){return Object(r["a"])({url:"/deviceCalibrationPlan/updateDeviceCalibrationPlanDetail",method:"post",data:e})}function I(e){return Object(r["a"])({url:"/deviceCalibrationPlan/ratifyDeviceCalibrationPlan",method:"post",data:e})}function F(e){return Object(r["a"])({url:"/deviceCalibrationPlan/getDeviceCalibrationPlan",method:"get",params:e})}function M(e){return Object(r["a"])({url:"/deviceCalibrationPlan/addDeviceCalibrationPlan",method:"post",data:e})}function $(e){return Object(r["a"])({url:"/deviceCalibrationPlan/updateDeviceCalibrationPlan",method:"post",data:e})}function z(e){return Object(r["a"])({url:"/deviceScope/search",method:"get",params:e})}function N(e){return Object(r["a"])({url:"/deviceExaminePlan/getDeviceExaminePlan",method:"get",params:e})}function _(e){return Object(r["a"])({url:"/deviceExaminePlan/addDeviceExaminePlan",method:"post",data:e})}function E(e){return Object(r["a"])({url:"/deviceExaminePlan/updateDeviceExaminePlan",method:"post",data:e})}function L(e){return Object(r["a"])({url:"/deviceExaminePlan/delDeviceExaminePlan",method:"delete",params:e})}function U(e){return Object(r["a"])({url:"/deviceExaminePlan/pageDeviceExaminePlan",method:"get",params:e})}function T(e){return Object(r["a"])({url:"/deviceExaminePlan/submitRatifyDeviceExaminePlan",method:"post",data:e})}function A(e){return Object(r["a"])({url:"/deviceExaminePlan/exportDeviceExaminePlanDetail",method:"get",responseType:"blob",params:e})}function R(e){return Object(r["a"])({url:"/deviceExaminePlan/delDeviceExaminePlanDetail",method:"delete",params:e})}function q(e){return Object(r["a"])({url:"/deviceExaminePlan/pageDeviceExaminePlanDetail",method:"get",params:e})}function B(e){return Object(r["a"])({url:"/deviceExaminePlan/addDeviceExaminePlanDetail",method:"post",data:e})}function V(e){return Object(r["a"])({url:"/deviceExaminePlan/updateDeviceExaminePlanDetail",method:"post",data:e})}function H(e){return Object(r["a"])({url:"/deviceExaminePlan/ratifyDeviceExaminePlan",method:"post",data:e})}function J(e){return Object(r["a"])({url:"/deviceExaminePlan/exportReviewExamineRecordDetail",method:"get",responseType:"blob",params:e})}function X(e){return Object(r["a"])({url:"/deviceExaminePlan/exportReviewExamineRecordContrast",method:"get",responseType:"blob",params:e})}function G(e){return Object(r["a"])({url:"/deviceExaminePlan/getExamineRecordContrast",method:"get",params:e})}function Y(e){return Object(r["a"])({url:"/deviceExaminePlan/reviewExamineRecordContrast",method:"post",data:e})}function W(e){return Object(r["a"])({url:"/deviceExaminePlan/addExamineRecordContrast",method:"post",data:e})}function Q(e){return Object(r["a"])({url:"/deviceExaminePlan/getExamineRecord",method:"get",params:e})}function K(e){return Object(r["a"])({url:"/deviceExaminePlan/addExamineRecord",method:"post",data:e})}function Z(e){return Object(r["a"])({url:"/deviceExaminePlan/reviewExamineRecord",method:"post",data:e})}function ee(e){return Object(r["a"])({url:"/deviceMaintenancePlan/selectDeviceMaintenancePlanByPage",method:"get",params:e})}function te(e){return Object(r["a"])({url:"/deviceMaintenancePlan/submitReviewMaintenancePlanStatus",method:"post",data:e})}function ae(e){return Object(r["a"])({url:"/deviceMaintenancePlan/getMaintenancePlanDetail",method:"get",params:e})}function re(e){return Object(r["a"])({url:"/deviceMaintenancePlan/addMaintenancePlan",method:"post",data:e})}function ie(e){return Object(r["a"])({url:"/deviceMaintenancePlan/updateMaintenancePlan",method:"post",data:e})}function ne(e){return Object(r["a"])({url:"/deviceMaintenancePlan/exportDeviceMaintenancePlan",method:"get",responseType:"blob",params:e})}function oe(e){return Object(r["a"])({url:"/deviceMaintenancePlan/deleteMaintenancePlan",method:"delete",params:e})}function le(e){return Object(r["a"])({url:"/deviceTraceabilityManagement/selectDeviceTraceabilityManagementByPage",method:"get",params:e})}function ce(e){return Object(r["a"])({url:"/deviceTraceabilityManagement/submitReviewTraceabilityManagementStatus",method:"post",data:e})}function se(e){return Object(r["a"])({url:"/deviceTraceabilityManagement/getTraceabilityManagementDetail",method:"get",params:e})}function ue(e){return Object(r["a"])({url:"/deviceTraceabilityManagement/addTraceabilityManagement",method:"post",data:e})}function de(e){return Object(r["a"])({url:"/deviceTraceabilityManagement/updateTraceabilityManagement",method:"post",data:e})}function me(e){return Object(r["a"])({url:"/deviceTraceabilityManagement/reviewTraceabilityManagementStatus",method:"post",data:e})}function fe(e){return Object(r["a"])({url:"/deviceTraceabilityManagement/exportDeviceTraceabilityManagement",method:"get",responseType:"blob",params:e})}function pe(e){return Object(r["a"])({url:"/deviceTraceabilityManagement/deleteTraceabilityManagement",method:"delete",params:e})}function be(e){return Object(r["a"])({url:"/deviceExternalApply/pageDeviceExternalApply",method:"get",params:e})}function he(e){return Object(r["a"])({url:"/deviceExternalApply/exportDeviceExternalApply",method:"get",responseType:"blob",params:e})}function ve(e){return Object(r["a"])({url:"/deviceExternalApply/delDeviceExternalApply",method:"delete",params:e})}function ge(e){return Object(r["a"])({url:"/deviceExternalApply/getDeviceExternalApply",method:"get",params:e})}function De(e){return Object(r["a"])({url:"/deviceExternalApply/addDeviceExternalApply",method:"post",data:e})}function ye(e){return Object(r["a"])({url:"/deviceRecord/deviceRecordPage",method:"get",params:e})}function xe(e){return Object(r["a"])({url:"/deviceRecord/saveDeviceRecord",method:"post",data:e})}function Oe(e){return Object(r["a"])({url:"/deviceRecord/updateDeviceRecord",method:"post",data:e})}function Pe(e){return Object(r["a"])({url:"/deviceRecord/deleteDeviceRecord",method:"delete",params:e})}function je(e){return Object(r["a"])({url:"/deviceRecord/exportUseRecord",method:"get",responseType:"blob",params:e})}function Se(e){return Object(r["a"])({url:"/deviceDocuments/addDocument",method:"post",data:e})}function ke(e){return Object(r["a"])({url:"/deviceDocuments/updateDocument",method:"post",data:e})}function we(e){return Object(r["a"])({url:"/deviceDocuments/deleteDocumentById",method:"delete",params:e})}function Ce(e){return Object(r["a"])({url:"/deviceAcceptance/pageDeviceAcceptance",method:"get",params:e})}function Ie(e){return Object(r["a"])({url:"/deviceAcceptance/getDeviceAcceptanceFileList",method:"get",params:e})}function Fe(e){return Object(r["a"])({url:"/deviceAcceptance/delDeviceAcceptanceFileList",method:"delete",params:e})}function Me(e){return Object(r["a"])({url:"/deviceAcceptance/exportDeviceAcceptance",method:"get",responseType:"blob",params:e})}function $e(e){return Object(r["a"])({url:"/deviceAcceptance/delDeviceAcceptance",method:"delete",params:e})}function ze(e){return Object(r["a"])({url:"/deviceAcceptance/getDeviceAcceptance",method:"get",params:e})}function Ne(e){return Object(r["a"])({url:"/deviceAcceptance/addDeviceAcceptance",method:"post",data:e})}function _e(e){return Object(r["a"])({url:"/deviceAcceptance/updateDeviceAcceptance",method:"post",data:e})}function Ee(e){return Object(r["a"])({url:"/deviceMetricRecord/deviceMetricRecordPage",method:"get",params:e})}function Le(e){return Object(r["a"])({url:"/deviceMetrics/saveOrUpdateDeviceMetric",method:"post",data:e})}function Ue(e){return Object(r["a"])({url:"/deviceMetricRecord/showDeviceMetricsCopy",method:"get",params:e})}function Te(e){return Object(r["a"])({url:"/deviceMetricRecord/deleteDeviceMetricRecord",method:"delete",params:e})}function Ae(e){return Object(r["a"])({url:"/deviceMetricRecord/deviceMetricRecordExport",method:"get",responseType:"blob",params:e})}function Re(e){return Object(r["a"])({url:"/personBasicInfo/deleteCNASFile",method:"delete",params:e})}function qe(e){return Object(r["a"])({url:"/deviceDocuments/getAllDocuments",method:"get",params:e})}function Be(e){return Object(r["a"])({url:"/deviceScope/exportDeviceFile",method:"get",responseType:"blob",params:e})}function Ve(e){return Object(r["a"])({url:"/deviceMetrics/selectDeviceMetric",method:"get",params:e})}function He(e){return Object(r["a"])({url:"/deviceMetrics/deleteDeviceMetrics",method:"delete",params:e})}function Je(e){return Object(r["a"])({url:"/deviceMaintain/exportMaintenanceRecord",method:"get",responseType:"blob",params:e})}function Xe(e){return Object(r["a"])({url:"/deviceMaintain/deleteDeviceMaintenance",method:"delete",params:e})}function Ge(e){return Object(r["a"])({url:"/deviceMaintain/addDeviceMaintenance",method:"post",data:e})}function Ye(e){return Object(r["a"])({url:"/deviceMaintain/getDeviceMaintenancePage",method:"get",params:e})}function We(e){return Object(r["a"])({url:"/deviceBorrow/saveDeviceBorrow",method:"post",data:e})}function Qe(e){return Object(r["a"])({url:"/deviceBorrow/getDeviceBorrow",method:"get",params:e})}function Ke(e){return Object(r["a"])({url:"/deviceBorrow/deviceBorrowExport",method:"get",responseType:"blob",params:e})}function Ze(e){return Object(r["a"])({url:"/deviceBorrow/deleteDeviceBorrow",method:"delete",params:e})}function et(e){return Object(r["a"])({url:"/deviceBorrow/deviceBorrowPage",method:"get",params:e})}function tt(e){return Object(r["a"])({url:"/deviceState/saveDeviceState",method:"post",data:e})}function at(e){return Object(r["a"])({url:"/deviceScope/selectDeviceByCode",method:"get",params:e})}function rt(e){return Object(r["a"])({url:"/deviceState/exportDeviceStatus",method:"get",responseType:"blob",params:e})}function it(e){return Object(r["a"])({url:"/deviceState/deleteDeviceState",method:"delete",params:e})}function nt(e){return Object(r["a"])({url:"/deviceState/deviceStateExport",method:"get",responseType:"blob",params:e})}function ot(e){return Object(r["a"])({url:"/deviceState/getDeviceStatePage",method:"get",params:e})}function lt(e){return Object(r["a"])({url:"/deviceScrapped/pageDeviceScrapped",method:"get",params:e})}function ct(e){return Object(r["a"])({url:"/deviceScrapped/exportDeviceScrapped",method:"get",responseType:"blob",params:e})}function st(e){return Object(r["a"])({url:"/deviceScrapped/delDeviceScrapped",method:"delete",params:e})}function ut(e){return Object(r["a"])({url:"/deviceScrapped/getDeviceScrapped",method:"get",params:e})}function dt(e){return Object(r["a"])({url:"/deviceScrapped/addDeviceScrapped",method:"post",data:e})}function mt(e){return Object(r["a"])({url:"/deviceBreakdownMaintenance/pageDeviceBreakdownMaintenance",method:"get",params:e})}function ft(e){return Object(r["a"])({url:"/deviceBreakdownMaintenance/exportDeviceBreakdownMaintenance",method:"get",responseType:"blob",params:e})}function pt(e){return Object(r["a"])({url:"/deviceBreakdownMaintenance/delDeviceBreakdownMaintenance",method:"delete",params:e})}function bt(e){return Object(r["a"])({url:"/deviceBreakdownMaintenance/getDeviceBreakdownMaintenance",method:"get",params:e})}function ht(e){return Object(r["a"])({url:"/deviceBreakdownMaintenance/addDeviceBreakdownMaintenance",method:"post",data:e})}function vt(e){return Object(r["a"])({url:"/deviceInspectionRecord/getDeviceInspectionRecordByPage",method:"get",params:e})}function gt(e){return Object(r["a"])({url:"/deviceInspectionRecord/exportDeviceInspectionRecord",method:"get",responseType:"blob",params:e})}function Dt(e){return Object(r["a"])({url:"/deviceInspectionRecord/deleteDeviceInspectionRecord",method:"delete",params:e})}function yt(e){return Object(r["a"])({url:"/deviceInspectionRecord/getDeviceInspectionRecord",method:"get",params:e})}function xt(e){return Object(r["a"])({url:"/deviceInspectionRecord/addDeviceInspectionRecord",method:"post",data:e})}function Ot(e){return Object(r["a"])({url:"/deviceInspectionRecord/updateDeviceInspectionRecord",method:"post",data:e})}function Pt(e){return Object(r["a"])({url:"/deviceInspectionRecord/reviewDeviceInspectionRecord",method:"post",data:e})}function jt(e){return Object(r["a"])({url:"/deviceAccidentReport/pageDeviceAccidentReport",method:"get",params:e})}function St(e){return Object(r["a"])({url:"/deviceAccidentReport/exportDeviceAccidentReport",method:"get",responseType:"blob",params:e})}function kt(e){return Object(r["a"])({url:"/deviceAccidentReport/delDeviceAccidentReport",method:"delete",params:e})}function wt(e){return Object(r["a"])({url:"/deviceAccidentReport/getDeviceAccidentReport",method:"get",params:e})}function Ct(e){return Object(r["a"])({url:"/deviceAccidentReport/addDeviceAccidentReport",method:"post",data:e})}function It(e){return Object(r["a"])({url:"/deviceInstruction/approvalOfHomeworkInstructionManual",method:"post",data:e})}function Ft(e){return Object(r["a"])({url:"/deviceInstruction/homeworkGuidebook",method:"delete",params:e})}function Mt(e){return Object(r["a"])({url:"/deviceInstruction/homeworkGuidebookEditor",method:"get",params:e})}function $t(e){return Object(r["a"])({url:"/deviceInstruction/newHomeworkGuidebookAdded",method:"post",data:e})}function zt(e){return Object(r["a"])({url:"/deviceInstruction/deleteHomeworkGuidebook",method:"delete",params:e})}function Nt(e){return Object(r["a"])({url:"/deviceInstruction/pageByPageQueryOfHomeworkInstructions",method:"get",params:e})}function _t(e){return Object(r["a"])({url:"/deviceScope/getDeviceById",method:"get",params:e})}},b558:function(e,t,a){"use strict";a.d(t,"v",(function(){return i})),a.d(t,"A",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"z",(function(){return l})),a.d(t,"y",(function(){return c})),a.d(t,"w",(function(){return s})),a.d(t,"i",(function(){return u})),a.d(t,"n",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"u",(function(){return p})),a.d(t,"g",(function(){return b})),a.d(t,"j",(function(){return h})),a.d(t,"p",(function(){return v})),a.d(t,"o",(function(){return g})),a.d(t,"d",(function(){return D})),a.d(t,"D",(function(){return y})),a.d(t,"l",(function(){return x})),a.d(t,"t",(function(){return O})),a.d(t,"C",(function(){return P})),a.d(t,"b",(function(){return j})),a.d(t,"x",(function(){return S})),a.d(t,"s",(function(){return k})),a.d(t,"h",(function(){return w})),a.d(t,"k",(function(){return C})),a.d(t,"f",(function(){return I})),a.d(t,"r",(function(){return F})),a.d(t,"m",(function(){return M})),a.d(t,"q",(function(){return $})),a.d(t,"B",(function(){return z}));var r=a("b775");function i(e){return Object(r["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:e})}function n(e){return Object(r["a"])({url:"/insOrderPlan/updateProductOnPlan",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/insOrderPlan/claimInsOrderPlan",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/insOrderPlan/upPlanUser2",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/insOrderPlan/upPlanUser",method:"post",params:e})}function s(e){return Object(r["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/insOrderPlan/getBindingProductByProductId",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/insOrderPlan/getProductTreeByProductId",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/insOrderPlan/bindingProductTreeByProductId",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/insOrderPlan/delProductTreeByProductId",method:"delete",params:e})}function p(e){return Object(r["a"])({url:"/insOrderPlan/selectInsOrderPlanList",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/insOrderPlan/doInsOrder",method:"get",params:e})}function h(e){return Object(r["a"])({url:"/insOrderPlan/getCableTag",method:"get",params:e})}function v(e){return Object(r["a"])({url:"/insOrderPlan/getRepetitionTag",method:"get",params:e})}function g(e){return Object(r["a"])({url:"/insOrderPlan/getRawMaterialTag",method:"get",params:e})}function D(e){return Object(r["a"])({url:"/deviceScope/dataCollection",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/insOrderPlan/write",method:"post",data:e})}function x(e){return Object(r["a"])({url:"/insOrderPlan/getInsProduct",method:"get",params:e})}function O(e){return Object(r["a"])({url:"/deviceScope/search",method:"get",params:e})}function P(e){return Object(r["a"])({url:"/insOrderPlan/verifyPlan",method:"post",params:e})}function j(e){return Object(r["a"])({url:"/insOrderPlan/checkSubmitPlan",method:"post",params:e})}function S(e){return Object(r["a"])({url:"/insOrderPlan/submitPlan",method:"post",params:e})}function k(e){return Object(r["a"])({url:"/insOrderPlan/saveInsContext",method:"post",data:e})}function w(e){return Object(r["a"])({url:"/insOrderPlan/downFile",method:"get",params:e})}function C(e){return Object(r["a"])({url:"/insOrderPlan/getFileList",method:"get",params:e})}function I(e){return Object(r["a"])({url:"/insOrderPlan/delfile",method:"delete",params:e})}function F(e){return Object(r["a"])({url:"/insOrderPlan/inspectionOrderDetailsTaskSwitching",method:"get",params:e})}function M(e){return Object(r["a"])({url:"/insOrderPlan/getInsProductUnqualifiedRetest",method:"get",params:e})}function $(e){return Object(r["a"])({url:"/insOrderPlan/getWorkingHoursByOrderId",method:"get",params:e})}function z(e){return Object(r["a"])({url:"/insOrderPlan/updateWorkingHours",method:"post",data:e})}},ba38:function(e,t,a){},d18d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-acquisition-config"},[a("div",[a("el-row",{staticClass:"title"},[a("el-col",{staticStyle:{"padding-left":"20px","text-align":"left"},attrs:{span:6}},[e._v("数采配置")]),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:18}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.fileConfiguration}},[e._v("文件配置")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addItem}},[e._v("检验项新增")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$parent.closeDataVue()}}},[a("span",{staticStyle:{color:"#3A7BFA"}},[e._v("返回")])])],1)],1)],1),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:e.tableList.slice((e.page.current-1)*e.page.size,e.page.current*e.page.size),"header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:"","tooltip-effect":"dark",height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"65"}}),a("el-table-column",{attrs:{prop:"deviceName",align:"center","min-width":"100",label:"设备名称"}}),a("el-table-column",{attrs:{prop:"sample",align:"center",label:"检验对象","show-overflow-tooltip":"","min-width":"150"}}),a("el-table-column",{attrs:{prop:"inspectionItemClass",align:"center",label:"检验项分类","min-width":"120"}}),a("el-table-column",{attrs:{prop:"inspectionItem",align:"center",label:"检验项","min-width":"100"}}),a("el-table-column",{attrs:{prop:"inspectionItemSubclass",align:"center",label:"检验子项","min-width":"100"}}),a("el-table-column",{attrs:{prop:"referx",align:"center",label:"参照X","min-width":"100"}}),a("el-table-column",{attrs:{prop:"x",align:"center",label:"X"}}),a("el-table-column",{attrs:{prop:"refery",align:"center",label:"参照Y","min-width":"100"}}),a("el-table-column",{attrs:{prop:"y",align:"center",label:"Y"}}),a("el-table-column",{attrs:{prop:"anotherName",align:"center",label:"别名","min-width":"100"}}),a("el-table-column",{attrs:{prop:"matchingName",align:"center",label:"匹配名称","min-width":"100"}}),a("el-table-column",{attrs:{prop:"formula",align:"center",label:"公式"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.dataConfig(t.row)}}},[e._v("数采配置")])]}}])})],1)],1),e.tableList.length>0?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.page.current,"page-sizes":[10,20,30,50,100],"page-size":e.page.size,layout:"total, sizes, prev, pager, next, jumper",total:e.tableList.length},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1):e._e(),a("el-dialog",{attrs:{title:"数采配置",visible:e.dialogVisible3,width:"920px","before-close":e.closeForm},on:{"update:visible":function(t){e.dialogVisible3=t}}},[a("el-form",{ref:"configForm",staticClass:"demo-ruleForm",attrs:{model:e.configForm,"label-position":"top",size:"small","label-width":"100px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.domains,height:"300","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getIndexWithAlphabet(t.$index))+" ")]}}])}),a("el-table-column",{attrs:{prop:"referx",label:"参照X","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.referx,callback:function(a){e.$set(t.row,"referx",a)},expression:"scope.row.referx"}})]}}])}),a("el-table-column",{attrs:{prop:"x",label:"X","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.x,callback:function(a){e.$set(t.row,"x",a)},expression:"scope.row.x"}})]}}])}),a("el-table-column",{attrs:{prop:"refery",label:"参照Y","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.refery,callback:function(a){e.$set(t.row,"refery",a)},expression:"scope.row.refery"}})]}}])}),a("el-table-column",{attrs:{prop:"y",label:"Y","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.y,callback:function(a){e.$set(t.row,"y",a)},expression:"scope.row.y"}})]}}])}),a("el-table-column",{attrs:{prop:"anotherName",label:"别名","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.anotherName,callback:function(a){e.$set(t.row,"anotherName",a)},expression:"scope.row.anotherName"}})]}}])}),a("el-table-column",{attrs:{prop:"matchingName",label:"匹配名称","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.matchingName,callback:function(a){e.$set(t.row,"matchingName",a)},expression:"scope.row.matchingName"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return a.preventDefault(),e.removeDomain(t.row)}}},[e._v("删除")]),a("el-button",{attrs:{size:"small",type:"text"},on:{click:e.addDomain}},[e._v("新增")])]}}])})],1),a("div",{staticClass:"fomItem2"},[a("el-form-item",{staticClass:"fomItemInput1",scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" 公式： "),e._l(e.formulas,(function(t,r){return a("el-tooltip",{key:r,staticClass:"itemFomItem",attrs:{effect:"dark",content:t.content,placement:"top"}},[a("label",[e._v(e._s(t.label)+"()")])])})),a("el-input",{attrs:{type:"textarea","autosi:autosize":"{ minRows: 2, maxRows: 4}",ze:"",placeholder:"请输入内容"},on:{change:e.evalResult},model:{value:e.configForm.formula,callback:function(t){e.$set(e.configForm,"formula",t)},expression:"configForm.formula"}})]}}])})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:e.closeForm}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.upLoad3},on:{click:e.submitForm3}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{title:"文件配置",visible:e.dialogVisible4,width:"400px"},on:{"update:visible":function(t){e.dialogVisible4=t}}},[a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("IP： ")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.ip,callback:function(t){e.$set(e.configForm,"ip",t)},expression:"configForm.ip"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("采集地址： ")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.collectUrl,callback:function(t){e.$set(e.configForm,"collectUrl",t)},expression:"configForm.collectUrl"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[e._v("储存地址：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.storageUrl,callback:function(t){e.$set(e.configForm,"storageUrl",t)},expression:"configForm.storageUrl"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("文件后缀： ")]),a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.configForm.fileType,callback:function(t){e.$set(e.configForm,"fileType",t)},expression:"configForm.fileType"}},e._l(e.fileTypeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[e._v("委托字段：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.entrustCode,callback:function(t){e.$set(e.configForm,"entrustCode",t)},expression:"configForm.entrustCode"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[e._v("样品字段：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.sampleCode,callback:function(t){e.$set(e.configForm,"sampleCode",t)},expression:"configForm.sampleCode"}})],1),a("div",{staticClass:"search_thing",staticStyle:{"margin-bottom":"14px"}},[a("div",{staticClass:"search_label"},[e._v("文件名称：")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.configForm.dbFileName,callback:function(t){e.$set(e.configForm,"dbFileName",t)},expression:"configForm.dbFileName"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:function(t){e.dialogVisible4=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.upLoad4},on:{click:e.submitForm4}},[e._v("确 定")])],1)],1)]),a("el-dialog",{attrs:{title:"添加检验项",visible:e.dialogVisible5,width:"1000px"},on:{"update:visible":function(t){e.dialogVisible5=t}}},[a("lims-table",{attrs:{tableData:e.tableData5,column:e.column5,isSelection:!0,handleSelectionChange:e.selectMethod,height:"540",page:e.page5,tableLoading:e.tableLoading5},on:{pagination:e.pagination5}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible5=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.loading5},on:{click:e.submitForm5}},[e._v("保 存")])],1)],1)],1)},i=[],n=a("5530"),o=(a("caad"),a("a15b"),a("14d9"),a("fb6a"),a("a434"),a("a9e3"),a("d3b7"),a("07ac"),a("2532"),a("498a"),a("0643"),a("76d6"),a("4e3e"),a("159b"),a("abac")),l=a("00d5"),c={name:"dataAcquisitionConfig",components:{limsTable:l["a"]},props:{deviceId:{type:Number,default:function(){return[]}}},data:function(){return{formulas:[{label:"MAX",content:"求参数最大值，参数个数最少两个，如：MAX(A1,B2)"},{label:"MIN",content:"求参数最小值，参数个数最少两个，如：MIN(A1,B2)"},{label:"SUM",content:"求和，参数个数最少两个，如：SUM(A1,B2)"},{label:"ABS",content:"求绝对值，参数个数最少一个，如：ABS(A1)"},{label:"AVERAGE",content:"求平均值，参数个数最少两个个，如：AVERAGE(A1,B2)"},{label:"MEDIAN",content:"求中值，参数个数最少两个个，如：MEDIAN(A1,B2)"}],dialogVisible4:!1,tableList:[],page:{current:1,size:20},dialogVisible3:!1,configForm:{formula:"",collectUrl:"",storageUrl:"",entrustCode:"",sampleCode:"",dbFileName:"",fiberOpticRibbon:""},domains:[{referx:"",refery:"",x:"",y:"",anotherName:"",matchingName:""}],upLoad3:!1,upLoad4:!1,fileTypeOptions:[{label:"csv",value:".csv"},{label:"db",value:".db"},{label:"mdb",value:".mdb"},{label:"word",value:".docx"},{label:"excel",value:".xlsx"},{label:"txt",value:".txt"},{label:"png",value:".png"}],spanList:[],specialSpanList:[],spanConfig:{special:{main:"inspectionItemSubclass",rows:[{name:"deviceName",index:1},{name:"fileType",index:2},{name:"collectUrl",index:3},{name:"storageUrl",index:4},{name:"ip",index:5},{name:"inspectionItem",index:6},{name:"inspectionItemSubclass",index:7},{name:"formula",index:13},{name:"section",index:14}]}},deleteList:[],tableData5:[],column5:[{label:"样品名称",prop:"sample"},{label:"检验项分类",prop:"inspectionItemClass"},{label:"检验项",prop:"inspectionItem"},{label:"检验子项",prop:"inspectionItemSubclass"}],page5:{total:0,size:20,current:1},tableLoading5:!1,dialogVisible5:!1,loading5:!1,multipleSelection:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this;Object(o["ac"])({deviceId:this.deviceId}).then((function(t){e.tableList=t.data,e.tableList.forEach((function(t){var a=!1;t.formula&&""!=t.formula&&e.formulas.forEach((function(e){t.formula.includes(e.label)&&(a=!0)})),!a&&t.formula&&(t.formula=t.formula.slice(1,-1))}))}))},getIndexWithAlphabet:function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=e%26;return t.charAt(a)+(e+1)},addItem:function(){this.dialogVisible5=!0,this.getList5()},getList5:function(){var e=this;this.tableLoading5=!0,Object(o["Jb"])(Object(n["a"])({deviceId:this.deviceId},this.page5)).then((function(t){e.tableLoading5=!1,e.tableData5=t.data.records,e.page5.total=t.data.total})).catch((function(t){e.tableLoading5=!1}))},pagination5:function(e){this.page5.size=e.limit,this.getList5()},selectMethod:function(e){this.multipleSelection=e},submitForm5:function(){var e=this;this.loading5=!0,Object(o["ic"])({deviceId:this.deviceId,dataConfigList:this.multipleSelection}).then((function(t){e.loading5=!1,e.dialogVisible5=!1,e.init(),e.$message.success("添加成功")})).catch((function(t){e.loading5=!1}))},fileConfiguration:function(){this.dialogVisible4=!0,this.getInfo()},getInfo:function(){var e=this;Object(o["vb"])({deviceId:this.deviceId}).then((function(t){e.$set(e.configForm,"fileType",t.data.fileType),e.$set(e.configForm,"collectUrl",t.data.collectUrl),e.$set(e.configForm,"storageUrl",t.data.storageUrl),e.$set(e.configForm,"ip",t.data.ip),e.$set(e.configForm,"entrustCode",t.data.entrustCode),e.$set(e.configForm,"sampleCode",t.data.sampleCode),e.$set(e.configForm,"dbFileName",t.data.dbFileName),e.$set(e.configForm,"fiberOpticRibbon",t.data.fiberOpticRibbon)}))},submitForm4:function(){var e=this,t=Object.assign({deviceId:this.deviceId,fileType:this.configForm.fileType,collectUrl:this.configForm.collectUrl,storageUrl:this.configForm.storageUrl,ip:this.configForm.ip,entrustCode:this.configForm.entrustCode,sampleCode:this.configForm.sampleCode,dbFileName:this.configForm.dbFileName,fiberOpticRibbon:this.configForm.fiberOpticRibbon});this.upLoad4=!0,Object(o["kc"])(Object(n["a"])({deviceId:this.deviceId},t)).then((function(t){200==t.code&&(e.dialogVisible4=!1,e.init(),e.$message.success("操作成功")),e.upLoad4=!1})).catch((function(t){e.upLoad4=!1}))},dataConfig:function(e){var t=this;this.configForm={deviceId:e.deviceId,inspectionItem:e.inspectionItem.trim(),inspectionItemSubclass:e.inspectionItemSubclass,structureItemParameterId:e.structureItemParameterId,inspectionItemClass:e.inspectionItemClass},this.dialogVisible3=!0,Object(o["bc"])({deviceId:this.deviceId,inspectionItem:e.inspectionItem.trim(),isDevice:!0,inspectionItemSubclass:e.inspectionItemSubclass.trim(),inspectionItemClass:e.inspectionItemClass.trim(),structureItemParameterId:e.structureItemParameterId}).then((function(e){var a=e.data;if(a[0]){t.domains.splice(0,1);var r=a[0].formula,i=!1;if(r&&""!=r)for(var n in t.formulas)r.includes(t.formulas[n].label)&&(i=!0);if(!i&&r){var o=r.slice(1,-1);t.$set(t.configForm,"formula",o)}else t.$set(t.configForm,"formula",a[0].formula);a.forEach((function(e){t.domains.push({referx:e.referx,refery:e.refery,x:e.x,y:e.y,anotherName:e.anotherName,matchingName:e.matchingName,id:e.id})}))}}))},submitForm3:function(){var e=this;this.$refs.configForm.validate((function(t){if(!t)return!1;e.domains.forEach((function(t){var a=Object.values(t).every((function(e){return""===e}));a&&e.$message.error("请填写参照数据")})),e.domains.forEach((function(t,a){var r=!1;if(e.configForm.formula&&""!==e.configForm.formula)for(var i in e.formulas)e.configForm.formula.includes(e.formulas[i].label)&&(r=!0);!1===r&&""!==e.configForm.formula&&void 0!==e.configForm.formula?t.formula="("+e.configForm.formula+")":t.formula=e.configForm.formula,t.deviceId=e.deviceId,t.inspectionItem=e.configForm.inspectionItem,t.inspectionItemSubclass=e.configForm.inspectionItemSubclass,t.structureItemParameterId=e.configForm.structureItemParameterId,t.inspectionItemClass=e.configForm.inspectionItemClass,t.serialNumber=e.getIndexWithAlphabet(a)})),Object(o["ic"])({deviceId:e.deviceId,dataConfigList:e.domains,isDevice:!1}).then((function(t){e.dialogVisible3=!1,e.domains=[{referx:"",refery:"",x:"",y:"",id:""}],e.deleteList.length>0&&Object(o["F"])({ids:e.deleteList.join()}).then((function(t){200==t.code&&e.init()})),e.init(),e.$message.success("添加成功")}))}))},removeDomain:function(e){var t=this.domains.indexOf(e);-1!==t&&this.domains.length>1?e.id?(this.deleteList.push(e.id),this.domains.splice(t,1)):this.domains.splice(t,1):this.$message.error("不允许删除最后一条数据！")},addDomain:function(){this.domains.push({referx:"",refery:"",x:"",y:"",id:""})},evalResult:function(e){this.configForm.formula=e},sizeChange:function(e){this.page.size=e},currentChange:function(e){this.page.current=e},closeForm:function(){this.deleteList=[],this.domains=[{referx:"",refery:"",x:"",y:"",id:""}],this.dialogVisible3=!1,this.$refs.configForm.resetFields()}}},s=c,u=(a("eb3a"),a("2877")),d=Object(u["a"])(s,r,i,!1,null,"0192d9ca",null);t["default"]=d.exports},eb3a:function(e,t,a){"use strict";a("ba38")}}]);