(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58c1939c"],{"09fe":function(e,t,a){},"0e9a":function(e,t,a){"use strict";var l=a("c14f"),i=a("1da1"),r=(a("c19f"),a("ace4"),a("2c66"),a("249d"),a("40e9"),a("d3b7"),a("ac1f"),a("5319"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("6ce5"),a("2834"),a("72f7"),a("4ea1"),a("c343")),n=a("acff"),s=a("2b0e");t["a"]={convertFileToHtml:function(e){return Object(i["a"])(Object(l["a"])().m((function t(){var a,n;return Object(l["a"])().w((function(t){while(1)switch(t.n){case 0:return a=new XMLHttpRequest,a.open("GET",s["default"].prototype.javaApi+e,!0),a.send(),a.responseType="blob",n=new Promise((function(e,t){a.onload=Object(i["a"])(Object(l["a"])().m((function t(){var n,s,o,c,d;return Object(l["a"])().w((function(t){while(1)switch(t.n){case 0:if(200!==this.status){t.n=2;break}return n=new Blob([this.response],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),s=new FileReader,s.readAsArrayBuffer(n),o=new Promise((function(e,t){s.onload=Object(i["a"])(Object(l["a"])().m((function t(){var i,n,s;return Object(l["a"])().w((function(t){while(1)switch(t.n){case 0:return i=a.response,t.n=1,Object(r["convertToHtml"])({arrayBuffer:i});case 1:n=t.v,s=n.value.replace(//g,"").replace("<h1>",'<h1 style="text-align: center;">').replace(/<table>/g,'<table style="border-collapse: collapse;border: 1px solid #000;">').replace(/<tr>/g,'<tr style="height: 30px;">').replace(/<td>/g,'<td style="border: 1px solid #000;">').replace(/<p>/g,'<p style="text-indent: 2em;">').replace(/<a [^>]*>/g,"").replace(/<\/a>/g,""),e(s);case 2:return t.a(2)}}),t)})))})),c=e,t.n=1,o;case 1:d=t.v,c(d);case 2:return t.a(2)}}),t,this)})))})),t.n=1,n;case 1:return t.a(2,t.v)}}),t)})))()},downloadIamge:function(e,t){var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var l=e.getContext("2d");l.drawImage(a,0,0,a.width,a.height);var i=e.toDataURL("image/png"),r=document.createElement("a"),n=new MouseEvent("click");r.download=t||"photo",r.href=i,r.dispatchEvent(n)},a.src=e},compressBlob:function(e){var t=new FileReader;return t.readAsArrayBuffer(e),new Promise((function(a){t.onload=function(){var l=t.result,i=new Uint8Array(l),r=n["a"].deflate(i),s=new Blob([r],{type:e.type});a(s)}}))}}},"167d":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"right","margin-bottom":"10px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.downPerson}},[e._v("下载档案")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("人员分类")]),a("el-button",{attrs:{loading:e.saveLoading,size:"small",type:"primary"},on:{click:e.save}},[e._v("保存")])],1),a("div",[a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("div",{staticStyle:{width:"12em"}},[a("el-image",{staticStyle:{width:"100%",height:"300px",border:"1px solid #000","border-radius":"10px","margin-left":"6px","margin-top":"10px"},attrs:{src:e.javaApi+"/img/"+e.form.pictureUrl,fit:"fill"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"40px"}})])]),a("el-image",{staticStyle:{width:"80%",height:"50px",border:"1px solid #000","border-radius":"10px","margin-left":"22px","margin-top":"20px"},attrs:{src:e.javaApi+"/img/"+e.form.signatureUrl,fit:"fill"}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"40px"}})])])],1),a("div",{staticStyle:{height:"calc(100vh - 14em)","overflow-y":"auto"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:"",clearable:"",size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{attrs:{disabled:"",clearable:"",size:"small"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"当前状态"}},[a("el-radio-group",{model:{value:e.form.currentState,callback:function(t){e.$set(e.form,"currentState",t)},expression:"form.currentState"}},[a("el-radio",{attrs:{label:"1formal",size:"mini"}},[e._v("正式")]),a("el-radio",{attrs:{label:"2intern",size:"mini"}},[e._v("实习")]),a("el-radio",{attrs:{label:"3leaveOffice",size:"mini"}},[e._v("离职")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"1",size:"mini"}},[e._v("男")]),a("el-radio",{attrs:{label:"0",size:"mini"}},[e._v("女")])],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"公司名称"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.corporateName,callback:function(t){e.$set(e.form,"corporateName",t)},expression:"form.corporateName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所属部门"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.department,props:{label:"name",value:"id",checkStrictly:!0},filterable:""},model:{value:e.form.departLimsId,callback:function(t){e.$set(e.form,"departLimsId",t)},expression:"form.departLimsId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"岗位名称"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"入集团时间"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.groupTime,callback:function(t){e.$set(e.form,"groupTime",t)},expression:"form.groupTime"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"劳动关系"}},[a("el-radio-group",{model:{value:e.form.laborRelations,callback:function(t){e.$set(e.form,"laborRelations",t)},expression:"form.laborRelations"}},[a("el-radio",{attrs:{label:0,size:"mini"}},[e._v("合同工")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"公司邮箱"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作时间"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.workingTime,callback:function(t){e.$set(e.form,"workingTime",t)},expression:"form.workingTime"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"合同到期时间"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.contractLifeTime,callback:function(t){e.$set(e.form,"contractLifeTime",t)},expression:"form.contractLifeTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职称"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.professionalTitle,callback:function(t){e.$set(e.form,"professionalTitle",t)},expression:"form.professionalTitle"}})],1)],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:16}},[a("el-form-item",{attrs:{label:"人员分类"}},[a("span",{staticStyle:{color:"#000"}},[e._v(e._s(e.form.personnelClassification))])])],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生日期"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:e.getAge},model:{value:e.form.dateBirth,callback:function(t){e.$set(e.form,"dateBirth",t)},expression:"form.dateBirth"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"籍贯"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.nativePlace,callback:function(t){e.$set(e.form,"nativePlace",t)},expression:"form.nativePlace"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"民族"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.nation,callback:function(t){e.$set(e.form,"nation",t)},expression:"form.nation"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.identityCard,callback:function(t){e.$set(e.form,"identityCard",t)},expression:"form.identityCard"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"年龄"}},[a("el-input-number",{staticStyle:{width:"99%"},attrs:{max:130,min:1,"controls-position":"right",size:"small"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"婚姻状况"}},[a("el-radio-group",{model:{value:e.form.maritalStatus,callback:function(t){e.$set(e.form,"maritalStatus",t)},expression:"form.maritalStatus"}},[a("el-radio",{attrs:{label:0,size:"mini"}},[e._v("已婚")]),a("el-radio",{attrs:{label:1,size:"mini"}},[e._v("未婚")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件有效期"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.validityPeriod,callback:function(t){e.$set(e.form,"validityPeriod",t)},expression:"form.validityPeriod"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件地址"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.idAddress,callback:function(t){e.$set(e.form,"idAddress",t)},expression:"form.idAddress"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件详细地址"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.idDetailAddress,callback:function(t){e.$set(e.form,"idDetailAddress",t)},expression:"form.idDetailAddress"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"政治面貌"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.politicalStatus,callback:function(t){e.$set(e.form,"politicalStatus",t)},expression:"form.politicalStatus"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"入党/团时间"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.dumplingTime,callback:function(t){e.$set(e.form,"dumplingTime",t)},expression:"form.dumplingTime"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"最高学历"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.officialAcademicRedentials,callback:function(t){e.$set(e.form,"officialAcademicRedentials",t)},expression:"form.officialAcademicRedentials"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"最高学位"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.highestDegree,callback:function(t){e.$set(e.form,"highestDegree",t)},expression:"form.highestDegree"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"毕业院校1"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.graduatedInstitutions1,callback:function(t){e.$set(e.form,"graduatedInstitutions1",t)},expression:"form.graduatedInstitutions1"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"专业1"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.major1,callback:function(t){e.$set(e.form,"major1",t)},expression:"form.major1"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"毕业时间1"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.graduationTime1,callback:function(t){e.$set(e.form,"graduationTime1",t)},expression:"form.graduationTime1"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"毕业院校2"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.graduatedInstitutions2,callback:function(t){e.$set(e.form,"graduatedInstitutions2",t)},expression:"form.graduatedInstitutions2"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"专业2"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.major2,callback:function(t){e.$set(e.form,"major2",t)},expression:"form.major2"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"毕业时间2"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.graduationTime2,callback:function(t){e.$set(e.form,"graduationTime2",t)},expression:"form.graduationTime2"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"登记时间"}},[a("el-date-picker",{staticStyle:{width:"99%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.lastUpdateTime,callback:function(t){e.$set(e.form,"lastUpdateTime",t)},expression:"form.lastUpdateTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",clearable:"",size:"small"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"个人照片"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.form.pictureUrl,callback:function(t){e.$set(e.form,"pictureUrl",t)},expression:"form.pictureUrl"}},[e.form.pictureUrl?a("el-button",{attrs:{slot:"append",icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteFile(e.form.pictureUrl,"pictureUrl")}},slot:"append"}):e._e()],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-upload",{ref:"upload",staticStyle:{float:"left",margin:"0 10px 0 10px"},attrs:{action:e.action,headers:e.uploadHeader,"on-success":function(t,a,l){return e.onSuccess(t,a,l,"pictureUrl")},"show-file-list":!1}},[a("el-button",{staticClass:"uploadFile",attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[e._v("上传")])],1),e.form.pictureUrl?a("el-button",{staticClass:"uploadFile",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.downloadFile(e.form.pictureUrl)}}},[e._v("下载")]):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"电子签名"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.form.signatureUrl,callback:function(t){e.$set(e.form,"signatureUrl",t)},expression:"form.signatureUrl"}},[e.form.signatureUrl?a("el-button",{attrs:{slot:"append",icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteFile(e.form.signatureUrl,"signatureUrl")}},slot:"append"}):e._e()],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-upload",{ref:"upload",staticStyle:{float:"left",margin:"0 10px 0 10px"},attrs:{action:e.action,headers:e.uploadHeader,"on-success":function(t,a,l){return e.onSuccess(t,a,l,"signatureUrl")},"show-file-list":!1}},[a("el-button",{staticClass:"uploadFile",attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("上传")])],1),e.form.signatureUrl?a("el-button",{staticClass:"uploadFile",attrs:{size:"small",type:"primary"},on:{click:function(t){return e.downloadFile(e.form.signatureUrl)}}},[e._v("下载")]):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"证书资料"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{float:"right","margin-right":"25px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.annexAdd(0)}}},[e._v("新增")])],1)],1),a("lims-table",{staticStyle:{width:"96%","margin-left":"34px"},attrs:{tableData:e.annexList,column:e.columnData2,height:"200",tableLoading:e.tableLoading2}}),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"附件资料"}})],1),a("el-col",{attrs:{span:4}},[a("el-upload",{ref:"upload",staticStyle:{width:"80px !important"},attrs:{action:e.fileAction,"auto-upload":!0,data:{userId:e.clickNodeVal.userId},"before-upload":e.fileBeforeUpload,headers:e.uploadHeader,"on-error":e.onError,"on-success":e.handleSuccessUp,"show-file-list":!1,accept:".jpg,.jpeg,.png,.gif,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.zip,.rar"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("附件上传")])],1)],1)],1),a("lims-table",{staticStyle:{width:"96%",float:"right"},attrs:{tableData:e.tableData,column:e.columnData,height:"200",tableLoading:e.tableLoading}}),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"工作经历"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{float:"right","margin-right":"25px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.annexAdd1("add")}}},[e._v("新增")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading1,expression:"tableLoading1"}],staticStyle:{width:"96%",float:"right"},attrs:{data:e.tableData1,border:"",height:"200","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"55px",align:"center"}}),a("el-table-column",{attrs:{label:"工作经历",prop:"workExperience"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.annexAdd1("edit",t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.deleteAnnex1(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)])]),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"提示",width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t},open:e.getComparisonList}},[a("div",{staticStyle:{height:"30vh"}},[a("el-row",[a("el-col",{attrs:{span:4}},[e._v(" 人员分类： ")]),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:20}},[a("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.dict.type.personnl_type,(function(e){return a("el-checkbox",{key:e.value,attrs:{label:e.value}})})),1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.clickPersonnelClassificationSure}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{"before-close":e.handleClose,title:e.title,visible:e.dialogVisible1,width:"40%"},on:{"update:visible":function(t){e.dialogVisible1=t},open:e.getComparisonList}},[a("el-form",{ref:"annex",attrs:{model:e.annex,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"证件号",prop:"idNumber"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"small"},model:{value:e.annex.idNumber,callback:function(t){e.$set(e.annex,"idNumber",t)},expression:"annex.idNumber"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"发证单位",prop:"issueUnit"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.annex.issueUnit,callback:function(t){e.$set(e.annex,"issueUnit",t)},expression:"annex.issueUnit"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"级别",prop:"level"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.annex.level,callback:function(t){e.$set(e.annex,"level",t)},expression:"annex.level"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"有效期",prop:"periodValidity"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.annex.periodValidity,callback:function(t){e.$set(e.annex,"periodValidity",t)},expression:"annex.periodValidity"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"复印件",prop:"copy"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.annex.copy,callback:function(t){e.$set(e.annex,"copy",t)},expression:"annex.copy"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"原件",prop:"original"}},[a("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.annex.original,callback:function(t){e.$set(e.annex,"original",t)},expression:"annex.original"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"文件"}},[a("el-upload",{ref:"fileName",attrs:{action:e.action,"before-upload":e.beforeAvatarUpload,headers:e.uploadHeader,"on-success":function(t,a,l){return e.onSuccess(t,a,l,"fileName")},"show-file-list":!1}},[e.annex.fileName?a("span",[e._v(e._s(e.annex.fileName))]):a("i",{staticClass:"el-icon-upload avatar-uploader-icon"})])],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancellation}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加工作经历",visible:e.dialogVisible2,width:"40%"},on:{close:e.handleClose2,"update:visible":function(t){e.dialogVisible2=t}}},[a("el-form",{ref:"annex2",attrs:{model:e.annex2,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"工作经历",prop:"idNumber"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",clearable:"",size:"small"},model:{value:e.annex2.workExperience,callback:function(t){e.$set(e.annex2,"workExperience",t)},expression:"annex2.workExperience"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose2}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm2}},[e._v("确 定")])],1)],1)],1)},i=[],r=a("c14f"),n=a("1da1"),s=(a("4de4"),a("a15b"),a("d81d"),a("14d9"),a("a434"),a("a9e3"),a("b64b"),a("d3b7"),a("ac1f"),a("00b4"),a("498a"),a("0643"),a("2382"),a("a573"),a("0e9a")),o=a("cfb9"),c=a("00d5"),d={props:{clickNodeVal:{type:Object,default:function(){return{}}}},dicts:["personnl_type"],data:function(){var e=this;return{operationType:"",basicInfoWorkId:"",dialogVisible2:!1,annex2:{workExperience:""},tableLoading:!1,tableData:[],columnData:[{label:"文件名称",prop:"fileName",minWidth:"150px"},{dataType:"action",minWidth:"100",label:"操作",fixed:"right",operation:[{name:"下载",type:"text",clickFun:function(t){e.upload(t)}},{name:"删除",type:"text",color:"#f56c6c",clickFun:function(t){e.delete(t)}}]}],columnData2:[{label:"证件号",prop:"idNumber",minWidth:"150px"},{label:"发证单位",prop:"issueUnit",minWidth:"150px"},{label:"文件名称",prop:"fileName",minWidth:"200px"},{label:"级别",prop:"level",minWidth:"150px"},{label:"有效期",prop:"periodValidity",minWidth:"150px"},{label:"添加时间",prop:"createTime",minWidth:"150px"},{dataType:"action",minWidth:"130",label:"操作",fixed:"right",operation:[{name:"下载",type:"text",clickFun:function(t){e.downloadFile(t.fileName)}},{name:"编辑",type:"text",clickFun:function(t){e.annexAdd(1,t)}},{name:"删除",type:"text",color:"#f56c6c",clickFun:function(t){e.deleteAnnex(t)}}]}],tableLoading1:!1,tableLoading2:!1,tableData1:[],addOrupdate:null,title:"",annexList:[],imageUrl:"",annex:{userId:"",idNumber:"",issueUnit:"",level:"",periodValidity:"",copy:"",original:"",fileName:""},rules:{idNumber:[{required:!0,message:"请输入证件号",trigger:"blur"}],issueUnit:[{required:!0,message:"请输入发证单位",trigger:"blur"}],periodValidity:[{required:!1,message:"请选择有效期",trigger:"blur"}]},dialogVisible1:!1,form:{userId:"",name:"",account:"",currentState:"",sex:"",corporateName:"",department:"",departLimsId:[],postName:"",groupTime:"",laborRelations:"",workingTime:"",contractLifeTime:"",personnelClassification:"",dateBirth:"",nativePlace:"",nation:"",identityCard:"",age:"",validityPeriod:"",maritalStatus:"",idAddress:"",idDetailAddress:"",politicalStatus:"",dumplingTime:"",telephone:"",email:"",officialAcademicRedentials:"",highestDegree:"",graduatedInstitutions1:"",major1:"",graduationTime1:"",graduatedInstitutions2:"",major2:"",graduationTime2:"",lastUpdateTime:"",pictureUrl:"",signatureUrl:"",professionalTitle:"",remarks:""},department:[],saveLoading:!1,dialogVisible:!1,checkList:[],successFileList:[],isSave:!1}},components:{limsTable:c["a"],fileDownload:s["a"]},created:function(){this.init(),this.searchTableList(),this.searchTableList2()},computed:{action:function(){return this.javaApi+"/personBasicInfo/saveCNASFile"},fileAction:function(){return this.javaApi+"/personBasicInfo/uploadBasicInfoFile"}},methods:{downPerson:function(){var e=this;console.log("this.clickNodeVal.userId",this.clickNodeVal.userId),Object(o["l"])({id:this.clickNodeVal.userId}).then((function(t){var a=new Blob([t],{type:"application/msword"});e.$download.saveAs(a,"人员档案.docx")}))},fileBeforeUpload:function(e){var t=!0;if(e.size>10485760&&(this.$message.error("上传文件不超过10M"),this.$refs.upload.clearFiles(),t=!1),!t)return Promise.reject(t)},onError:function(e,t,a,l){this.$message.error("上传失败"),this.$refs.upload.clearFiles()},handleSuccessUp:function(e){this.upLoading=!1,200==e.code?(this.$message.success("上传成功"),this.searchTableList()):this.$message.error(e.message)},searchTableList:function(){var e=this;this.tableLoading=!0,Object(o["o"])({userId:this.clickNodeVal.userId}).then((function(t){e.tableLoading=!1,e.tableData=t.data})).catch((function(t){e.tableLoading=!1,console.log("err---",t)}))},upload:function(e){var t="";if(1==e.type)t=this.javaApi+"/img/"+e.fileUrl,s["a"].downloadIamge(t,e.fileName);else{t=this.javaApi+"/word/"+e.fileUrl;var a=document.createElement("a");a.href=t,a.download=e.fileName,a.click()}},delete:function(e){var t=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.tableLoading=!0,Object(o["e"])({basicInfoFileId:e.basicInfoFileId}).then((function(e){t.tableLoading=!1,t.$message.success("删除成功"),t.searchTableList()})).catch((function(e){t.tableLoading=!1}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},annexAdd1:function(e,t){this.operationType=e,"edit"===e?(this.basicInfoWorkId=t.basicInfoWorkId,this.annex2.workExperience=t.workExperience):(this.basicInfoWorkId="",this.annex2.workExperience=""),this.dialogVisible2=!0},submitForm2:function(){var e=this,t={workExperience:this.annex2.workExperience,userId:this.clickNodeVal.userId,basicInfoWorkId:this.basicInfoWorkId};this.tableLoading1=!0,"add"===this.operationType?Object(o["b"])(t).then((function(t){e.tableLoading1=!1,200==t.code&&(e.dialogVisible2=!1,e.$message.success("新增成功"),e.searchTableList2())})).catch((function(t){e.tableLoading1=!1})):Object(o["v"])(t).then((function(t){e.tableLoading1=!1,e.dialogVisible2=!1,e.$message.success("修改成功"),e.searchTableList2()})).catch((function(t){e.tableLoading1=!1}))},handleClose2:function(){this.dialogVisible2=!1,this.annex2.workExperience=""},deleteAnnex1:function(e){var t=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.tableLoading1=!0,Object(o["f"])({basicInfoWorkId:e.basicInfoWorkId}).then((function(e){t.tableLoading1=!1,t.$message.success("删除成功"),t.searchTableList2()})).catch((function(e){t.tableLoading1=!1}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},searchTableList2:function(){var e=this;this.tableLoading1=!0,Object(o["p"])({userId:this.clickNodeVal.userId}).then((function(t){e.tableLoading1=!1,e.tableData1=t.data})).catch((function(t){e.tableLoading1=!1,console.log("err---",t)}))},annexAdd:function(e,t){var a=this;1===e?(this.title="编辑附件资料",this.addOrupdate=1,Object(o["m"])({id:t.id}).then((function(e){a.annex=e.data,a.imageUrl=a.javaApi+"/img/"+e.data.fileName}))):(this.title="新增附件资料",this.addOrupdate=2),this.dialogVisible1=!0},submitForm:function(){var e=this;this.$refs["annex"].validate((function(t){if(!t)return!1;e.addAnnex()}))},addAnnex:function(){var e=this;""!=this.annex.fileName&&null!=this.annex.fileName&&void 0!=this.annex.fileName?(this.annex.userId=this.clickNodeVal.userId,1===this.addOrupdate?Object(o["u"])(this.annex).then((function(t){200==t.code&&Object(o["n"])({userId:e.clickNodeVal.userId}).then((function(t){e.imageUrl="",e.$refs.fileName.clearFiles(),e.annex.fileName="",e.resetForm("annex"),e.annexList=t.data,e.dialogVisible1=!1,e.$message.success("更新成功！")}))})):(this.annex.id=null,Object(o["a"])(this.annex).then((function(t){200==t.code&&Object(o["n"])({userId:e.clickNodeVal.userId}).then((function(t){e.imageUrl="",e.$refs.fileName.clearFiles(),e.annex.fileName="",e.resetForm("annex"),e.annexList=t.data,e.dialogVisible1=!1,e.$message.success("保存成功")}))})))):this.$message.error("请上传文件")},deleteAnnex:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["i"])({id:e.id}).then((function(a){t.$message.success("删除成功！"),t.annexList=t.annexList.filter((function(t){return t.id!=e.id}))}))}))},beforeAvatarUpload:function(e){var t=!0;if(e.size>10485760&&(this.$message.error("上传文件不超过10M"),this.$refs.upload.clearFiles(),t=!1),!t)return Promise.reject(t)},downloadFile:function(e){var t=/\.(jpg|jpeg|png|gif)$/i.test(e);if(t){var a=this.javaApi+"/img/"+e;s["a"].downloadIamge(a,e)}else{var l=this.javaApi+"/word/"+e,i=document.createElement("a");i.href=l,i.download=e,i.click(),this.$message.success("下载成功")}},onSuccess:function(e,t,a,l){var i=this;return Object(n["a"])(Object(r["a"])().m((function t(){return Object(r["a"])().w((function(t){while(1)switch(t.n){case 0:"fileName"==l&&(i.annex.fileName=e.data),i.successFileList.push(e.data),i.$set(i.form,l,e.data);case 1:return t.a(2)}}),t)})))()},init:function(){if(this.clickNodeVal.userId)this.getUserBasisInfo(this.clickNodeVal.userId);else{var e=JSON.parse(localStorage.getItem("user"));this.getUserBasisInfo(e.userId),this.clickNodeVal.userId=e.userId}},getUserBasisInfo:function(e){var t=this;Object(o["q"])({userId:e}).then((function(e){t.form=e.data.PersonBasicInfoDto,t.department=e.data.department,t.annexList=e.data.annexList,t.form.departLimsId=e.data.PersonBasicInfoDto.departLimsId.split(",").filter((function(e){return""!=e})).map(Number)}))},save:function(){var e=this;return Object(n["a"])(Object(r["a"])().m((function t(){return Object(r["a"])().w((function(t){while(1)switch(t.n){case 0:e.saveLoading=!0,e.form.userId=e.clickNodeVal.userId,Array.isArray(e.form.departLimsId)&&(e.form.departLimsId.length>0?e.form.departLimsId=e.form.departLimsId.join(",").trim()+",":e.form.departLimsId=""),Object(o["r"])(e.form).then((function(t){e.saveLoading=!1,e.isSave=!0,e.getUserBasisInfo(e.clickNodeVal.userId),e.$message.success("保存成功！")}));case 1:return t.a(2)}}),t)})))()},getComparisonList:function(){this.checkList.length>0&&(this.form.personnelClassification=this.checkList.split("，"))},clickPersonnelClassificationSure:function(){this.dialogVisible=!1,this.form.personnelClassification=this.checkList.filter((function(e){return e})).join("，")},deleteFile:function(e,t){var a=this;return Object(n["a"])(Object(r["a"])().m((function l(){return Object(r["a"])().w((function(l){while(1)switch(l.n){case 0:return l.n=1,Object(o["j"])({fileName:e}).then((function(l){a.$message.success("删除成功！"),a.$set(a.form,t,null);var i=a.successFileList.indexOf(e);-1!=i&&a.successFileList.splice(i,1)}));case 1:return l.a(2)}}),l)})))()},cancellation:function(){this.resetForm("annex"),this.$refs.fileName.clearFiles(),this.annex.fileName="",this.imageUrl="",this.dialogVisible1=!1},handleClose:function(e){this.imageUrl="",this.annex={userId:"",idNumber:"",issueUnit:"",level:"",periodValidity:"",copy:"",original:"",fileName:""},e()},resetForm:function(e){this.$refs[e].resetFields()},getAge:function(e){this.form.age=this.calculateAge(e)},calculateAge:function(e){var t=new Date(e),a=new Date,l=a.getFullYear()-t.getFullYear(),i=a.getMonth(),r=a.getDate(),n=t.getMonth(),s=t.getDate();return(i<n||i===n&&r<s)&&l--,l}},watch:{clickNodeVal:{handler:function(e,t){e.userId&&(this.getUserBasisInfo(e.userId),this.searchTableList(),this.searchTableList2())}}}},m=d,u=(a("acca"),a("2877")),f=Object(u["a"])(m,l,i,!1,null,"2f404e82",null);t["default"]=f.exports},acca:function(e,t,a){"use strict";a("09fe")},cfb9:function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"t",(function(){return r})),a.d(t,"k",(function(){return n})),a.d(t,"l",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"g",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"s",(function(){return m})),a.d(t,"o",(function(){return u})),a.d(t,"e",(function(){return f})),a.d(t,"b",(function(){return p})),a.d(t,"v",(function(){return b})),a.d(t,"f",(function(){return h})),a.d(t,"p",(function(){return g})),a.d(t,"m",(function(){return y})),a.d(t,"u",(function(){return x})),a.d(t,"n",(function(){return v})),a.d(t,"a",(function(){return k})),a.d(t,"i",(function(){return w})),a.d(t,"q",(function(){return I})),a.d(t,"r",(function(){return L})),a.d(t,"j",(function(){return j}));var l=a("b775");function i(e){return Object(l["a"])({url:"/system/newUser/delUserDepardLimsId",method:"delete",params:e})}function r(e){return Object(l["a"])({url:"/system/newUser/upUserDepardLimsId",method:"post",data:e})}function n(e){return Object(l["a"])({url:"/personBasicInfo/exportPersonBasicInfo",method:"get",data:e,responseType:"blob"})}function s(e){return Object(l["a"])({url:"/personBasicInfo/exportPersonBasicInfoById",method:"get",params:e,responseType:"blob"})}function o(e){return Object(l["a"])({url:"/personBasicInfo/basicInformationOfPersonnelSelectPage",method:"get",params:e})}function c(e){return Object(l["a"])({url:"/personBasicInfo/delDepartmentLims",method:"delete",params:e})}function d(e){return Object(l["a"])({url:"/personBasicInfo/addDepartmentLims",method:"post",data:e})}function m(){return Object(l["a"])({url:"/personBasicInfo/selectCNSAPersonTree",method:"get"})}function u(e){return Object(l["a"])({url:"/personBasicInfo/getBasicInfoFileList",method:"get",params:e})}function f(e){return Object(l["a"])({url:"/personBasicInfo/delBasicInfoFileList",method:"delete",params:e})}function p(e){return Object(l["a"])({url:"/personBasicInfo/addBasicInfoWork",method:"post",data:e})}function b(e){return Object(l["a"])({url:"/personBasicInfo/updateBasicInfoWorkList",method:"post",data:e})}function h(e){return Object(l["a"])({url:"/personBasicInfo/delBasicInfoWorkList",method:"delete",params:e})}function g(e){return Object(l["a"])({url:"/personBasicInfo/getBasicInfoWorkList",method:"get",params:e})}function y(e){return Object(l["a"])({url:"/personBasicInfo/getAnnex",method:"get",params:e})}function x(e){return Object(l["a"])({url:"/personBasicInfo/updateAnnex",method:"post",data:e})}function v(e){return Object(l["a"])({url:"/personBasicInfo/getAnnexByUserId",method:"get",params:e})}function k(e){return Object(l["a"])({url:"/personBasicInfo/addAnnex",method:"post",data:e})}function w(e){return Object(l["a"])({url:"/personBasicInfo/deleteAnnex",method:"delete",params:e})}function I(e){return Object(l["a"])({url:"/personBasicInfo/getCNASPersonnelInfo",method:"get",params:e})}function L(e){return Object(l["a"])({url:"/personBasicInfo/saveCNASPersonnelInfo",method:"post",data:e})}function j(e){return Object(l["a"])({url:"/personBasicInfo/deleteCNASFile",method:"delete",params:e})}}}]);