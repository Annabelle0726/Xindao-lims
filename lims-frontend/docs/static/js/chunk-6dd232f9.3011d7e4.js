(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dd232f9"],{"07ac":function(e,t,s){"use strict";var a=s("23e7"),r=s("6f53").values;a({target:"Object",stat:!0},{values:function(e){return r(e)}})},"20fc":function(e,t,s){},2381:function(e,t,s){"use strict";s.d(t,"n",(function(){return r})),s.d(t,"l",(function(){return i})),s.d(t,"k",(function(){return o})),s.d(t,"m",(function(){return l})),s.d(t,"q",(function(){return n})),s.d(t,"D",(function(){return _})),s.d(t,"o",(function(){return d})),s.d(t,"r",(function(){return c})),s.d(t,"G",(function(){return u})),s.d(t,"h",(function(){return m})),s.d(t,"B",(function(){return p})),s.d(t,"A",(function(){return h})),s.d(t,"e",(function(){return f})),s.d(t,"a",(function(){return b})),s.d(t,"E",(function(){return O})),s.d(t,"H",(function(){return j})),s.d(t,"b",(function(){return v})),s.d(t,"c",(function(){return E})),s.d(t,"d",(function(){return y})),s.d(t,"F",(function(){return L})),s.d(t,"z",(function(){return M})),s.d(t,"f",(function(){return g})),s.d(t,"w",(function(){return w})),s.d(t,"u",(function(){return I})),s.d(t,"x",(function(){return D})),s.d(t,"v",(function(){return P})),s.d(t,"t",(function(){return k})),s.d(t,"I",(function(){return C})),s.d(t,"s",(function(){return T})),s.d(t,"C",(function(){return A})),s.d(t,"p",(function(){return R})),s.d(t,"j",(function(){return x})),s.d(t,"i",(function(){return B})),s.d(t,"g",(function(){return U})),s.d(t,"y",(function(){return N}));var a=s("b775");function r(e){return Object(a["a"])({url:"/rawMaterialOrder/getIfsByStateOne",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/rawMaterialOrder/getIfsByOver",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/rawMaterialOrder/getIfsByAll",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/rawMaterialOrder/getIfsByQuarter",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/system/newUser/getUserNow",method:"get"})}function _(e){return Object(a["a"])({url:"/standardTree/selectStandardMethodEnum",method:"get"})}function d(e){return Object(a["a"])({url:"/insOrder/getInsOrder",method:"get",params:e})}function c(e){return Object(a["a"])({url:"/rawMaterialOrder/notificationRawOrder",method:"get",params:e})}function u(e){return Object(a["a"])({url:"/rawMaterialOrder/selectStandardTreeListByPartNo",method:"get",params:e})}function m(e){return Object(a["a"])({url:"/rawMaterialOrder/delRawMaterOrderTemplate",method:"delete",params:e})}function p(e){return Object(a["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplateById",method:"get",params:e})}function h(e){return Object(a["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplate",method:"get",params:e})}function f(e){return Object(a["a"])({url:"/rawMaterialOrder/addRawMaterOrderTemplate",method:"post",data:e})}function b(e){return Object(a["a"])({url:"/rawMaterialOrder/addExemptionOrder",method:"post",data:e})}function O(e){return Object(a["a"])({url:"/standardTree/selectStandardProductList",method:"post",data:e})}function j(e){return Object(a["a"])({url:"/standardTree/selectsStandardMethodByFLSSM",method:"get",params:e})}function v(e){return Object(a["a"])({url:"/insOrder/addInsOrder",method:"post",data:e})}function E(e){return Object(a["a"])({url:"/rawMaterialOrder/addRawCopperOrder",method:"post",data:e})}function y(e){return Object(a["a"])({url:"/rawMaterialOrder/addRawCopperOrderExemptionOrder",method:"post",data:e})}function L(){return Object(a["a"])({url:"/standardTree/selectStandardTreeList2",method:"get"})}function M(e){return Object(a["a"])({url:"/insOrder/selectInsOrderTemplate",method:"get",params:e})}function g(e){return Object(a["a"])({url:"/rawMaterialOrder/concessionRelease",method:"post",data:e})}function w(e){return Object(a["a"])({url:"/rawMaterialOrder/repealQuarterRawOrder",method:"post",data:e})}function I(e){return Object(a["a"])({url:"/rawMaterialOrder/rawOrderRelease",method:"post",data:e})}function D(e){return Object(a["a"])({url:"/rawMaterialOrder/revokeInspectionReport",method:"post",data:e})}function P(e){return Object(a["a"])({url:"/rawMaterialOrder/repealEnterRawOrder",method:"post",data:e})}function k(e){return Object(a["a"])({url:"/rawMaterialOrder/rawAllExport",method:"get",data:e,responseType:"blob"})}function C(e){return Object(a["a"])({url:"/insOrder/updateEntrustCode",method:"post",data:e})}function T(e){return Object(a["a"])({url:"/rawMaterialOrder/printLabel",method:"post",data:e})}function A(e){return Object(a["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:e})}function R(e){return Object(a["a"])({url:"/insOrder/getRetestResult",method:"get",params:e})}function x(e){return Object(a["a"])({url:"/insOrderPlan/getFileList",method:"get",params:e})}function B(e){return Object(a["a"])({url:"/insOrderPlan/downFile",method:"get",params:e})}function U(e){return Object(a["a"])({url:"/insOrderPlan/delfile",method:"delete",params:e})}function N(e){return Object(a["a"])({url:"/insOrderPlan/saveUnqualifiedContext",method:"post",data:e})}},"5b81":function(e,t,s){"use strict";var a=s("23e7"),r=s("c65b"),i=s("e330"),o=s("1d80"),l=s("1626"),n=s("7234"),_=s("44e7"),d=s("577e"),c=s("dc4a"),u=s("90d8"),m=s("0cb2"),p=s("b622"),h=s("c430"),f=p("replace"),b=TypeError,O=i("".indexOf),j=i("".replace),v=i("".slice),E=Math.max;a({target:"String",proto:!0},{replaceAll:function(e,t){var s,a,i,p,y,L,M,g,w,I=o(this),D=0,P=0,k="";if(!n(e)){if(s=_(e),s&&(a=d(o(u(e))),!~O(a,"g")))throw new b("`.replaceAll` does not allow non-global regexes");if(i=c(e,f),i)return r(i,e,I,t);if(h&&s)return j(d(I),e,t)}p=d(I),y=d(e),L=l(t),L||(t=d(t)),M=y.length,g=E(1,M),D=O(p,y);while(-1!==D)w=L?d(t(y,D,p)):m(y,p,D,[],void 0,t),k+=v(p,P,D)+w,P=D+M,D=D+g>p.length?-1:O(p,y,D+g);return P<p.length&&(k+=v(p,P)),k}})},"8dc6":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",[s("div",{staticClass:"header"},[s("div",[s("span",[e._v("采购订单信息")]),e.active>1&&e.isShowTab?s("ul",{staticClass:"tab"},e._l(e.dataTitle,(function(t,a){return s("li",{key:a,class:{active:a===e.dataIndex},on:{click:function(s){return e.handleDataTab(t,a)}}},[e._v(e._s(t.label))])})),0):e._e()]),s("div",[s("el-select",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}],staticStyle:{"margin-right":"10px"},attrs:{placeholder:"下单模板",size:"small"},on:{change:e.selectInsOrderTemplateByIdList},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}},e._l(e.templates,(function(t,a){return s("el-option",{key:a,attrs:{label:t.name,value:t.id}},[s("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),s("i",{staticClass:"el-icon-delete",staticStyle:{float:"right",color:"#66b1ff","font-size":"16px"},on:{click:function(s){return s.stopPropagation(),e.handleDelete(t)}}})])})),1),s("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}],attrs:{size:"small"},on:{click:function(t){e.templateDia=!0}}},[s("span",{staticStyle:{color:"#3A7BFA"}},[e._v("保存模板")])]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.active&&"进厂检验"===e.addObj.orderType,expression:"active==1 && addObj.orderType === '进厂检验'"}],attrs:{loading:e.noNeedCheckLoad,size:"small",type:"primary"},on:{click:e.noNeedCheck}},[e._v("免检")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}],attrs:{loading:e.saveLoad,size:"small",type:"primary"},on:{click:e.save}},[e._v("提交")]),s("el-button",{attrs:{size:"small"},on:{click:e.goBack}},[s("span",{staticStyle:{color:"#3A7BFA"}},[e._v("返回")])])],1)])]),s("div",{staticClass:"search"},[s("el-form",{ref:"addObj",attrs:{inline:!0,model:e.addObj,rules:e.addObjRules,"label-width":"90px"}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"采购订单号:",prop:"orderNo"}},[s("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",placeholder:"",size:"small"},model:{value:e.addObj.orderNo,callback:function(t){e.$set(e.addObj,"orderNo",t)},expression:"addObj.orderNo"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"委托单位:",prop:"company"}},[s("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",placeholder:"",size:"small"},model:{value:e.addObj.company,callback:function(t){e.$set(e.addObj,"company",t)},expression:"addObj.company"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"接收时间:",prop:"receiverDate"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd"},model:{value:e.addObj.receiverDate,callback:function(t){e.$set(e.addObj,"receiverDate",t)},expression:"addObj.receiverDate"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"零件号:",prop:"partNo"}},[s("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",placeholder:"",size:"small"},model:{value:e.addObj.partNo,callback:function(t){e.$set(e.addObj,"partNo",t)},expression:"addObj.partNo"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"样品名称:",prop:"sample"}},[s("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",placeholder:"",size:"small"},model:{value:e.addObj.sample,callback:function(t){e.$set(e.addObj,"sample",t)},expression:"addObj.sample"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"样品总数:",prop:"qtyArrived"}},[s("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",placeholder:"",size:"small"},model:{value:e.addObj.qtyArrived,callback:function(t){e.$set(e.addObj,"qtyArrived",t)},expression:"addObj.qtyArrived"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"报检人:",prop:"declareUser"}},[s("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",size:"small"},model:{value:e.addObj.declareUser,callback:function(t){e.$set(e.addObj,"declareUser",t)},expression:"addObj.declareUser"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"批次号:",prop:"updateBatchNo"}},[s("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",size:"small"},model:{value:e.addObj.updateBatchNo,callback:function(t){e.$set(e.addObj,"updateBatchNo",t)},expression:"addObj.updateBatchNo"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"单位:",prop:"buyUnitMeas"}},[s("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",size:"small"},model:{value:e.addObj.buyUnitMeas,callback:function(t){e.$set(e.addObj,"buyUnitMeas",t)},expression:"addObj.buyUnitMeas"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"抽检数量:",prop:"testQuantity"}},[s("el-input",{staticClass:"addObj-info",attrs:{disabled:e.active>1,clearable:"",placeholder:"请填写抽检数量",size:"small"},model:{value:e.addObj.testQuantity,callback:function(t){e.$set(e.addObj,"testQuantity",t)},expression:"addObj.testQuantity"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"检验类别:",prop:"orderType"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.active>1||1==e.orderType,clearable:"",size:"small"},model:{value:e.addObj.orderType,callback:function(t){e.$set(e.addObj,"orderType",t)},expression:"addObj.orderType"}},e._l(e.dict.type.check_type,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"规格型号:",placeholder:"请填写",prop:"partDetail"}},[s("el-tooltip",{attrs:{content:e.addObj.partDetail,disabled:!e.addObj.partDetail}},[s("el-input",{staticClass:"addObj-info",attrs:{disabled:e.active>1,clearable:"",size:"small"},model:{value:e.addObj.partDetail,callback:function(t){e.$set(e.addObj,"partDetail",t)},expression:"addObj.partDetail"}})],1)],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"紧急程度:",placeholder:"请选择",prop:"type"}},[s("el-select",{staticClass:"addObj-info",staticStyle:{width:"100%"},attrs:{disabled:e.active>1,clearable:"",size:"small"},model:{value:e.addObj.type,callback:function(t){e.$set(e.addObj,"type",t)},expression:"addObj.type"}},e._l(e.dict.type.urgency_level,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"约定时间:",prop:"appointed"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.active>1,format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd"},model:{value:e.addObj.appointed,callback:function(t){e.$set(e.addObj,"appointed",t)},expression:"addObj.appointed"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{staticClass:"addObj-form-item",attrs:{label:"备注:",prop:"remark"}},[s("el-input",{attrs:{autosize:{minRows:2,maxRows:2},disabled:e.active>1,placeholder:e.active>1?"":"请输入",clearable:"",size:"small",type:"textarea"},model:{value:e.addObj.remark,callback:function(t){e.$set(e.addObj,"remark",t)},expression:"addObj.remark"}})],1)],1)],1)],1)],1),s("div",[s("div",{staticStyle:{display:"flex","justify-content":"space-between","background-color":"#F5F7FB","margin-bottom":"6px"}},[1==e.active?s("div",[s("el-form",{attrs:{inline:!0,model:e.addObj1,"label-width":"90px"}},[s("el-form-item",{staticStyle:{"margin-bottom":"6px","margin-top":"6px"},attrs:{label:"样品型号:"}},[s("el-select",{attrs:{placeholder:e.active>1?"":"请输入","allow-create":"",clearable:"","default-first-option":"",filterable:"",size:"small"},on:{change:e.changeModel},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.models,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-form-item",{staticStyle:{"margin-bottom":"6px","margin-top":"6px"},attrs:{label:"检验标准:"}},[s("el-select",{attrs:{loading:e.methodLoad,placeholder:e.active>1?"":"请输入",clearable:"",size:"small"},on:{change:e.changeStandardMethodListId,focus:e.methodFocus},model:{value:e.standardMethodListId,callback:function(t){e.standardMethodListId=t},expression:"standardMethodListId"}},e._l(e.methods,(function(e){return s("el-option",{key:e.id,attrs:{label:e.code,value:e.id}})})),1)],1)],1)],1):e._e(),s("div",{staticStyle:{"margin-bottom":"6px","margin-top":"6px"}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}],attrs:{disabled:2===e.sampleList.length,size:"small",type:"primary"},on:{click:e.handleSplitCountNum}},[e._v("拆分")])],1)]),s("el-table",{ref:"sampleTable",staticClass:"el-table sampleTable",attrs:{data:e.sampleList,"highlight-current-row":"","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:"","max-height":"400px","tooltip-effect":"dark"},on:{"selection-change":e.selectSample,"row-click":e.rowClick}},[1==e.active?s("el-table-column",{attrs:{selectable:e.selectable,type:"selection",width:"65"}}):e._e(),s("el-table-column",{attrs:{align:"center",label:"序号",prop:"index",type:"index",width:"65"}}),s("el-table-column",{attrs:{align:"center",label:"样品名称","min-width":"100",prop:"sample"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{disabled:e.active>1||0!==t.$index,size:"small"},on:{change:function(t){return e.changeValue(t,"sample")}},model:{value:t.row.sample,callback:function(s){e.$set(t.row,"sample",s)},expression:"scope.row.sample"}})]}}])}),s("el-table-column",{attrs:{align:"center",label:"样品编号","min-width":"140",prop:"sampleCode"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{disabled:e.active>1||0!==t.$index,clearable:"",placeholder:"不填写则系统自动生成",size:"small"},on:{change:function(t){return e.changeValue(t,"sampleCode")}},model:{value:t.row.sampleCode,callback:function(s){e.$set(t.row,"sampleCode",s)},expression:"scope.row.sampleCode"}})]}}])}),s("el-table-column",{attrs:{align:"center",label:"样品型号","min-width":"100",prop:"model"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.active>1||0!==t.$index,"allow-create":"","default-first-option":"",filterable:"",placeholder:"样品型号",size:"small"},on:{change:e.handleChangeModel},model:{value:t.row.model,callback:function(s){e.$set(t.row,"model",s)},expression:"scope.row.model"}},e._l(e.models,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}])}),e.active>1?e._e():s("el-table-column",{attrs:{align:"center",label:"型号参数",prop:"modelNum",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{disabled:e.active>1||0!==t.$index,clearable:"",placeholder:"非必填",size:"small"},on:{input:function(s){return e.methodChange(t.row.standardMethodListId,t.row)}},model:{value:t.row.modelNum,callback:function(s){e.$set(t.row,"modelNum",s)},expression:"scope.row.modelNum"}})]}}],null,!1,3226497857)}),s("el-table-column",{attrs:{align:"center",label:"检验标准","min-width":"100",prop:"standardMethodListId"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{staticStyle:{width:"100%"},attrs:{disabled:null==t.row.model||e.active>1||0!==t.$index,loading:e.methodLoad,clearable:"",placeholder:"检验标准",size:"small"},on:{change:function(s){return e.methodChange(s,t.row)},clear:function(t){e.productList=[]},focus:e.methodFocus},model:{value:t.row.standardMethodListId,callback:function(s){e.$set(t.row,"standardMethodListId",s)},expression:"scope.row.standardMethodListId"}},e._l(e.methods,(function(e){return s("el-option",{key:e.id,attrs:{label:e.code,value:e.id}})})),1)]}}])}),1==e.addObj.mating?s("el-table-column",{attrs:{align:"center",label:"配套样品名称",prop:"joinName",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{autosize:{minRows:1,maxRows:1},size:"small",type:"textarea"},model:{value:t.row.joinName,callback:function(s){e.$set(t.row,"joinName",s)},expression:"scope.row.joinName"}})]}}],null,!1,2362341360)}):e._e(),1==e.addObj.mating?s("el-table-column",{attrs:{align:"center",label:"配套样品型号",prop:"joinModel",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{autosize:{minRows:1,maxRows:1},size:"small",type:"textarea"},model:{value:t.row.joinModel,callback:function(s){e.$set(t.row,"joinModel",s)},expression:"scope.row.joinModel"}})]}}],null,!1,1737993112)}):e._e(),1==e.addObj.mating?s("el-table-column",{attrs:{align:"center",label:"配套样品数量",prop:"joinNum",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input-number",{staticStyle:{width:"80%"},attrs:{controls:!1,max:100,min:1,precision:0,size:"small"},model:{value:t.row.joinNum,callback:function(s){e.$set(t.row,"joinNum",s)},expression:"scope.row.joinNum"}})]}}],null,!1,2642044124)}):e._e(),s("el-table-column",{attrs:{align:"center",label:"待检项数量",prop:"quantity",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{disabled:"",clearable:"",size:"small"},model:{value:t.row.quantity,callback:function(s){e.$set(t.row,"quantity",s)},expression:"scope.row.quantity"}},e._l(e.quantityList,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}])})],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.getProductLoad,expression:"getProductLoad"}],ref:"productTable",staticClass:"el-table",staticStyle:{"margin-bottom":"10px"},attrs:{data:e.productList,"row-class-name":e.tableRowClassName,"max-height":"400px","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:"","tooltip-effect":"dark"},on:{select:e.selectOne,"selection-change":e.selectProduct,"select-all":e.handleAll}},[1==e.active?s("el-table-column",{attrs:{selectable:e.selectable,type:"selection",width:"65"}}):e._e(),s("el-table-column",{attrs:{label:"检验项","min-width":"140",prop:"inspectionItem","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(t){return[s("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[s("span",[e._v("检验项")]),1==e.active?s("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:e.searchFilterList},model:{value:e.inspectionItem,callback:function(t){e.inspectionItem=t},expression:"inspectionItem"}}):e._e()],1)]}}])}),s("el-table-column",{attrs:{label:"检验项子项","min-width":"140",prop:"inspectionItemSubclass","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(t){return[s("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[s("span",[e._v("检验项子项")]),1==e.active?s("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:e.searchFilterList},model:{value:e.inspectionItemSubclass,callback:function(t){e.inspectionItemSubclass=t},expression:"inspectionItemSubclass"}}):e._e()],1)]}}])}),s("el-table-column",{attrs:{label:"要求值","min-width":"220px",prop:"ask"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.active&&e.isAskOnlyRead?s("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求值",size:"small",type:"textarea"},on:{change:function(s){return e.requestChange(s,t.row)}},model:{value:t.row.ask,callback:function(s){e.$set(t.row,"ask",s)},expression:"scope.row.ask"}}):s("span",[[e._v(e._s(t.row.ask))]],2)]}}])}),s("el-table-column",{attrs:{label:"要求描述","min-width":"220px",prop:"tell"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.active&&e.isAskOnlyRead?s("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},on:{change:function(s){return e.requestChange(s,t.row,"tell")}},model:{value:t.row.tell,callback:function(s){e.$set(t.row,"tell",s)},expression:"scope.row.tell"}}):s("span",[[e._v(e._s(t.row.tell))]],2)]}}])}),s("el-table-column",{attrs:{label:"条件","min-width":"140",prop:"radius","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{label:"试验方法","min-width":"120",prop:"methodS","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(t){return[s("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[s("span",[e._v("试验方法")]),1==e.active?s("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:e.searchFilterList},model:{value:e.methodS,callback:function(t){e.methodS=t},expression:"methodS"}}):e._e()],1)]}}])}),s("el-table-column",{attrs:{label:"计量单位",prop:"unit","show-overflow-tooltip":"",width:"100"}}),s("el-table-column",{attrs:{label:"单价",prop:"price","show-overflow-tooltip":"",width:"100"}}),s("el-table-column",{attrs:{label:"区间","min-width":"120",prop:"section","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{"filter-method":e.filterHandler,filters:e.filters,label:"子实验室","min-width":"130",prop:"sonLaboratory","show-overflow-tooltip":""}})],1)],1),s("el-dialog",{attrs:{"before-close":e.beforeClose,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,visible:e.bsm1DiaAll,"min-width":"400px",title:"检测到特殊项，请作出以下选择"},on:{"update:visible":function(t){e.bsm1DiaAll=t}}},[e._l(e.bsm1DiaList,(function(t,a){return s("div",{key:t.id,staticClass:"body",staticStyle:{"max-height":"60vh"}},[s("span",[e._v(e._s(t.inspectionItem))]),t.bsm1?s("el-row",[s("el-col",{staticClass:"search_thing",staticStyle:{height:"initial",margin:"5px 0"},attrs:{span:24}},[s("div",{staticClass:"search_label",staticStyle:{width:"80px"}},[s("span",{staticClass:"required-span"},[e._v("* ")]),e._v("选项：")]),s("div",{staticClass:"search_input"},[s("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],on:{input:function(s){return e.upBsmAll(t)}},model:{value:t.bsm1Val,callback:function(s){e.$set(t,"bsm1Val",s)},expression:"item.bsm1Val"}},e._l(JSON.parse(t.bsmRow.sectionCopy),(function(e,t){return s("el-radio",{key:t,staticStyle:{"margin-bottom":"2px","margin-top":"2px"},attrs:{label:e}})})),1)],1)]),s("el-col",{staticClass:"search_thing",staticStyle:{height:"initial",margin:"5px 0"},attrs:{span:24}},[s("div",{staticClass:"search_label",staticStyle:{width:"80px"}},[e._v("要求值：")]),s("div",{staticClass:"search_input"},[s("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],on:{input:function(s){return e.upBsmAll(t)}},model:{value:t.bsm1Val,callback:function(s){e.$set(t,"bsm1Val",s)},expression:"item.bsm1Val"}},e._l(JSON.parse(t.bsmRow.sectionCopy),(function(a,r){return s("el-radio",{key:r,attrs:{label:a}},[e._v(e._s(JSON.parse(t.bsmRow.askCopy)[r]))])})),1)],1)])],1):e._e()],1)})),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-row",[s("el-button",{attrs:{loading:e.saveLoad,type:"primary"},on:{click:e.save1}},[e._v("确 定")])],1)],1)],2),s("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,visible:e.bsm3Dia,title:"区间值填写",width:"800px"},on:{"update:visible":function(t){e.bsm3Dia=t}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.editTable,height:"80vh","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:""}},[s("el-table-column",{attrs:{label:"检验项",prop:"inspectionItemList",width:"180"}}),s("el-table-column",{attrs:{label:"样品编号",prop:"sampleCode",width:"180"}}),s("el-table-column",{attrs:{label:"样品型号",prop:"model",width:"180"}}),s("el-table-column",{attrs:{label:"识别符号",prop:"symbolItem"}}),s("el-table-column",{attrs:{label:"识别符值",prop:"value"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{placeholder:"请输入",size:"small"},on:{input:function(s){return e.inputValueHandler(t.row,t.$index)}},model:{value:t.row.value,callback:function(s){e.$set(t.row,"value",s)},expression:"scope.row.value"}})]}}])})],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-row",[s("el-button",{on:{click:function(t){e.bsm3Dia=!1}}},[e._v("取 消")]),s("el-button",{attrs:{loading:e.saveLoad,type:"primary"},on:{click:e.save0}},[e._v("确 定")])],1)],1)],1),s("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,visible:e.dialogVisible,title:"提示",width:"32%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("span",[e._v(e._s(e.dialogMessage))]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1,e.closeOpenPage()}}},[e._v("确 定")])],1)]),s("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,visible:e.dialogVisible2,title:"提示",width:"32%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[s("span",[e._v(e._s(e.dialogMessage2))]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible2=!1}}},[e._v("确 定")])],1)]),s("el-dialog",{attrs:{visible:e.templateDia,title:"保存模板",width:"400px"},on:{"update:visible":function(t){e.templateDia=t}}},[e.templateDia?s("div",{staticClass:"body",staticStyle:{display:"flex","align-items":"center"}},[s("div",{staticClass:"search_label",staticStyle:{width:"90px"}},[s("span",{staticClass:"required-span"},[e._v("* ")]),e._v("模板名称：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}})],1)]):e._e(),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.templateDia=!1}}},[e._v("取 消")]),s("el-button",{attrs:{loading:e.templateLoading,type:"primary"},on:{click:e.addTemplateDia}},[e._v("确 定")])],1)]),s("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,visible:e.noNeedCheckDia,title:"免检提示",width:"32%"},on:{"update:visible":function(t){e.noNeedCheckDia=t}}},[s("span",[e._v("确认免检当前检验单？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{loading:e.noNeedCheckLoad,type:"primary"},on:{click:e.handleNoNeedCheck}},[e._v("确 定")])],1)])],1)},r=[],i=s("e9a5"),o=i["a"],l=(s("d56b"),s("2877")),n=Object(l["a"])(o,a,r,!1,null,"318fcaa3",null);t["default"]=n.exports},d56b:function(e,t,s){"use strict";s("20fc")},e9a5:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_Projects_Lims_ztt_lims_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2909"),D_Projects_Lims_ztt_lims_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5530"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("7db0"),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("c740"),core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_find_index_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("14d9"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("07ac"),core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("6062"),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1e70"),core_js_modules_es_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("79a4"),core_js_modules_es_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("c1a1"),core_js_modules_es_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("8b00"),core_js_modules_es_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("a4e7"),core_js_modules_es_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("1e5a"),core_js_modules_es_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_set_union_v2_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("72c3"),core_js_modules_es_set_union_v2_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_set_union_v2_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("5b81"),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("0643"),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("76d6"),core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_29__),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("2382"),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_30__),core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("fffc"),core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_31__),core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("4e3e"),core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_32__),core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("a573"),core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_33__),core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("9a9a"),core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_34__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_35__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_36__),_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("2381");__webpack_exports__["a"]={name:"CustomsInspectionView",dicts:["check_type","urgency_level"],components:{},props:{},data:function(){return{customsInspection:{},orderType:"",active:0,currentId:0,isReport:"",editTable:[],template:null,saveLoad:!1,noNeedCheckLoad:!1,addObj:{orderNo:null,declareUser:null,userId:null,type:"0",code:null,remark:null,otcCode:null,mating:0,updateBatchNo:"",partNo:"",sample:null,qtyArrived:"",testQuantity:"",company:"中天科技装备电缆有限公司",companyId:"1233268751",receiverDate:"",appointed:"",buyUnitMeas:"",partDetail:"",formType:"Inspection application",laboratory:null,sampleType:null,unit:null,model:null,method:null,processing:1,isLeave:0,orderType:null,send:1,engineering:null,engineeringEn:null,production:null,productionEn:null,typeSource:1,ifsInventoryId:"",sampleStatus:"In good condition"},addObjRules:{testQuantity:[{required:!0,message:"请填写抽检数量",trigger:"blur"}],partDetail:[{required:!0,message:"请填写规格型号",trigger:"blur"}],orderType:[{required:!0,message:"请选择检验类别",trigger:"change"}],type:[{required:!0,message:"请选择紧急程度",trigger:"change"}],appointed:[{required:!0,message:"请选择约定时间",trigger:"change"}]},sample:{sampleCode:null,laboratory:null,sampleType:null,sample:null,model:null,modelNum:null,quantity:null,isLeave:0,unit:null},type:[],list:[],selectTree:null,sampleList:[],sampleIds:[],count:1,productList:[],productList0:[],productIds:[],productListSelected:[],getProductLoad:!1,models:[],methods:[],methodLoad:!1,filters:[],currentMethod:null,isAskOnlyRead:!1,sampleId:null,totalArr:[],addObj1:{},model:null,standardMethodListId:null,inspectionItem:null,inspectionItemSubclass:null,methodS:null,codeLevel:"",selectTreeTem:"",checkType:[],dialogVisible:!1,dialogVisible2:!1,dialogMessage:"",dialogMessage2:"",templateDia:!1,templateLoading:!1,templateName:"",templates:[],quantityList:[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8}],types:[],dataTitle:[{label:"进厂检验",value:0},{label:"季度检验",value:1}],dataIndex:0,isShowTab:!1,symbolList:["RTS"],bsm3Dia:!1,bsmRow:{},bsm1:!1,bsm1Val:null,bsm1DiaAll:!1,bsm1DiaList:[],bsm2Val:null,bsm2Dia:!1,bsm2Val2:[],bsm2Val3:[],noNeedCheckDia:!1}},watch:{sampleList:function(){this.addObj.method=null,this.productList=[]},productList:{deep:!0,handler:function(e){if(e&&e.length>0){var t=[];e.forEach((function(e){e.sonLaboratory&&!t.find((function(t){return t.value==e.sonLaboratory}))&&t.push({text:e.sonLaboratory,value:e.sonLaboratory})})),this.filters=t}}},"addObj.sample":function(e){this.model=null,this.standardMethodListId=null},"addObj.qtyArrived":function(e){this.model=null,this.standardMethodListId=null}},created:function(){this.active=this.$route.query.active,this.orderType=this.$route.query.orderType,this.currentId=this.$route.query.currentId,this.isReport=this.$route.query.isReport,this.customsInspection=this.$route.query.customsInspection,this.getInfo()},activated:function(){this.active=this.$route.query.active,this.orderType=this.$route.query.orderType,this.currentId=this.$route.query.currentId,this.isReport=this.$route.query.isReport,this.customsInspection=this.$route.query.customsInspection,this.getInfo()},methods:{save1:function(){var e=this;this.bsm1DiaList.length>0&&this.bsm1DiaList.forEach((function(t){if(!t.bsm1Val)throw e.$message.error("特殊项目必须处理")})),this.bsm1DiaAll=!1},beforeClose:function(e){var t=this;this.bsm1DiaList.length>0&&this.bsm1DiaList.forEach((function(e){if(!e.bsm1Val)throw t.$message.error("特殊项目必须处理")})),e()},inputValueHandler:function(e,t){if(e)for(var s=t+1,a=s;a<this.editTable.length;a++){var r=this.editTable[a];r.model==e.model&&e.symbolItem==r.symbolItem&&(this.editTable[a].value=e.value)}},handleDataTab:function(e,t){this.dataIndex=t,this.getInfo()},getInfo:function(){var e=this;if(this.getUserNowList(),this.selectStandardMethods(),2==this.active){var t="";!this.customsInspection.enterOrderId&&this.customsInspection.quarterOrderId?(this.isShowTab=!1,t=this.customsInspection.quarterOrderId):!this.customsInspection.quarterOrderId&&this.customsInspection.enterOrderId?(this.isShowTab=!1,t=this.customsInspection.enterOrderId):this.customsInspection.enterOrderId&&this.customsInspection.quarterOrderId?(this.isShowTab=!0,t=0===this.dataIndex?this.customsInspection.enterOrderId:this.customsInspection.quarterOrderId):this.customsInspection.enterOrderId||this.customsInspection.quarterOrderId||(this.isShowTab=!1,t=1==this.isReport?this.customsInspection.insOrderId:this.customsInspection.id),Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["o"])({orderId:t}).then((function(t){200===t.code&&(e.addObj=Object(D_Projects_Lims_ztt_lims_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])({},t.data.insOrder),e.addObj.orderNo=t.data.insOrderTemplate.orderNo,e.addObj.partNo=t.data.insOrderTemplate.partNo,e.addObj.partDetail=t.data.insOrder.partDetail,e.addObj.qtyArrived=t.data.insOrderTemplate.qtyArrived,e.addObj.receiverDate=t.data.insOrderTemplate.receiverDate,e.addObj.declareUser=t.data.insOrderTemplate.declareUser,e.addObj.testQuantity=t.data.insOrderTemplate.testQuantity,e.addObj.buyUnitMeas=t.data.insOrderTemplate.buyUnitMeas,e.addObj.updateBatchNo=t.data.insOrderTemplate.updateBatchNo,e.addObj.type=String(e.addObj.type),e.sampleList=e.HaveJson(t.data.sampleProduct),e.getProNum(),e.$nextTick((function(){e.$refs.sampleTable.doLayout(),e.sampleList.length>0&&(e.productList=e.sampleList[0].insProduct,e.$refs.sampleTable.setCurrentRow(e.sampleList[0],!0),e.rowClick(e.sampleList[0]))})))}))}else Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["r"])({ifsInventoryId:this.customsInspection.id}).then((function(t){200===t.code&&(1===t.data?1!=e.orderType&&(e.dialogVisible2=!0,e.dialogMessage2="当前批次的样品已检验过, 可以免检"):2===t.data&&(e.dialogVisible2=!0,e.dialogMessage2="当前批次的样品已超20吨, 需要多级多次检验"))})),Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["G"])({partNo:this.customsInspection.partNo}).then((function(t){if(null!==t.data){e.addObj.sample=t.data.label,e.codeLevel=t.data.code,e.$set(e.addObj,"qtyArrived",e.customsInspection.qtyArrived),e.$set(e.addObj,"partNo",e.customsInspection.partNo),e.$set(e.addObj,"receiverDate",e.customsInspection.receiverDate),e.$set(e.addObj,"orderNo",e.customsInspection.orderNo),e.$set(e.addObj,"declareUser",e.customsInspection.declareUser),e.$set(e.addObj,"testQuantity",e.customsInspection.testQuantity),e.$set(e.addObj,"buyUnitMeas",e.customsInspection.buyUnitMeas),e.$set(e.addObj,"updateBatchNo",e.customsInspection.updateBatchNo),e.$set(e.addObj,"partDetail",e.customsInspection.partDesc),1==e.orderType&&e.$set(e.addObj,"orderType","Quarterly inspection");var s=t.data.treeName.split("-");e.selectTreeTem=s.join(" - "),e.selectTree=s.join(" - "),e.addListInfo(e.codeLevel,t.data),e.selectInsOrderTemplate()}else e.dialogVisible=!0,e.dialogMessage=t.message})).catch((function(e){}))},selectInsOrderTemplateByIdList:function(e){var t=this;Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["B"])({id:e}).then((function(e){var s=JSON.parse(e.data);t.sampleList=s.sampleList,t.productList=s.sampleList[0].insProduct,t.selectTree=s.selectTree,t.rowClick(t.sampleList[0])}))},addTemplateDia:function(){var e=this;if(this.templateName){var t=this.HaveJson(this.sampleList);t.forEach((function(t){t.insProduct=e.productList})),this.templateLoading=!0,Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["e"])({partNo:this.addObj.partNo,name:this.templateName,thing:JSON.stringify({sampleList:t,selectTree:this.selectTree})}).then((function(t){e.templateLoading=!1,e.templateDia=!1,e.$message.success("保存成功"),e.selectInsOrderTemplate(),e.templateName=""}))}else this.$message.error("请填写模板名称")},handleDelete:function(e){var t=this;this.$confirm("是否删除当前数据?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["h"])({id:e.id}).then((function(e){t.$message.success("删除成功"),t.selectInsOrderTemplate()})).catch((function(e){t.$message.error("删除失败")}))})).catch((function(){}))},selectInsOrderTemplate:function(){var e=this;Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["A"])({partNo:this.addObj.partNo}).then((function(t){e.templates=t.data}))},handleSplitCountNum:function(){this.sample.joinName=null,this.sample.joinModel=null,this.sample.joinNum=1,this.sample.sample=this.sampleList[0].sample,this.sample.model=this.sampleList[0].model,this.sample.unit=this.sampleList[0].unit,this.sample.modelNum=this.sampleList[0].modelNum,this.sample.standardMethodListId=this.sampleList[0].standardMethodListId,this.sample.insProduct=[],this.sample.id=this.count,this.sample.childSampleList=[],this.sample.insulating=null,this.sample.sheath=null,this.sampleList.push(this.HaveJson(this.sample)),this.sampleList.forEach((function(e){e.quantity=1})),this.count++,this.computationalPairing(this.sampleList.length)},searchFilterList:function(){var e=this,t={inspectionItem:this.inspectionItem,inspectionItemSubclass:this.inspectionItemSubclass,methodS:this.methodS},s=Object.values(t).some((function(e){return e}));if(this.changeProductList0(),s){var a=function(s){t[s]&&(e.productList=e.productList0.filter((function(e){return e[s]&&e[s].includes(t[s])})))};for(var r in t)a(r)}else this.productList=this.productList0},containsValue:function(e){if(e){var t="";return this.symbolList.some((function(s){if(e.includes(s))return t=s,!0})),t}},save:function(){var e=this;this.$refs["addObj"].validate((function(t){if(!t)return console.log("error submit!!"),!1;if(e.sampleList.every((function(e){return e.standardMethodListId}))){var s=e.HaveJson(e.sampleList);s.forEach((function(t){t.insProduct=e.productList})),e.getTotal(s);var a=e.totalArr.filter((function(e){return 1==e.state})).length;if(0==a)e.$confirm("检验项目为空，是否确认提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.saveMethod(s)})).catch((function(){}));else{var r=e.totalArr.find((function(t){return null!=t.ask&&e.symbolList.find((function(e){return t.ask.includes(e)}))&&1==t.state}));if(r)return e.editTable=e.handleData(s,e.containsValue,0),e.editTable.forEach((function(e){e.value=e.modelNum})),void(e.bsm3Dia=!0);e.saveMethod(s)}}else e.$message.error("请选择检验标准")}))},save0:function(){var e=this;if(this.editTable.every((function(e){return e.value}))){this.sampleList.forEach((function(t){t.insProduct=e.productList}));var t=this.handleData(this.HaveJson(this.sampleList),this.handleAsk,1);t.forEach((function(e){e.insProduct=e.insProduct.filter((function(e){return 1===e.state}))})),this.saveMethod(t)}else this.$message.error("请填写识别符值")},noNeedCheck:function(){var e=this;this.$refs["addObj"].validate((function(t){if(!t)return console.log("error submit!!"),!1;if(e.sampleList.every((function(e){return e.standardMethodListId}))){var s=e.HaveJson(e.sampleList);s.forEach((function(t){t.insProduct=e.productList})),e.getTotal(s);var a=e.totalArr.filter((function(e){return 1==e.state})).length;0==a?e.noNeedCheckDia=!0:e.$message.error("免检不可选择检验项")}else e.$message.error("请选择检验标准")}))},handleNoNeedCheck:function(){var e=this,t=this.HaveJson(this.sampleList);t.forEach((function(t){t.insProduct=e.productList})),this.getTotal(t);var s=this.selectTree.split(" - ");s.length<3?this.$message.error("未选择对象"):(this.addObj.factory=s[0],this.addObj.laboratory=s[1],this.addObj.sampleType=s[2],void 0===s[3]||""===s[3]||4===s.length?this.addObj.sample=s[2]:this.addObj.sample=s[3],this.addObj.model=void 0==s[4]?null:s[4],this.addObj.ifsInventoryId=this.customsInspection.id,this.noNeedCheckLoad=!0,Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["a"])({insOrder:this.addObj,sampleList:t.map((function(e){if(e.modelNum){var t=e.modelNum.indexOf("×");e.model=0===t?e.model+e.modelNum:-1===t?e.model+"-"+e.modelNum:e.modelNum+e.model}else e.model=e.model+(null==e.modelNum||""==e.modelNum||"null"==e.modelNum?"":"-"+e.modelNum);return e.insProduct=e.insProduct.filter((function(e){return 1===e.state})),e}))}).then((function(t){e.noNeedCheckLoad=!1,e.noNeedCheckDia=!1,e.$message.success("已提交"),e.closeOpenPage()})).catch((function(t){e.noNeedCheckLoad=!1})))},saveMethod:function(e){var t=this,s=this.selectTree.split(" - ");s.length<3?this.$message.error("未选择对象"):(this.addObj.factory=s[0],this.addObj.laboratory=s[1],this.addObj.sampleType=s[2],void 0===s[3]||""===s[3]||4===s.length?this.addObj.sample=s[2]:this.addObj.sample=s[3],this.addObj.model=void 0==s[4]?null:s[4],this.addObj.ifsInventoryId=this.customsInspection.id,this.saveLoad=!0,this.addObj.createTime&&delete this.addObj.createTime,Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["b"])({insOrder:this.addObj,sampleList:e.map((function(e){if(e.insProduct.length>0&&e.insProduct.forEach((function(e){delete e.id})),e.modelNum){var t=e.modelNum.indexOf("×");e.model=0===t?e.model+e.modelNum:-1===t?e.model+"-"+e.modelNum:e.modelNum+e.model}else e.model=e.model+(null==e.modelNum||""==e.modelNum||"null"==e.modelNum?"":"-"+e.modelNum);return e.insProduct=e.insProduct.filter((function(e){return 1===e.state})),e}))}).then((function(e){t.saveLoad=!1,t.$message.success("已提交"),t.bsm3Dia=!1,t.closeOpenPage()})).catch((function(e){t.saveLoad=!1})))},handleAsk:function handleAsk(ask,symbolItem,value){var _this12=this;try{var code=[">","<","=","＞","＜","≥","≤","±","*","/"],code2=["+","*","/","-"];if(ask.includes("&")){var arr0=ask.split("&"),arr1=[];return arr0.forEach((function(m){var index=code.findIndex((function(e){return m.includes(e)}));if(index>-1){var arr=m.split(code[index]).filter((function(e){return!!e})),num=eval(_this12.replaceAll(arr[0],symbolItem,value));m=code[index]+""+num,arr1.push(m)}})),arr1.join("&")}if(ask.includes("～")||ask.includes("~")){var _arr=[];_arr=ask.includes("～")?ask.split("～"):ask.split("~");var _arr2=[];return _arr.forEach((function(m){m=m.replace(symbolItem,value);var index=code2.findIndex((function(e){return m.includes(e)}));index>-1&&(m=eval(m)),_arr2.push(m)})),_arr2.join("～")}var index=code.findIndex((function(e){return ask.includes(e)}));if(index>-1){var arr=ask.split(code[index]).filter((function(e){return!!e})),num=eval(this.replaceAll(arr[0],symbolItem,value));return code[index]+""+num}}catch(e){}},handleData:function(e,t,s){var a=this,r=[];if(e.forEach((function(e){var i={sampleCode:e.sampleCode,model:e.model,symbolList:[],sampleId:e.id,modelNum:e.modelNum};e.insProduct&&e.insProduct.length>0&&e.insProduct.forEach((function(r){if(1==r.state)if(0==s){var o=t(r.ask);o&&i.symbolList.push({symbolItem:o,inspectionItem:r.inspectionItem})}else if(1==s)for(var l=a.editTable.filter((function(t){return t.sampleId==e.id})),n=0;n<l.length;n++)if(r.ask){if(r.ask.includes(l[n].symbolItem)){var _=t(r.ask,l[n].symbolItem,l[n].value);_&&(r.ask=_);var d=a.handleAsk(r.tell,l[n].symbolItem,l[n].value);d&&(r.tell=d)}}else a.$message.error("要求值为空，需要去标准库维护！")})),e.bushing&&e.bushing.length>0&&e.bushing.forEach((function(r){r.fiber&&r.fiber.length>0&&r.fiber.forEach((function(r){r.productList&&r.productList.length>0&&r.productList.forEach((function(r){if(1==r.state)if(0==s){var o=t(r.ask);o&&i.symbolList.push({symbolItem:o,inspectionItem:r.inspectionItem})}else if(1==s){var l=a.editTable.filter((function(t){return t.sampleId==e.id}));l.forEach((function(e){if(r.ask.includes(e.symbolItem)){var s=t(r.ask,e.symbolItem,e.value);s&&(r.ask=s);var i=a.handleTell(r.tell,e.symbolItem,e.value);i&&(r.tell=i)}}))}}))})),r.fibers&&r.fibers.length>0&&r.fibers.forEach((function(r){r.productList&&r.productList.length>0&&r.productList.forEach((function(r){if(1==r.state)if(0==s){var o=t(r.ask);o&&i.symbolList.push({symbolItem:o,inspectionItem:r.inspectionItem})}else if(1==s){var l=a.editTable.filter((function(t){return t.sampleId==e.id}));l.forEach((function(e){if(r.ask.includes(e.symbolItem)){var s=t(r.ask,e.symbolItem,e.value);s&&(r.ask=s);var i=a.handleTell(r.tell,e.symbolItem,e.value);i&&(r.tell=i)}}))}})),r.fiber&&r.fiber.length>0&&r.fiber.forEach((function(r){r.productList&&r.productList.length>0&&r.productList.forEach((function(r){if(1==r.state)if(0==s){var o=t(r.ask);o&&i.symbolList.push({symbolItem:o,inspectionItem:r.inspectionItem})}else if(1==s){var l=a.editTable.filter((function(t){return t.sampleId==e.id}));l.forEach((function(e){if(r.ask.includes(e.symbolItem)){var s=t(r.ask,e.symbolItem,e.value);s&&(r.ask=s);var i=a.handleTell(r.tell,e.symbolItem,e.value);i&&(r.tell=i)}}))}}))}))}))})),0==s&&r.push(i)})),0==s){r.forEach((function(e){e.symbolList.forEach((function(t){var s=e.symbolList.filter((function(e){return e.symbolItem==t.symbolItem}));t.inspectionItemList=s.map((function(e){return e.inspectionItem})).join(",")}))})),r.forEach((function(e){var t=new Set;e.symbolList=e.symbolList.filter((function(e){var s=t.size;t.add(e.symbolItem);var a=t.size;return s!=a}))}));var i=[];return r.forEach((function(e){e.symbolList.forEach((function(t){var s={sampleCode:e.sampleCode,model:e.model,symbolItem:t.symbolItem,sampleId:e.sampleId,value:null,inspectionItemList:t.inspectionItemList,modelNum:e.modelNum};i.push(s)}))})),i}return e},handleTell:function(e,t,s){try{return this.replaceAll(e,t,s)}catch(a){}},replaceAll:function(e,t,s){return void 0===e?e:e.replaceAll(t,s)},getTotal:function(e){var t=this;this.totalArr=[],this.productList.forEach((function(e){})),e.forEach((function(e){e.insProduct&&e.insProduct.length>0&&e.insProduct.forEach((function(e){t.totalArr.push(e)})),e.bushing&&e.bushing.length>0&&e.bushing.forEach((function(e){e.fiber&&e.fiber.length>0&&e.fiber.forEach((function(e){e.productList&&e.productList.length>0&&e.productList.forEach((function(e){t.totalArr.push(e)}))})),e.fibers&&e.fibers.length>0&&e.fibers.forEach((function(e){e.productList&&e.productList.length>0&&e.productList.forEach((function(e){t.totalArr.push(e)})),e.fiber&&e.fiber.length>0&&e.fiber.forEach((function(e){e.productList&&e.productList.length>0&&e.productList.forEach((function(e){t.totalArr.push(e)}))}))}))}))}));var s=new Set,a=(this.totalArr.filter((function(e){if(1==e.state){var t=s.size;if(""!==e.manHourGroup&&e.manHourGroup){s.add(e.manHourGroup);var a=s.size;return a>t}return!0}})),this.totalArr.filter((function(e){return 1==e.state}))),r=new Set;this.sonLaboratoryList=[],a.forEach((function(e){var s=r.size;r.add(e.sonLaboratory);var a=r.size;a>s&&t.sonLaboratoryList.push({label:e.sonLaboratory,value:e.sonLaboratory})}))},getUserNowList:function(){var e=this;Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["q"])().then((function(t){var s=t.data;null!=s&&(e.addObj.userId=s.id,e.addObj.code=s.code,e.addObj.production="/",e.addObj.productionEn="/")}))},selectStandardMethods:function(){var e=this;Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["D"])().then((function(t){e.methods=t.data}))},getProNum:function(){this.$refs.sampleTable.doLayout()},methodFocus:function(){this.selectsStandardMethodByFLSSM()},selectsStandardMethodByFLSSM:function(){var e=this;this.methodLoad=!0,Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["H"])({tree:this.selectTree}).then((function(t){e.methodLoad=!1;try{if(0==t.data.standardMethodList.length&&5==e.selectTree.split("-").length){var s=e.selectTree.split("-"),a=s.slice(0,s.length-1),r=a.join("-").substring(0,a.join("-").length-1);Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["H"])({tree:r}).then((function(t){e.methods=t.data.standardMethodList}))}else e.methods=t.data.standardMethodList}catch(i){}}))},addListInfo:function(e,t){this.sampleList=[],this.productList=[],this.sample.model=this.addObj.model,this.sample.joinName=null,this.sample.joinModel=null,this.sample.joinNum=1,this.sample.sample=this.addObj.sample,this.sample.unit=this.addObj.unit,this.sample.standardMethodListId=null,this.sample.insProduct=[],this.sample.id=this.count,this.sample.childSampleList=[],this.sample.insulating=null,this.sample.sheath=null,this.sample.quantity=1,"[5]"===e?this.sample.model=this.addObj.sample:"[4]"===e?this.models=t.children2:"[3]"===e&&(this.models=t.children1),this.sampleList.push(this.HaveJson(this.sample)),this.computationalPairing(this.sampleList.length),this.count++},selectProduct:function(e){var t=this;this.productListSelected=e,this.productIds=[],e.forEach((function(e){t.productIds.push(e.id)}))},selectSample:function(e){var t=this;this.sampleIds=[],e.forEach((function(e){t.sampleIds.push(e.id)}))},rowClick:function(e,t,s){var a=this;this.currentMethod=e;var r=this.methods.find((function(e){return e.id==a.currentMethod.standardMethodListId}));r&&"技术要求"==r.code?this.isAskOnlyRead=!0:this.isAskOnlyRead=!1,this.sampleId=e.id,1!==this.active&&(this.sampleIds=[],this.sampleIds.push(e.id)),null!==this.productList&&setTimeout((function(){a.productList.forEach((function(e){1==e.state&&a.toggleSelection(e)}))}),200)},toggleSelection:function(e){this.$refs.productTable.toggleRowSelection(e,!0)},permute:function(e){var t=[];function s(e,a){if(2!==e.length)for(var r=0;r<a.length;r++)e.includes(a[r])||e.length>0&&a[r]<e[e.length-1]||(e.push(a[r]),s(e,a),e.pop());else t.push(Object(D_Projects_Lims_ztt_lims_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__["a"])(e))}return s([],e),t},computationalPairing:function(e){for(var t=[],s=1;s<=e;s++)t.push(s);this.bsm2Val3=this.HaveJson(this.permute(t))},tableRowClassName:function(e){var t=e.row;e.rowIndex;return 0===t.state?"":"warning-row"},changeValue:function(e,t){this.sampleList.length>1&&this.sampleList.forEach((function(s){s[t]=e}))},methodChange:function(e,t){var s=this;if(null!==e&&""!==e){this.sampleList.length>1&&this.sampleList.forEach((function(s){s.standardMethodListId=e,s.modelNum=t.modelNum})),this.currentMethod=t;var a=this.methods.find((function(e){return e.id==s.currentMethod.standardMethodListId}));a&&"技术要求"==a.code?this.isAskOnlyRead=!0:this.isAskOnlyRead=!1,this.getProductLoad=!0;var r=this.selectTree.split(" - ");this.addObj.model&&(r[r.length-1]=this.addObj.model),Object(_api_business_rawMaterialOrder__WEBPACK_IMPORTED_MODULE_37__["E"])({model:this.addObj.model?this.addObj.model:t.model,modelNum:t.modelNum,standardMethodListId:e,factory:r.join(" - "),partNo:this.addObj.partNo,ifsInventoryId:this.customsInspection.id}).then((function(e){s.getProductLoad=!1,e.data.forEach((function(e){e.state=0})),s.productList=s.HaveJson(e.data),s.productList0=JSON.parse(JSON.stringify(s.productList)),s.$refs.sampleTable.setCurrentRow(t),setTimeout((function(){s.productList.forEach((function(e){1==e.state&&s.toggleSelection(e)}))}),200)})).catch((function(e){console.log("err-",e)}))}},changeModel:function(){var e=this;this.sampleList.forEach((function(t){var s=e.sampleIds.find((function(e){return e==t.id}));s&&(t.model=e.model)}))},changeStandardMethodListId:function(){var e=this;this.sampleList.forEach((function(t){var s=e.sampleIds.find((function(e){return e==t.id}));s&&(t.standardMethodListId=e.standardMethodListId,e.methodChange(e.standardMethodListId,t))}))},handleChangeModel:function(e){this.sampleList.length>1&&this.sampleList.forEach((function(t){t.model=e})),this.productList=[];var t=this.selectTreeTem.split("-").length;if(5!=t)this.selectTree=this.selectTreeTem+" - "+e;else{var s=this.selectTreeTem.split(" - "),a=s.slice(0,s.length-1);this.selectTree=a.join(" - ")+"- "+e}},requestChange:function(e,t){var s=this;this.sampleList.map((function(a){return s.sampleIds.indexOf(a.id)>-1&&a.insProduct.map((function(s){return s.id==t.id&&(s.ask=e),s})),a}))},selectable:function(){return!(this.active>1)},upBsmAll:function(e){var t=this,s=this.bsm1DiaList.findIndex((function(t){return t.id===e.id}));if(s>-1){this.bsm1DiaList[s].bsm1Val=e.bsm1Val;var a=this.bsm1DiaList[s].bsmRow.sectionCopy&&JSON.parse(this.bsm1DiaList[s].bsmRow.sectionCopy),r=this.bsm1DiaList[s].bsmRow.askCopy&&JSON.parse(this.bsm1DiaList[s].bsmRow.askCopy),i=this.bsm1DiaList[s].bsmRow.tellCopy&&JSON.parse(this.bsm1DiaList[s].bsmRow.tellCopy);for(var o in a)if(this.bsm1DiaList[s].bsm1Val===a[o]){this.productList.forEach((function(e){e.id===t.bsm1DiaList[s].bsmRow.id&&(e.section=a[o],e.ask=r[o],e.tell=i[o])}));break}}this.changeProductList0(),this.currentMethod.insProduct=this.productList0},selectOne:function(e,t){var s=this;this.bsm1DiaList=[],t.state=1==t.state?0:1,null===t.section&&(t.section=""),void 0===t.sectionCopy&&t.section&&t.section.indexOf("[")>-1&&this.$set(t,"sectionCopy",t.section),t.ask.includes("[")&&this.$set(t,"askCopy",t.ask),t.tell.includes("[")&&this.$set(t,"tellCopy",t.tell);var a=this.productList.filter((function(e){return 1==e.state&&t.sectionCopy&&t.sectionCopy.includes(e.sectionCopy)&&e.ask&&-1==e.sectionCopy.indexOf("[")}));if("1"===t.bsm&&""!==t.sectionCopy&&null!==t.sectionCopy&&void 0!==t.sectionCopy&&1===t.state&&0==a.length)t.sectionCopy.indexOf("[")>-1&&(t.bsmRow=this.HaveJson(t)),t.bsm1=!0,this.bsm1DiaList.push(t),this.bsm1DiaAll=!0;else if("1"===t.bsm&&""!==t.sectionCopy&&null!==t.sectionCopy&&0===t.state&&0==a.length)t.bsm1=!1;else if(a.length>0)try{t.bsmRow=this.HaveJson(t);var r=a[0].section,i=JSON.parse(t.section),o=JSON.parse(t.ask),l=JSON.parse(t.tell),n=i.indexOf(r);t.section=r,t.ask=o[n],t.tell=l[n]}catch(_){}this.sampleList.map((function(e){return s.sampleIds.indexOf(e.id)>-1&&e.insProduct.map((function(e){return e.id==t.id&&(e.state=t.state),e})),e})),this.changeProductList0(),this.currentMethod.insProduct=this.productList0,this.getProNum()},handleAll:function(e){var t=this;e.length>0?this.productList.map((function(t){return e.find((function(e){return e.id==t.id}))&&(t.state=1),t})):this.productList.map((function(e){return e.state=0,e})),this.bsmRow3=[],this.bsm1DiaList=[],this.productList.forEach((function(e){void 0===e.sectionCopy&&e.section&&e.section.indexOf("[")>-1&&t.$set(e,"sectionCopy",e.section),e.ask.includes("[")&&t.$set(e,"askCopy",e.ask),e.tell.includes("[")&&t.$set(e,"tellCopy",e.tell),"1"===e.bsm&&""!==e.sectionCopy&&null!==e.sectionCopy&&void 0!==e.sectionCopy&&1===e.state?(e.sectionCopy.indexOf("[")>-1&&(e.bsmRow=t.HaveJson(e)),e.bsm1=!0,t.bsm1DiaList.push(e),t.bsm1DiaAll=!0):"1"===e.bsm&&""!==e.sectionCopy&&null!==e.sectionCopy&&0===e.state&&(e.bsm1=!1)})),e.length>0?this.sampleList.map((function(e){return t.sampleIds.indexOf(e.id)>-1&&e.insProduct.map((function(e){return e.state=1,e})),e})):this.sampleList.map((function(e){return t.sampleIds.indexOf(e.id)>-1&&e.insProduct.map((function(e){return e.state=0,e})),e})),this.changeProductList0(),this.currentMethod.insProduct=this.productList0,this.getProNum(),this.$nextTick((function(){t.$refs.productTable.doLayout()}))},changeProductList0:function(){var e=this;this.productList0.forEach((function(t){var s=e.productList.find((function(e){return e.id==t.id}));s&&(t.state=s.state,t.section=s.section,t.ask=s.ask,t.tell=s.tell),0==t.state&&t.bsmRow&&(t=e.HaveJson(t.bsmRow))}))},filterHandler:function(e,t,s){var a=s["property"];return t[a]===e},goBack:function(){1==this.active?this.$router.go(-1):this.closeOpenPage()},closeOpenPage:function(){this.$router.go(-1),this.$tab.closeOpenPage()}}}}}]);