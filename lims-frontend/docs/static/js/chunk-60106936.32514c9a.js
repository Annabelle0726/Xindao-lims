(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60106936"],{1930:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-time-management"},[a("div",{staticStyle:{"text-align":"left"}},[a("el-radio-group",{staticStyle:{"margin-top":"16px","margin-left":"16px"},attrs:{size:"small"},model:{value:e.currentComponent,callback:function(t){e.currentComponent=t},expression:"currentComponent"}},[e.checkPermi(["performance:manHour:workTimeStatistics"])?a("el-radio-button",{attrs:{label:"workTimeStatistics"}},[e._v(" 工时汇总 ")]):e._e(),e.checkPermi(["performance:manHour:workTimeManagement"])?a("el-radio-button",{attrs:{label:"workTimeManagement"}},[e._v(" 日工时管理 ")]):e._e(),e.checkPermi(["performance:manHour:workTimeConfig"])?a("el-radio-button",{attrs:{label:"workTimeConfig"}},[e._v(" 辅助工时配置 ")]):e._e()],1)],1),a(e.currentComponent,{tag:"component"})],1)},i=[],l=a("58e8"),n=a("c921"),o=a("24c3a"),s={name:"ManHour",components:{workTimeStatistics:l["default"],workTimeManagement:n["default"],workTimeConfig:o["default"]},created:function(){},data:function(){return{currentComponent:"workTimeStatistics"}}},m=s,c=a("2877"),u=Object(c["a"])(m,r,i,!1,null,"16b3726c",null);t["default"]=u.exports},"24c3a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"capacity-scope"},[a("div",{staticClass:"search"},[a("div",[a("el-form",{ref:"queryParams",attrs:{model:e.queryParams,size:"small",inline:!0}},[a("el-form-item",{attrs:{label:"编号",prop:"number"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable()}},model:{value:e.queryParams.number,callback:function(t){e.$set(e.queryParams,"number",t)},expression:"queryParams.number"}})],1),a("el-form-item",{attrs:{label:"实验室",prop:"laboratory"}},[a("el-select",{attrs:{placeholder:"全部",size:"small",clearable:""},on:{change:function(t){return e.refreshTable()}},model:{value:e.queryParams.laboratory,callback:function(t){e.$set(e.queryParams,"laboratory",t)},expression:"queryParams.laboratory"}},e._l(e.laboratoryList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"部门",prop:"department"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable()}},model:{value:e.queryParams.department,callback:function(t){e.$set(e.queryParams,"department",t)},expression:"queryParams.department"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.refreshTable}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.refresh}},[e._v("重置")])],1)],1)],1),a("div",[e.checkPermi(["performance:manHour:workTimeConfig:add"])?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.openAdd("新增")}}},[e._v("新 增")]):e._e()],1)]),a("div",{staticClass:"table"},[a("lims-table",{attrs:{tableData:e.tableData,column:e.column,tableLoading:e.tableLoading,height:"calc(100vh - 290px)",page:e.page},on:{pagination:e.pagination}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.timeDia,width:"500px"},on:{"update:visible":function(t){e.timeDia=t}}},[a("el-form",{ref:"timeForm",attrs:{model:e.timeForm,rules:e.timeRules,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"编号",prop:"number"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.timeForm.number,callback:function(t){e.$set(e.timeForm,"number",t)},expression:"timeForm.number"}})],1),a("el-form-item",{attrs:{label:"辅助项目名称",prop:"auxiliaryProject"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.timeForm.auxiliaryProject,callback:function(t){e.$set(e.timeForm,"auxiliaryProject",t)},expression:"timeForm.auxiliaryProject"}})],1),a("el-form-item",{attrs:{label:"部门",prop:"department"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.timeForm.department,callback:function(t){e.$set(e.timeForm,"department",t)},expression:"timeForm.department"}})],1),a("el-form-item",{attrs:{label:"实验室",prop:"laboratory"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",clearable:"",placeholder:"请选择"},model:{value:e.timeForm.laboratory,callback:function(t){e.$set(e.timeForm,"laboratory",t)},expression:"timeForm.laboratory"}},e._l(e.laboratoryList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",clearable:"",placeholder:"请选择"},model:{value:e.timeForm.unit,callback:function(t){e.$set(e.timeForm,"unit",t)},expression:"timeForm.unit"}},e._l(e.unitList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a("el-form-item",{attrs:{label:"核准工时",prop:"approvedWorkingHour"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.timeForm.approvedWorkingHour,callback:function(t){e.$set(e.timeForm,"approvedWorkingHour",t)},expression:"timeForm.approvedWorkingHour"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",type:"textarea",rows:2,clearable:""},model:{value:e.timeForm.remarks,callback:function(t){e.$set(e.timeForm,"remarks",t)},expression:"timeForm.remarks"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.timeDia=!1}}},[e._v("取 消")]),a("el-button",{attrs:{loading:e.uploading,type:"primary"},on:{click:function(t){return e.submitProduct("timeForm")}}},[e._v("确 认")])],1)],1)],1)},i=[],l=a("5530"),n=(a("7db0"),a("14d9"),a("a9e3"),a("d3b7"),a("0643"),a("fffc"),a("4e3e"),a("159b"),a("00d5")),o=a("4f37"),s={components:{limsTable:n["a"]},dicts:["sys_unit"],data:function(){var e=this;return{laboratoryList:[],queryParams:{},tableData:[],column:[{label:"编号",prop:"number"},{label:"辅助项目名称",prop:"auxiliaryProject",width:"120px"},{label:"实验室",prop:"laboratory",dataType:"tag",formatData:function(t){return e.laboratoryList.find((function(e){return e.value==t})).label}},{label:"单位",prop:"unit"},{label:"核准工时",prop:"approvedWorkingHour"},{label:"部门",prop:"department"},{label:"备注",prop:"remarks"},{dataType:"action",label:"操作",operation:[{name:"编辑",type:"text",clickFun:function(t){e.openAdd("编辑",t)},showHide:function(t){return e.checkPermi(["performance:manHour:workTimeConfig:edit"])}},{name:"删除",type:"text",clickFun:function(t){e.handleDelete(t)},showHide:function(t){return e.checkPermi(["performance:manHour:workTimeConfig:del"])}}]}],page:{total:0,size:20,current:0},tableLoading:!1,unitList:[],title:"新增",timeDia:!1,timeForm:{},timeRules:{number:[{required:!0,message:"请输入编号",trigger:"blur"}],auxiliaryProject:[{required:!0,message:"请输入辅助项目名称",trigger:"blur"}],laboratory:[{required:!0,message:"请选择实验室",trigger:"change"}],unit:[{required:!0,message:"请选择单位",trigger:"change"}],approvedWorkingHour:[{required:!0,message:"请输入核准工时",trigger:"blur"}]},uploading:!1}},mounted:function(){this.obtainItemParameterList(),this.selectEnumByCategoryForUnit(),this.getList()},methods:{getList:function(){var e=this;this.tableLoading=!0;var t=Object(l["a"])(Object(l["a"])({},this.queryParams),this.page);delete t.total,Object(o["l"])(Object(l["a"])({},t)).then((function(t){e.tableLoading=!1,200===t.code&&(e.tableData=t.data.records,e.page.total=t.data.total)})).catch((function(t){e.tableLoading=!1}))},pagination:function(e){var t=e.page,a=e.limit;this.page.current=t,this.page.size=a,this.getList()},refresh:function(){this.queryParams={},this.page.current=1,this.getList()},refreshTable:function(){this.page.current=1,this.getList()},openAdd:function(e,t){this.title=e,t?(this.timeForm=t,this.timeForm.laboratory=Number(this.timeForm.laboratory)):this.timeForm={},this.timeDia=!0},obtainItemParameterList:function(){var e=this;Object(o["i"])().then((function(t){var a=[];t.data.forEach((function(e){a.push({label:e.laboratoryName,value:e.id})})),e.laboratoryList=a}))},selectEnumByCategoryForUnit:function(){var e=this;this.getDicts("sys_unit").then((function(t){e.unitList=t.data}))},submitProduct:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.uploading=!0,"新增"==t.title?Object(o["g"])(t.timeForm).then((function(e){t.uploading=!1,200==e.code&&(t.$message.success("提交成功"),t.refresh(),t.timeDia=!1)})).catch((function(e){t.uploading=!1})):Object(o["p"])(t.timeForm).then((function(e){t.uploading=!1,200==e.code&&(t.$message.success("提交成功"),t.refresh(),t.timeDia=!1)})).catch((function(e){t.uploading=!1}))}))},handleDelete:function(e){var t=this;this.$confirm("是否删除该条数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["c"])({id:e.id}).then((function(e){200==e.code&&(t.$message.success("删除成功"),t.refresh())}))})).catch((function(){}))}}},m=s,c=(a("bfa9"),a("2877")),u=Object(c["a"])(m,r,i,!1,null,"c9054d0e",null);t["default"]=u.exports},"58e8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"capacity-scope"},[a("div",[a("div",{staticClass:"search"},[a("div",[a("el-form",{ref:"queryParams",attrs:{model:e.queryParams,size:"small",inline:!0}},[a("el-form-item",{attrs:{label:"日期",prop:"month"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:!1,format:"yyyy-MM",placeholder:"选择月",size:"small",type:"month","value-format":"yyyy-MM"},on:{change:function(t){return e.refreshTable()}},model:{value:e.queryParams.month,callback:function(t){e.$set(e.queryParams,"month",t)},expression:"queryParams.month"}})],1),a("el-form-item",{attrs:{label:"员工",prop:"name"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable()}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.refreshTable}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.refresh}},[e._v("重置")])],1)],1)],1)]),a("limsTable",{attrs:{column:e.tableColumn,"table-data":e.tableData,"table-loading":e.tableLoading,page:e.page,height:"calc(100vh - 290px)"},on:{pagination:e.pagination}})],1)])},i=[],l=(a("fb6a"),a("c466")),n=a("00d5"),o=a("4f37"),s={components:{limsTable:n["a"]},data:function(){return{queryParams:{month:Object(l["c"])().slice(0,7),name:"",departLims:""},tableColumn:[{label:"姓名",minWidth:"120px",prop:"userName"},{label:"月份",minWidth:"120px",prop:"month"},{label:"产量工时",minWidth:"120px",prop:"yieldHour"},{label:"辅助工时",minWidth:"120px",prop:"subsidiaryHour"},{label:"总工时",minWidth:"120px",prop:"totalHour"}],tableData:[],tableLoading:!1,page:{total:0,size:20,current:0}}},mounted:function(){this.refreshTable()},methods:{refreshTable:function(){var e=this;this.tableLoading=!0,Object(o["j"])(this.queryParams).then((function(t){e.tableLoading=!1,e.tableData=t.data})).catch((function(){e.tableLoading=!1}))},refresh:function(){this.queryParams={month:Object(l["c"])().slice(0,7),name:"",departLims:""},this.refreshTable()},pagination:function(e){var t=e.page,a=e.limit;this.page.current=t,this.page.size=a,this.refreshTable()}}},m=s,c=a("2877"),u=Object(c["a"])(m,r,i,!1,null,"4dcc871a",null);t["default"]=u.exports},bfa9:function(e,t,a){"use strict";a("fa3d")},fa3d:function(e,t,a){}}]);