(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90f524dc"],{4276:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"capacity-scope"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{"margin-bottom":"18px","margin-right":"10px",display:"flex","align-items":"center","line-height":"32px"}},[a("span",{staticStyle:{width:"88px","font-size":"14px","font-weight":"700",color:"#606266"}},[t._v("标准方法")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchList(e)}},model:{value:t.searchForm.methodName,callback:function(e){t.$set(t.searchForm,"methodName",e)},expression:"searchForm.methodName"}})],1),a("div",{staticStyle:{"line-height":"30px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchList}},[t._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:t.resetSearchForm}},[t._v("重置")])],1)]),a("div",{staticStyle:{"line-height":"30px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.openFormDia("add")}}},[t._v("新 增")])],1)]),a("div",{staticClass:"table"},[a("limsTable",{attrs:{column:t.tableColumn,height:"calc(100vh - 23em)","table-data":t.tableData,"table-loading":t.tableLoading,page:t.page},on:{pagination:t.pagination}})],1),t.formDIa?a("formDIa",{ref:"formDIa",attrs:{operationType:t.operationType},on:{closeDia:t.closeDia}}):t._e()],1)},o=[],n=a("5530"),c=a("00d5"),s=a("bcb2"),r=a("8a34"),l={name:"MethodVerification",components:{limsTable:c["a"],formDIa:s["default"]},data:function(){var t=this;return{searchForm:{methodName:"",operationType:1},options:[{label:"上半年",value:"1"},{label:"下半年",value:"2"}],tableColumn:[{label:"标准方法",prop:"methodName",minWidth:"100"},{label:"验证原因",prop:"verifyReason",minWidth:"100"},{label:"主要技术变化",prop:"technologyChange",minWidth:"100"},{dataType:"action",minWidth:"60",label:"操作",operation:[{name:"编辑",type:"text",clickFun:function(e){t.openFormDia("edit",e)}},{name:"导出",type:"text",clickFun:function(e){t.downLoadPost(e)}},{name:"删除",type:"text",color:"#f56c6c",clickFun:function(e){t.deleteRow(e)}}]}],tableData:[],tableLoading:!1,page:{size:20,current:1,total:0},total:0,formDIa:!1,operationType:""}},mounted:function(){this.searchList()},methods:{searchList:function(){var t=this,e={methodName:this.searchForm.methodName,operationType:this.searchForm.operationType},a=this.page;this.tableLoading=!0,Object(r["f"])(Object(n["a"])(Object(n["a"])({},a),e)).then((function(e){t.tableLoading=!1,200===e.code&&(t.tableData=e.data.records,t.page.total=e.data.total)})).catch((function(e){console.log("err---",e),t.tableLoading=!1}))},deleteRow:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.tableLoading=!0,Object(r["b"])({methodVerifyId:t.methodVerifyId}).then((function(t){e.tableLoading=!1,200===t.code&&(e.$message.success("删除成功"),e.searchList())})).catch((function(t){e.tableLoading=!1,console.log("err---",t)}))}))},resetSearchForm:function(){this.searchForm.methodName="",this.searchList()},openFormDia:function(t,e){var a=this;this.formDIa=!0,this.operationType=t,this.$nextTick((function(){a.$refs.formDIa.openDia(e)}))},downLoadPost:function(t){var e=this;Object(r["c"])({methodVerifyId:t.methodVerifyId}).then((function(t){e.outLoading=!1;var a=new Blob([t],{type:"application/msword"});e.$download.saveAs(a,"标准（方法）确认记录.docx")}))},closeDia:function(){this.formDIa=!1,this.searchList()},pagination:function(t){this.page.size=t.limit,this.searchList()}}},h=l,d=(a("7b20"),a("2877")),m=Object(d["a"])(h,i,o,!1,null,"d48f5060",null);e["default"]=m.exports},"7b20":function(t,e,a){"use strict";a("850b")},"850b":function(t,e,a){}}]);