(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48b5d9b1","chunk-998c423a"],{1030:function(e,t,s){},49043:function(e,t,s){},"57c5":function(e,t,s){"use strict";s("49043")},"83c4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"capacity-scope"},[e.isDetail?s("Detail",{attrs:{id:e.currentId},on:{hanldeBack:function(t){e.isDetail=!1}}}):s("div",[s("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[s("el-form",{ref:"entity",attrs:{model:e.entity,size:"small",inline:!0}},[s("el-form-item",{attrs:{label:"仓库名称",prop:"warehouseId"}},[s("el-select",{attrs:{placeholder:"选择仓库",size:"small"},on:{change:e.warehouseChange},model:{value:e.entity.warehouseId,callback:function(t){e.$set(e.entity,"warehouseId",t)},expression:"entity.warehouseId"}},e._l(e.warehouse,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:"货架",prop:"shelfId"}},[s("el-select",{attrs:{placeholder:"选择货架",size:"small"},on:{change:e.handleShelf},model:{value:e.entity.shelfId,callback:function(t){e.$set(e.entity,"shelfId",t)},expression:"entity.shelfId"}},e._l(e.shelf,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:"样品编号",prop:"searchSampleCode"}},[s("el-input",{attrs:{placeholder:"请输入样品编号",size:"small"},model:{value:e.searchSampleCode,callback:function(t){e.searchSampleCode=t},expression:"searchSampleCode"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1),s("el-form-item",[s("el-button",{staticStyle:{color:"#3A7BFA"},attrs:{size:"small"},on:{click:function(t){e.keepVisible=!0}}},[e._v("维护")]),s("el-button",{staticStyle:{color:"#3A7BFA"},attrs:{size:"small"},on:{click:function(t){e.warehouseVisible=!0,e.isEdit=!1}}},[e._v("添加仓库")]),s("el-button",{staticStyle:{color:"#3A7BFA"},attrs:{size:"small",disabled:null==e.entity.warehouseId},on:{click:function(t){e.shelvesVisible=!0,e.isEdit=!1}}},[e._v("添加货架")])],1)],1),s("div",[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.storageVisible=!0}}},[e._v("入库")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.exportVisible=!0}}},[e._v("出库")])],1)],1),s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"table"},[e.tableList.length>0?s("table",{staticClass:"tables",staticStyle:{"table-layout":"fixed"},attrs:{border:"1",cellpadding:"10"}},[s("tbody",[e._l(e.tableList,(function(t,a){return s("tr",{key:a},e._l(t,(function(t,a){return s("td",{key:a,staticClass:"content"},[void 0!=t.row?s("h4",[e._v(e._s(t.row)+" - "+e._s(t.col))]):e._e(),s("ul",e._l(t.samples,(function(t,a){return s("el-tooltip",{key:a,attrs:{effect:"dark",placement:"top",disabled:(""+t.sample+t.model).length<10}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("span",[e._v(e._s(t.sample))]),s("span",[e._v(" ("+e._s(t.model)+") ["+e._s(t.sampleCode)+"]")])]),s("li",{staticClass:"green",on:{click:function(s){return e.handelDetail(t)}}},[s("i"),s("span",[e._v(e._s(t.sample))]),s("span",[e._v(" ("+e._s(t.model)+") ["+e._s(t.sampleCode)+"]")])])])})),1)])})),0)})),s("tr",e._l(e.rowList,(function(t,a){return s("td",{key:a,staticStyle:{background:"ghostwhite",height:"20px"}},[e._v(e._s(t)+" ")])})),0)],2)]):s("span",{staticStyle:{color:"rgb(144, 147, 153)",display:"inline-block",position:"absolute",top:"60%",left:"50%",transform:"translate(-50%,-50%)"}},[e._v("暂无数据")])])]),s("el-dialog",{attrs:{title:"样品入库",visible:e.storageVisible,width:"350px"},on:{"update:visible":function(t){e.storageVisible=t}}},[s("el-row",[s("el-col",{staticClass:"search_thing",attrs:{span:24}},[s("div",{staticClass:"search_label"},[s("span",{staticClass:"required-span"},[e._v("* ")]),e._v("样品编号：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small"},model:{value:e.sampleCode,callback:function(t){e.sampleCode=t},expression:"sampleCode"}})],1)])],1),e.storageVisible?s("el-tree",{ref:"tree",attrs:{data:e.storageList,props:{children:"warehouseShelfList",label:"name"},"node-key":"id","filter-node-method":e.filterNode,"highlight-current":"","default-expanded-keys":e.expandedKeys,"empty-text":"暂无数据"},on:{"node-click":e.handleNodeClick,"node-expand":e.nodeOpen,"node-collapse":e.nodeClose},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var a=t.data;return s("div",{staticClass:"custom-tree-node"},[s("el-row",[s("el-col",{attrs:{span:24}},[s("span",[s("i",{class:"node_i "+(void 0!=a.warehouseShelfList?"el-icon-folder-opened":"el-icon-tickets")}),e._v(" "+e._s(a.name))])])],1)],1)}}],null,!1,2422570452)}):e._e(),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.storageVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary",loading:e.upLoadStorage},on:{click:e.confirmStorage}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"样品出库",visible:e.exportVisible,width:"350px"},on:{"update:visible":function(t){e.exportVisible=t}}},[s("el-row",[s("el-col",{staticClass:"search_thing",attrs:{span:24}},[s("div",{staticClass:"search_label"},[s("span",{staticClass:"required-span"},[e._v("* ")]),e._v("样品编号：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small"},model:{value:e.sampleCode,callback:function(t){e.sampleCode=t},expression:"sampleCode"}})],1)])],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.exportVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary",loading:e.upLoadExport},on:{click:e.confirmExport}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"库位维护",visible:e.keepVisible,width:"350px","append-to-body":!0},on:{"update:visible":function(t){e.keepVisible=t}}},[e.keepVisible?s("el-tree",{ref:"tree",attrs:{data:e.warehouse,props:{children:"warehouseShelfList",label:"name"},"node-key":"id","filter-node-method":e.filterNode,"highlight-current":"","default-expanded-keys":e.expandedKeys,"empty-text":"暂无数据"},on:{"node-click":e.handleNodeClick,"node-expand":e.nodeOpen,"node-collapse":e.nodeClose},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,l=t.data;return s("div",{staticClass:"custom-tree-node",staticStyle:{width:"100%"}},[s("el-row",{staticStyle:{width:"100%",display:"flex","align-items":"center"}},[s("el-col",{attrs:{span:20}},[s("span",[s("i",{class:"node_i "+(a.level<2?"el-icon-folder-opened":"el-icon-tickets")}),e._v(" "+e._s(l.name))])]),a.level<3?s("el-col",{attrs:{span:4}},[s("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return t.stopPropagation(),e.handleEdit(l,a.level)}}}),s("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return t.stopPropagation(),e.handleDelete(l,a.level)}}})],1):e._e()],1)],1)}}],null,!1,2935110329)}):e._e(),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.keepVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.keepVisible=!1}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:e.isEdit?"仓库修改":"仓库新增",visible:e.warehouseVisible,width:"350px"},on:{"update:visible":function(t){e.warehouseVisible=t}}},[s("el-row",[s("el-col",{staticClass:"search_thing",attrs:{span:24}},[s("div",{staticClass:"search_label"},[s("span",{staticClass:"required-span"},[e._v("* ")]),e._v("仓库名称：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmWarehouse(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)])],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.warehouseVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary",loading:e.upLoadWarehouse},on:{click:e.confirmWarehouse}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:e.isEdit?"货架修改":"货架新增",visible:e.shelvesVisible,width:"350px"},on:{"update:visible":function(t){e.shelvesVisible=t}}},[s("el-row",[s("el-col",{staticClass:"search_thing",attrs:{span:24}},[s("div",{staticClass:"search_label"},[s("span",{staticClass:"required-span"},[e._v("* ")]),e._v("货架名称：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small"},model:{value:e.shelves.name,callback:function(t){e.$set(e.shelves,"name",t)},expression:"shelves.name"}})],1)])],1),s("el-row",[s("el-col",{staticClass:"search_thing",attrs:{span:24}},[s("div",{staticClass:"search_label"},[s("span",{staticClass:"required-span"},[e._v("* ")]),e._v("货架层数：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small"},model:{value:e.shelves.row,callback:function(t){e.$set(e.shelves,"row",t)},expression:"shelves.row"}})],1)])],1),s("el-row",[s("el-col",{staticClass:"search_thing",attrs:{span:24}},[s("div",{staticClass:"search_label"},[s("span",{staticClass:"required-span"},[e._v("* ")]),e._v("货架列数：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small"},model:{value:e.shelves.col,callback:function(t){e.$set(e.shelves,"col",t)},expression:"shelves.col"}})],1)])],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.shelvesVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary",loading:e.upLoadShelves},on:{click:e.confirmShelves}},[e._v("确 定")])],1)],1)],1)},l=[],i=s("5530"),o=(s("7db0"),s("a15b"),s("d81d"),s("14d9"),s("b0c0"),s("d3b7"),s("6062"),s("1e70"),s("79a4"),s("c1a1"),s("8b00"),s("a4e7"),s("1e5a"),s("72c3"),s("3ca3"),s("0643"),s("fffc"),s("4e3e"),s("a573"),s("159b"),s("ddb0"),s("c428")),n=s("b775");function r(){return Object(n["a"])({url:"/warehouse/selectWarehouse",method:"get"})}function c(e){return Object(n["a"])({url:"/warehouse/inWarehouse",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/warehouse/outWarehouse",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/warehouse/upWarehouse",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/warehouse/addWarehouse",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/warehouse/upShelf",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/warehouse/addShelf",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/warehouse/delWarehouse",method:"delete",params:e})}function b(e){return Object(n["a"])({url:"/warehouse/delShelf",method:"delete",params:e})}function v(e){return Object(n["a"])({url:"/warehouse/getWarehouse",method:"get",params:e})}function w(e){return Object(n["a"])({url:"/warehouse/searchSampleId",method:"post",data:e})}var _={name:"Sample",components:{Detail:o["default"]},data:function(){return{entity:{warehouseId:null,shelfId:null},warehouse:[],shelf:[],storageList:[],storageVisible:!1,exportVisible:!1,keepVisible:!1,warehouseVisible:!1,shelvesVisible:!1,upLoadStorage:!1,upLoadExport:!1,upLoadWarehouse:!1,upLoadShelves:!1,tableList:[],rowList:[],value:"",name:"",shelves:{},selectTree:[],expandedKeys:[],isEdit:!1,isDetail:!1,currentEdit:null,tableLoading:!1,sampleCode:"",currentId:null,searchSampleCode:""}},mounted:function(){this.selectList()},methods:{selectList:function(){var e=this;r().then((function(t){e.warehouse=t.data,0==t.data.length&&(e.entity.warehouseId="",e.entity.shelfId="",e.tableList=[]),e.storageList=e.HaveJson(t.data).map((function(e){return e.warehouseShelfList&&e.warehouseShelfList.length>0&&e.warehouseShelfList.map((function(e){for(var t=[],s=1;s<e.row+1;s++){for(var a=[],l=1;l<e.col+1;l++)a.push({name:l+" 列",id:l});t.push({name:s+" 层",id:s,warehouseShelfList:a})}return e.warehouseShelfList=t,e})),e})),!e.entity.warehouseId&&e.warehouse.length>0?(e.entity.warehouseId=e.warehouse[0].id,e.warehouseChange(e.entity.warehouseId),e.shelf.length>0?(e.entity.shelfId=e.shelf[0].id,e.handleShelf(e.entity.shelfId)):e.tableList=[]):e.warehouse.length>0&&(e.warehouseChange(e.entity.warehouseId),e.shelf.length>0?(e.entity.shelfId=e.shelf[0].id,e.handleShelf(e.entity.shelfId)):e.tableList=[])}))},confirmStorage:function(){var e=this;this.sampleCode?this.selectTree.length<4?this.$message.error("请选择样品入库位置"):(this.upLoadStorage=!0,c({trees:this.selectTree.join("-"),sampleCode:this.sampleCode}).then((function(t){e.upLoadStorage=!1,e.storageVisible=!1,e.sampleCode="",e.selectTree=[],e.$message.success("入库成功"),e.handleShelf(e.entity.shelfId)})).catch((function(t){e.upLoadStorage=!1}))):this.$message.error("请填写样品编号")},confirmExport:function(){var e=this;this.sampleCode?(this.upLoadExport=!0,d({sampleCode:this.sampleCode}).then((function(t){e.upLoadExport=!1,e.exportVisible=!1,e.sampleCode="",e.$message.success("出库成功"),e.handleShelf(e.entity.shelfId)})).catch((function(t){e.upLoadExport=!1}))):this.$message.error("请填写样品编号")},confirmWarehouse:function(){var e=this;this.name?(this.upLoadWarehouse=!0,this.currentEdit&&this.currentEdit.id?u({name:this.name,id:this.currentEdit.id}).then((function(t){e.upLoadWarehouse=!1,e.warehouseVisible=!1,e.currentEdit=null,e.$message.success("修改成功"),e.selectList(),e.name="",e.warehouseChange(e.entity.warehouseId)})).catch((function(t){e.upLoadWarehouse=!1})):h({name:this.name}).then((function(t){e.upLoadWarehouse=!1,e.warehouseVisible=!1,e.$message.success("添加成功"),e.selectList(),e.name="",e.warehouseChange(e.entity.warehouseId)})).catch((function(t){e.upLoadWarehouse=!1}))):this.$message.error("请填写仓库名称")},confirmShelves:function(){var e=this;this.shelves.name?this.shelves.row?this.shelves.col?(this.upLoadShelves=!0,this.currentEdit&&this.currentEdit.id?p(Object(i["a"])({id:this.currentEdit.id},this.shelves)).then((function(t){e.upLoadShelves=!1,e.shelvesVisible=!1,e.$message.success("修改成功"),e.selectList(),e.currentEdit={}})).catch((function(t){e.upLoadShelves=!1})):f(Object(i["a"])({warehouseId:this.entity.warehouseId},this.shelves)).then((function(t){e.upLoadShelves=!1,e.shelvesVisible=!1,e.$message.success("添加成功"),e.selectList(),e.shelves={}})).catch((function(t){e.upLoadShelves=!1})),this.warehouseChange(this.entity.warehouseId)):this.$message.error("请填写货架列数"):this.$message.error("请填写货架层数"):this.$message.error("请填写货架名称")},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e,t,s){this.selectTree[t.level-1]=e.id},nodeOpen:function(e,t,s){$($(s.$el).find(".node_i")[0]).attr("class","node_i el-icon-folder-opened"),this.selectTree[t.level-1]=e.id},nodeClose:function(e,t,s){$($(s.$el).find(".node_i")[0]).attr("class","node_i el-icon-folder")},handleDelete:function(e,t){var s=this;this.$confirm("是否当前数据?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){1==t?m({id:e.id}).then((function(e){s.$message.success("成功"),s.selectList()})).catch((function(e){s.$message.error("失败")})):b({id:e.id}).then((function(e){s.$message.success("成功"),s.selectList()})).catch((function(e){s.$message.error("失败")})),s.warehouseChange(s.entity.warehouseId)})).catch((function(){}))},handleEdit:function(e,t){this.isEdit=!0,1==t?(this.warehouseVisible=!0,this.currentEdit=e,this.name=e.name):(this.shelvesVisible=!0,this.currentEdit=e,this.shelves={name:e.name,row:e.row,col:e.col,warehouseId:e.warehouseId})},handelDetail:function(e){this.currentId=e.id,this.isDetail=!0},warehouseChange:function(e){this.tableList=[];var t=this.warehouse.find((function(t){return t.id===e?t:null}));this.shelf=t.warehouseShelfList,this.entity.shelfId=""},handleShelf:function(e){var t=this;e&&(this.tableLoading=!0,v({shelfId:e}).then((function(e){t.tableLoading=!1;var s=e.data,a=new Set;t.tableList=[];var l=[];s.forEach((function(e){a.add(e.col),l.length>0?(l.find((function(t){return t.row==e.row}))||(t.tableList.push(l),l=[]),l.push(e)):l.push(e)})),t.tableList.push(l),t.rowList=[];for(var i=0;i<a.size;i++)t.rowList.push("".concat(i+1," 列"))})).catch((function(e){t.tableLoading=!1})))},handleSearch:function(){var e=this;this.searchSampleCode?w({sampleCode:this.searchSampleCode}).then((function(t){200==t.code&&(e.currentId=t.data,e.isDetail=!0)})):this.$message.error("请输入样品编号")}}},g=_,y=(s("57c5"),s("2877")),C=Object(y["a"])(g,a,l,!1,null,"f4943c84",null);t["default"]=C.exports},c428:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"detail",staticStyle:{width:"100%",height:"100%","overflow-y":"auto"}},[s("div",[s("el-row",{staticClass:"title"},[s("el-col",{staticStyle:{"padding-left":"20px","text-align":"left"},attrs:{span:12}},[e._v("样品详情")]),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-button",{attrs:{size:"small"},on:{click:e.hanldeBack}},[e._v("返回")])],1)],1)],1),s("div",{staticClass:"search"},[s("div",{staticClass:"search_thing"},[s("div",{staticClass:"search_label"},[e._v("样品编号：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:"",disabled:""},model:{value:e.entity.sampleCode,callback:function(t){e.$set(e.entity,"sampleCode",t)},expression:"entity.sampleCode"}})],1)]),s("div",{staticClass:"search_thing"},[s("div",{staticClass:"search_label"},[e._v("样品名称：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:"",disabled:""},model:{value:e.entity.sample,callback:function(t){e.$set(e.entity,"sample",t)},expression:"entity.sample"}})],1)]),s("div",{staticClass:"search_thing"},[s("div",{staticClass:"search_label"},[e._v("样品数量：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:"",disabled:""},model:{value:e.entity.num,callback:function(t){e.$set(e.entity,"num",t)},expression:"entity.num"}})],1)]),s("div",{staticClass:"search_thing"},[s("div",{staticClass:"search_label"},[e._v("单位：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:"",disabled:""},model:{value:e.entity.unit,callback:function(t){e.$set(e.entity,"unit",t)},expression:"entity.unit"}})],1)]),s("div",{staticClass:"search_thing"},[s("div",{staticClass:"search_label"},[e._v("入库时间：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:"",disabled:""},model:{value:e.entity.date,callback:function(t){e.$set(e.entity,"date",t)},expression:"entity.date"}})],1)]),s("div",{staticClass:"search_thing"},[s("div",{staticClass:"search_label"},[e._v("入库人：")]),s("div",{staticClass:"search_input"},[s("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:"",disabled:""},model:{value:e.entity.user,callback:function(t){e.$set(e.entity,"user",t)},expression:"entity.user"}})],1)]),s("div",{staticClass:"search_thing"},[s("div",{staticClass:"search_label"},[e._v("库位号：")]),s("div",{staticClass:"search_input"},[s("el-input",{staticStyle:{"min-width":"230px"},attrs:{size:"small",placeholder:"请输入",clearable:"",disabled:""},model:{value:e.entity.code,callback:function(t){e.$set(e.entity,"code",t)},expression:"entity.code"}})],1)])]),s("h4",[e._v("检验项目")]),s("div",{staticClass:"table"},[s("el-table",{ref:"productTable",staticClass:"el-table",attrs:{data:e.products,height:"380px","tooltip-effect":"dark","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:""}},[s("el-table-column",{key:Math.random(),attrs:{type:"index",align:"center",label:"序号",width:"70"}}),s("el-table-column",{attrs:{prop:"inspectionItem",label:"检验项","min-width":"100","show-overflow-tooltip":""}}),"装备电缆"==e.PROJECT?s("el-table-column",{attrs:{prop:"inspectionItemSubclass",label:"检验项分类","min-width":"100","show-overflow-tooltip":""}}):e._e(),s("el-table-column",{attrs:{prop:"laboratory",label:"实验室","min-min-width":"100","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"unit",label:"单位","min-width":"100","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"equipValue",label:"设备","min-width":"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.handleData(t.row.equipValue))+" ")]}}])}),s("el-table-column",{attrs:{prop:"entrustCode",label:"委托编号","min-width":"100","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"updateUserName",label:"检验人","min-width":"100","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"updateTime",label:"检验时间","min-width":"100","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"insResult",label:"结论","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:1==t.row.insResult?"success":"danger",size:"medium"}},[e._v(e._s(1==t.row.insResult?"合格":"不合格"))])]}}])})],1)],1),s("h4",[e._v("出入库历史")]),s("div",{staticClass:"table",staticStyle:{"margin-bottom":"20px"}},[s("el-table",{ref:"productTable",staticClass:"el-table",attrs:{data:e.histories,height:"380px","tooltip-effect":"dark","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:""}},[s("el-table-column",{key:Math.random(),attrs:{type:"index",align:"center",label:"序号",width:"70"}}),s("el-table-column",{attrs:{prop:"state",label:"类型","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:1==t.row.state?"success":"danger"}},[e._v(e._s(1==t.row.state?"入库":"出库"))])]}}])}),s("el-table-column",{attrs:{prop:"createUserName",label:"操作人","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"createTime",label:"操作时间","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"warehouseCode",label:"库位号","show-overflow-tooltip":""}})],1)],1)])},l=[],i=s("5530"),o=(s("a15b"),s("d81d"),s("b64b"),s("d3b7"),s("0643"),s("a573"),{props:["id"],data:function(e){return{entity:{num:1},products:[],histories:[]}},mounted:function(){this.getInfo()},methods:{hanldeBack:function(){this.$emit("hanldeBack")},getInfo:function(){var e=this;this.$axios.post(this.$api.warehouse.getSampleRecord,{id:this.id}).then((function(t){var s=t.data,a=s.histories,l=s.insSample,o=s.sampleHistory,n=s.products;e.entity=Object(i["a"])(Object(i["a"])({num:1},l),o),e.histories=a,e.products=n}))},handleData:function(e){var t="";return e&&(t=JSON.parse(e).map((function(e){return e.v})).join(",")),t}}}),n=o,r=(s("ead3"),s("2877")),c=Object(r["a"])(n,a,l,!1,null,"30b98698",null);t["default"]=c.exports},ead3:function(e,t,s){"use strict";s("1030")}}]);