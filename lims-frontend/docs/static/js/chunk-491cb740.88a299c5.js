(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-491cb740"],{"055c":function(t,e,n){"use strict";n("f8e60")},"07ac":function(t,e,n){"use strict";var r=n("23e7"),a=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return a(t)}})},2381:function(t,e,n){"use strict";n.d(e,"n",(function(){return a})),n.d(e,"l",(function(){return i})),n.d(e,"k",(function(){return s})),n.d(e,"m",(function(){return o})),n.d(e,"q",(function(){return l})),n.d(e,"D",(function(){return u})),n.d(e,"o",(function(){return c})),n.d(e,"r",(function(){return d})),n.d(e,"G",(function(){return p})),n.d(e,"h",(function(){return f})),n.d(e,"B",(function(){return m})),n.d(e,"A",(function(){return h})),n.d(e,"e",(function(){return b})),n.d(e,"a",(function(){return w})),n.d(e,"E",(function(){return g})),n.d(e,"H",(function(){return O})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return L})),n.d(e,"d",(function(){return y})),n.d(e,"F",(function(){return S})),n.d(e,"z",(function(){return j})),n.d(e,"f",(function(){return k})),n.d(e,"w",(function(){return M})),n.d(e,"u",(function(){return x})),n.d(e,"x",(function(){return I})),n.d(e,"v",(function(){return T})),n.d(e,"t",(function(){return _})),n.d(e,"I",(function(){return R})),n.d(e,"s",(function(){return $})),n.d(e,"C",(function(){return z})),n.d(e,"p",(function(){return P})),n.d(e,"j",(function(){return C})),n.d(e,"i",(function(){return E})),n.d(e,"g",(function(){return A})),n.d(e,"y",(function(){return B}));var r=n("b775");function a(t){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByStateOne",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByOver",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByAll",method:"get",params:t})}function o(t){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByQuarter",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/system/newUser/getUserNow",method:"get"})}function u(t){return Object(r["a"])({url:"/standardTree/selectStandardMethodEnum",method:"get"})}function c(t){return Object(r["a"])({url:"/insOrder/getInsOrder",method:"get",params:t})}function d(t){return Object(r["a"])({url:"/rawMaterialOrder/notificationRawOrder",method:"get",params:t})}function p(t){return Object(r["a"])({url:"/rawMaterialOrder/selectStandardTreeListByPartNo",method:"get",params:t})}function f(t){return Object(r["a"])({url:"/rawMaterialOrder/delRawMaterOrderTemplate",method:"delete",params:t})}function m(t){return Object(r["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplateById",method:"get",params:t})}function h(t){return Object(r["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplate",method:"get",params:t})}function b(t){return Object(r["a"])({url:"/rawMaterialOrder/addRawMaterOrderTemplate",method:"post",data:t})}function w(t){return Object(r["a"])({url:"/rawMaterialOrder/addExemptionOrder",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/standardTree/selectStandardProductList",method:"post",data:t})}function O(t){return Object(r["a"])({url:"/standardTree/selectsStandardMethodByFLSSM",method:"get",params:t})}function v(t){return Object(r["a"])({url:"/insOrder/addInsOrder",method:"post",data:t})}function L(t){return Object(r["a"])({url:"/rawMaterialOrder/addRawCopperOrder",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/rawMaterialOrder/addRawCopperOrderExemptionOrder",method:"post",data:t})}function S(){return Object(r["a"])({url:"/standardTree/selectStandardTreeList2",method:"get"})}function j(t){return Object(r["a"])({url:"/insOrder/selectInsOrderTemplate",method:"get",params:t})}function k(t){return Object(r["a"])({url:"/rawMaterialOrder/concessionRelease",method:"post",data:t})}function M(t){return Object(r["a"])({url:"/rawMaterialOrder/repealQuarterRawOrder",method:"post",data:t})}function x(t){return Object(r["a"])({url:"/rawMaterialOrder/rawOrderRelease",method:"post",data:t})}function I(t){return Object(r["a"])({url:"/rawMaterialOrder/revokeInspectionReport",method:"post",data:t})}function T(t){return Object(r["a"])({url:"/rawMaterialOrder/repealEnterRawOrder",method:"post",data:t})}function _(t){return Object(r["a"])({url:"/rawMaterialOrder/rawAllExport",method:"get",data:t,responseType:"blob"})}function R(t){return Object(r["a"])({url:"/insOrder/updateEntrustCode",method:"post",data:t})}function $(t){return Object(r["a"])({url:"/rawMaterialOrder/printLabel",method:"post",data:t})}function z(t){return Object(r["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:t})}function P(t){return Object(r["a"])({url:"/insOrder/getRetestResult",method:"get",params:t})}function C(t){return Object(r["a"])({url:"/insOrderPlan/getFileList",method:"get",params:t})}function E(t){return Object(r["a"])({url:"/insOrderPlan/downFile",method:"get",params:t})}function A(t){return Object(r["a"])({url:"/insOrderPlan/delfile",method:"delete",params:t})}function B(t){return Object(r["a"])({url:"/insOrderPlan/saveUnqualifiedContext",method:"post",data:t})}},c03f:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"search_form"},["绝缘"==t.currentTab?n("div",{staticStyle:{display:"flex"}},[n("el-radio-group",{staticStyle:{"margin-right":"20px"},attrs:{size:"small"},on:{input:t.changeTab},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[n("el-radio-button",{attrs:{label:"绝缘"}},[t._v("绝 缘")])],1),n("el-form",{ref:"entity",attrs:{model:t.insulating,size:"small",inline:!0}},[n("el-form-item",{attrs:{label:"芯数",prop:"num"}},[n("el-select",{attrs:{"allow-create":"",clearable:"","default-first-option":"",filterable:"",multiple:"",size:"small"},model:{value:t.insulating.num,callback:function(e){t.$set(t.insulating,"num",e)},expression:"insulating.num"}},t._l(t.quantityList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"检验标准",prop:"standardMethodListId"}},[n("el-select",{attrs:{disabled:"",placeholder:"请选择检验标准",size:"small"},on:{change:function(e){return t.methodChange(e)}},model:{value:t.insulating.standardMethodListId,callback:function(e){t.$set(t.insulating,"standardMethodListId",e)},expression:"insulating.standardMethodListId"}},t._l(t.standards,(function(t){return n("el-option",{key:t.id,attrs:{label:t.code,value:t.id}})})),1)],1)],1)],1):t._e(),n("div",[n("el-button",{attrs:{size:"small"},on:{click:t.outConfig}},[t._v("返 回")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("保 存")])],1)]),n("div",{staticClass:"table"},[n("el-table",{ref:"productTable",staticClass:"el-table",attrs:{data:t.productList,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 200px)","tooltip-effect":"dark","header-cell-style":{background:"#f8f8f9",color:"#515a6e"}},on:{select:t.upProductSelect,"selection-change":t.selectProduct,"select-all":t.handleAll}},[n("el-table-column",{attrs:{selectable:t.selectable,type:"selection",width:"65"}}),n("el-table-column",{attrs:{label:"检验项分类","min-width":"140",prop:"inspectionItemClass","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"检验项","min-width":"140",prop:"inspectionItem","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[n("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[n("span",[t._v("检验项")]),1==t.active?n("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.inspectionItem,callback:function(e){t.inspectionItem=e},expression:"inspectionItem"}}):t._e()],1)]}}])}),n("el-table-column",{attrs:{label:"检验项子项","min-width":"140",prop:"inspectionItemSubclass","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[n("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[n("span",[t._v("检验项子项")]),1==t.active?n("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.inspectionItemSubclass,callback:function(e){t.inspectionItemSubclass=e},expression:"inspectionItemSubclass"}}):t._e()],1)]}}])}),n("el-table-column",{attrs:{label:"要求描述","min-width":"220px",prop:"tell"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.active&&(t.isAskOnlyRead||t.isSpecial)?n("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:e.row.tell,callback:function(n){t.$set(e.row,"tell",n)},expression:"scope.row.tell"}}):n("span",[[t._v(t._s(e.row.tell))]],2)]}}])}),n("el-table-column",{attrs:{label:"要求值","min-width":"220px",prop:"ask"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.active&&(t.isAskOnlyRead||t.isSpecial)?n("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求值",size:"small",type:"textarea"},model:{value:e.row.ask,callback:function(n){t.$set(e.row,"ask",n)},expression:"scope.row.ask"}}):n("span",[t._v(t._s(e.row.ask))])]}}])}),n("el-table-column",{attrs:{label:"条件","min-width":"140",prop:"radius","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[1!=t.active||!t.isAskOnlyRead&&!t.isSpecial||e.row.inspectionItem.includes("高温压力试验")?t._e():n("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:e.row.radius,callback:function(n){t.$set(e.row,"radius",n)},expression:"scope.row.radius"}}),e.row.inspectionItem.includes("高温压力试验")&&1==t.active?n("el-select",{attrs:{clearable:"",placeholder:"条件",size:"small"},model:{value:e.row.radius,callback:function(n){t.$set(e.row,"radius",n)},expression:"scope.row.radius"}},t._l(JSON.parse(e.row.radiusList),(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1):t._e(),1!=t.active?n("span",[t._v(t._s(e.row.radius))]):t._e()]}}])}),n("el-table-column",{attrs:{label:"试验方法","min-width":"120",prop:"methodS","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[n("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[n("span",[t._v("试验方法")]),1==t.active?n("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.methodS,callback:function(e){t.methodS=e},expression:"methodS"}}):t._e()],1)]}}])}),n("el-table-column",{attrs:{label:"计量单位",prop:"unit","show-overflow-tooltip":"",width:"100"}}),n("el-table-column",{attrs:{label:"单价",prop:"price","show-overflow-tooltip":"",width:"100"}}),n("el-table-column",{attrs:{label:"区间","min-width":"120",prop:"section","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"子实验室","min-width":"130",prop:"sonLaboratory","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{"filter-method":t.filterHandler,filters:t.filters,label:"子实验室","min-width":"130",prop:"sonLaboratory","show-overflow-tooltip":""}}),t.isSpecial?n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.repetitionTag?t._e():n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.addProductList(t.productList,e.row,e.$index)}}},[t._v("插入行")]),e.row.repetitionTag&&e.row.delete?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.deleteProductList(e.$index,t.productList)}}},[t._v("删除")]):t._e()]}}],null,!1,3023364105)}):t._e()],1)],1)])},a=[],i=(n("4de4"),n("7db0"),n("caad"),n("a15b"),n("d81d"),n("14d9"),n("fb6a"),n("a434"),n("d3b7"),n("07ac"),n("2532"),n("0643"),n("2382"),n("fffc"),n("4e3e"),n("a573"),n("9a9a"),n("159b"),n("2381")),s={props:{active:{type:String,default:function(){return"0"}},sampleSelectionList:{type:Array,default:function(){return[]}},isSpecial:{type:Boolean,default:function(){return!1}}},data:function(t){return{standardList:[],vaule0:"",currentTab:"绝缘",upIndex:0,productList:[],productIds:[],sample:[],tree:"",standards:[],insulating:{standardMethodListId:null,insProduct:[],num:[]},isAskOnlyRead:!1,inspectionItem:null,inspectionItemSubclass:null,methodS:null,filters:[],quantityList:[]}},mounted:function(){var t=this;this.$parent.sampleIds.forEach((function(e){for(var n=0;n<t.$parent.sampleList.length;n++)if(t.$parent.sampleList[n].id==e){t.sample.push(t.$parent.sampleList[n]),void 0!==t.$parent.sampleList[n].insulating&&null!==t.$parent.sampleList[n].insulating&&(t.insulating=t.$parent.sampleList[n].insulating);break}})),this.selectsStandardMethodByFLSSM2()},methods:{searchFilterList:function(){var t=this,e={inspectionItem:this.inspectionItem,inspectionItemSubclass:this.inspectionItemSubclass,methodS:this.methodS},n=Object.values(e).some((function(t){return t}));if(n){var r=function(n){e[n]&&(t.productList=t.productList0.filter((function(t){return t[n]&&t[n].includes(e[n])})))};for(var a in e)r(a)}else this.productList=this.productList0},outConfig:function(){this.$parent.cableConfigShow=!1},selectProduct:function(t){var e=this;this.productIds=[],t.forEach((function(t){e.productIds.push(t.id)}))},upProductSelect:function(t,e){e.state=1==e.state?0:1},handleAll:function(t){var e=this;t.length>0?this.productList.map((function(t){return t.state=1,t})):this.productList.map((function(t){return t.state=0,t})),this.$nextTick((function(){e.$refs.productTable.doLayout()}))},tableRowClassName:function(t){var e=t.row;t.rowIndex;return 0===e.state?"":"warning-row"},selectable:function(){return!(this.active>1)},selectsStandardMethodByFLSSM2:function(){var t=this;this.standards=[],Object(i["H"])({tree:this.$parent.selectTree}).then((function(e){try{if(0==e.data.standardMethodList.length&&5==t.selectTree.split("-").length){var n=t.selectTree.split("-"),r=n.slice(0,n.length-1),a=r.join("-").substring(0,r.join("-").length-1);Object(i["H"])({tree:a}).then((function(e){t.standards=e.data.standardMethodList}))}else t.standards=e.data.standardMethodList}catch(s){}})),this.insulating.standardMethodListId=this.sampleSelectionList[0].standardMethodListId,this.insulating.insProduct.length>0?(this.productList=this.insulating.insProduct,setTimeout((function(){t.productList.forEach((function(e){1==e.state&&t.toggleSelection(e)}))}),200)):this.methodChange(this.sampleSelectionList[0].standardMethodListId)},methodChange:function(t){var e=this;if(null!==t&&""!==t){var n=this.standards.find((function(e){return e.id===t}));null!=n&&"技术要求"===n.code?this.isAskOnlyRead=!0:this.isAskOnlyRead=!1;var r=this.$parent.selectTree.split(" - ");this.$parent.addObj.model&&(r[r.length-1]=this.$parent.addObj.model);var a=this.sampleSelectionList[0].model,s=this.sampleSelectionList[0].modelNum,o=this.sampleSelectionList[0].cores,l=this.sampleSelectionList[0].conductorMaterial,u=this.sampleSelectionList[0].conductorType;Object(i["E"])({model:this.$parent.addObj.model?this.$parent.addObj.model:a,modelNum:s,cores:o,conductorMaterial:l,conductorType:u,standardMethodListId:t,factory:r.join(" - "),isCableTag:"1"},{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.forEach((function(t){t.state=0})),e.productList=t.data}))}},toggleSelection:function(t){this.$refs.productTable.toggleRowSelection(t,!0)},save:function(){var t=this;this.insulating.insProduct=this.HaveJson(this.productList),0===this.insulating.insProduct.length||0!==this.insulating.num.length?(this.insulating.insProduct.forEach((function(t){delete t.id})),"绝缘"===this.currentTab&&this.sample.forEach((function(e){e.insulating=t.insulating})),this.$emit("goBackAdd"),this.$message.success("已保存")):this.$message.error("缺少芯数无法保存")},changeTab:function(t){var e=this;"绝缘"===t&&(this.productList=this.insulating.insProduct),setTimeout((function(){e.productList.forEach((function(t){1==t.state&&e.toggleSelection(t)}))}),100)},filterHandler:function(t,e,n){var r=n["property"];return e[r]===t},addProductList:function(t,e,n){var r=t.filter((function(t){return t.id==e.id&&(t.delete=!1),t.id==e.id})),a=r.length,i=this.HaveJson(e);i.repetitionTag=a,i.delete=!0,i.state=0,t.splice(n+a,0,i)},deleteProductList:function(t,e){e[t-1]&&e[t-1].repetitionTag&&(e[t-1].delete=!0),e.splice(t,1)}}},o=s,l=(n("055c"),n("2877")),u=Object(l["a"])(o,r,a,!1,null,"3d224e74",null);e["default"]=u.exports},f8e60:function(t,e,n){}}]);