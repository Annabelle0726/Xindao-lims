(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6564808f"],{"395c":function(t,e,a){"use strict";a("5059")},5059:function(t,e,a){},a7b0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"capacity-scope"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{"margin-bottom":"18px","margin-right":"10px",display:"flex","align-items":"center","line-height":"32px"}},[a("span",{staticStyle:{width:"128px","font-size":"14px","font-weight":"700",color:"#606266"}},[t._v("检验报告编号")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.refreshTable()}},model:{value:t.queryParams.insReportCode,callback:function(e){t.$set(t.queryParams,"insReportCode",e)},expression:"queryParams.insReportCode"}})],1),a("div",{staticStyle:{"line-height":"30px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.refreshTable}},[t._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:t.refresh}},[t._v("重置")])],1)]),a("div",{staticStyle:{"line-height":"30px"}},[t.outPower?a("el-button",{attrs:{size:"small",type:"primary",loading:t.outLoading},on:{click:t.handleDown}},[t._v("导出")]):t._e(),t.addPower?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.openAdd}},[t._v("新增")]):t._e()],1)]),a("div",{staticClass:"table"},[a("lims-table",{attrs:{tableData:t.tableData,column:t.column,tableLoading:t.tableLoading,height:"calc(100vh - 270px)",page:t.page,isSelection:!0,handleSelectionChange:t.handleSelectionChange},on:{pagination:t.pagination}})],1),a("el-dialog",{attrs:{title:t.title,visible:t.addDialogVisible,width:"400px",top:"6vh"},on:{"update:visible":function(e){t.addDialogVisible=e}}},[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("检验报告编号：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:t.addInfo.insReportCode,callback:function(e){t.$set(t.addInfo,"insReportCode",e)},expression:"addInfo.insReportCode"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("页数：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:t.addInfo.pages,callback:function(e){t.$set(t.addInfo,"pages",e)},expression:"addInfo.pages"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("发送份数：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:t.addInfo.number,callback:function(e){t.$set(t.addInfo,"number",e)},expression:"addInfo.number"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("发往何处：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:t.addInfo.send,callback:function(e){t.$set(t.addInfo,"send",e)},expression:"addInfo.send"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("发送方式：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:t.addInfo.method,callback:function(e){t.$set(t.addInfo,"method",e)},expression:"addInfo.method"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("发送日期：")]),a("div",{staticClass:"search_input"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",size:"small",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.addInfo.sendTime,callback:function(e){t.$set(t.addInfo,"sendTime",e)},expression:"addInfo.sendTime"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("发送人：")]),a("div",{staticClass:"search_input"},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.addInfo.sendUser,callback:function(e){t.$set(t.addInfo,"sendUser",e)},expression:"addInfo.sendUser"}},t._l(t.personList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("签收人：")]),a("div",{staticClass:"search_input"},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",multiple:""},model:{value:t.addInfo.signatory,callback:function(e){t.$set(t.addInfo,"signatory",e)},expression:"addInfo.signatory"}},t._l(t.personList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[t._v("备注：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:"",type:"textarea",rows:2},model:{value:t.addInfo.remark,callback:function(e){t.$set(t.addInfo,"remark",e)},expression:"addInfo.remark"}})],1)])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:t.addLoading},on:{click:t.handleAdd}},[t._v("确 定")])],1)],1)],1)},r=[],i=a("5530"),s=(a("a15b"),a("d81d"),a("14d9"),a("b0c0"),a("a9e3"),a("d3b7"),a("0643"),a("4e3e"),a("a573"),a("159b"),a("00d5")),o=a("b775");function l(t){return Object(o["a"])({url:"/processReport/exportProcessReport",method:"get",params:t})}function d(t){return Object(o["a"])({url:"/processReport/addProcessReport",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/processReport/doProcessReport",method:"post",data:t})}function u(t){return Object(o["a"])({url:"/processReport/delProcessReport",method:"delete",params:t})}function p(t){return Object(o["a"])({url:"/processReport/pageProcessReport",method:"get",params:t})}var h=a("b558"),f={name:"ReportResults",components:{limsTable:s["a"]},data:function(){var t=this;return{outLoading:!1,addPower:!0,outPower:!0,personList:[],title:"新增",addDialogVisible:!1,addInfo:{signatory:[]},addLoading:!1,mutilSelect:[],queryParams:{insReportCode:""},tableData:[],column:[{label:"检验报告编号",prop:"insReportCode"},{label:"页数",prop:"pages",width:"120px"},{label:"发送份数",prop:"number"},{label:"发往何处",prop:"send"},{label:"发送方式",prop:"method"},{label:"发送日期",prop:"sendTime"},{label:"发送人",prop:"sendUserName"},{label:"签收人",prop:"signatoryName"},{label:"备注",prop:"remark"},{dataType:"action",fixed:"right",label:"操作",operation:[{name:"编辑",type:"text",clickFun:function(e){t.handleWork(e)}},{name:"删除",type:"text",clickFun:function(e){t.handleDelete(e)}}]}],page:{total:0,size:20,current:0},tableLoading:!1}},mounted:function(){this.getList(),this.getAuthorizedPerson()},methods:{handleDown:function(){var t=this;0!=this.mutilSelect.length?(this.outLoading=!0,l({ids:this.mutilSelect.map((function(t){return t.id}))}).then((function(e){t.outLoading=!1,t.$download.saveAs(e.data,"报告结果")}))):this.$message.warning("请选择要导出的数据")},openAdd:function(){this.title="新增",this.addInfo={signatory:[]},this.addDialogVisible=!0},getList:function(){var t=this;this.tableLoading=!0;var e=Object(i["a"])(Object(i["a"])({},this.queryParams),this.page);delete e.total,p(Object(i["a"])({},e)).then((function(e){t.tableLoading=!1,200===e.code&&(t.tableData=e.data.records,t.page.total=e.data.total)})).catch((function(e){t.tableLoading=!1}))},pagination:function(t){var e=t.page,a=t.limit;this.page.current=e,this.page.size=a,this.getList()},refresh:function(){this.queryParams={},this.page.current=1,this.getList()},refreshTable:function(){this.page.current=1,this.getList()},handleSelectionChange:function(t){this.mutilSelect=t},getAuthorizedPerson:function(){var t=this;Object(h["w"])().then((function(e){var a=[];e.data.forEach((function(t){a.push({label:t.name,value:t.id})})),t.personList=a}))},handleAdd:function(){var t=this;this.addLoading=!0,delete this.addInfo.createTime,delete this.addInfo.createUser,delete this.addInfo.updateTime,delete this.addInfo.signatoryUrl,delete this.addInfo.updateUserer,delete this.addInfo.sendUserName;var e=this.HaveJson(this.addInfo);e.signatory=e.signatory.join(","),"新增"==this.title?d(e).then((function(e){t.addLoading=!1,t.addDialogVisible=!1,t.$message({type:"success",message:"操作成功!"}),t.refreshTable()})).catch((function(t){})):c(e).then((function(e){t.addLoading=!1,t.addDialogVisible=!1,t.$message({type:"success",message:"操作成功!"}),t.refreshTable()})).catch((function(t){}))},handleWork:function(t){this.title="修改",this.addInfo=t,console.log(this.addInfo),this.addInfo.signatory=this.addInfo.signatory?this.addInfo.signatory.split(",").map((function(t){return Number(t)})):[],this.addDialogVisible=!0},handleChangeTask:function(t){this.mutilSelect=t},handleDelete:function(t){var e=this;this.$confirm("是否删除该条数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u({id:t.id}).then((function(t){e.$message.success("删除成功"),e.refresh()}))})).catch((function(){}))}}},m=f,b=(a("395c"),a("2877")),g=Object(b["a"])(m,n,r,!1,null,"4badf2d6",null);e["default"]=g.exports},b558:function(t,e,a){"use strict";a.d(e,"v",(function(){return r})),a.d(e,"A",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"z",(function(){return o})),a.d(e,"y",(function(){return l})),a.d(e,"w",(function(){return d})),a.d(e,"i",(function(){return c})),a.d(e,"n",(function(){return u})),a.d(e,"a",(function(){return p})),a.d(e,"e",(function(){return h})),a.d(e,"u",(function(){return f})),a.d(e,"g",(function(){return m})),a.d(e,"j",(function(){return b})),a.d(e,"p",(function(){return g})),a.d(e,"o",(function(){return v})),a.d(e,"d",(function(){return y})),a.d(e,"D",(function(){return O})),a.d(e,"l",(function(){return P})),a.d(e,"t",(function(){return I})),a.d(e,"C",(function(){return _})),a.d(e,"b",(function(){return C})),a.d(e,"x",(function(){return j})),a.d(e,"s",(function(){return x})),a.d(e,"h",(function(){return k})),a.d(e,"k",(function(){return w})),a.d(e,"f",(function(){return S})),a.d(e,"r",(function(){return L})),a.d(e,"m",(function(){return R})),a.d(e,"q",(function(){return T})),a.d(e,"B",(function(){return z}));var n=a("b775");function r(t){return Object(n["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/insOrderPlan/updateProductOnPlan",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/insOrderPlan/claimInsOrderPlan",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/insOrderPlan/upPlanUser2",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/insOrderPlan/upPlanUser",method:"post",params:t})}function d(t){return Object(n["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/insOrderPlan/getBindingProductByProductId",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/insOrderPlan/getProductTreeByProductId",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/insOrderPlan/bindingProductTreeByProductId",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/insOrderPlan/delProductTreeByProductId",method:"delete",params:t})}function f(t){return Object(n["a"])({url:"/insOrderPlan/selectInsOrderPlanList",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/insOrderPlan/doInsOrder",method:"get",params:t})}function b(t){return Object(n["a"])({url:"/insOrderPlan/getCableTag",method:"get",params:t})}function g(t){return Object(n["a"])({url:"/insOrderPlan/getRepetitionTag",method:"get",params:t})}function v(t){return Object(n["a"])({url:"/insOrderPlan/getRawMaterialTag",method:"get",params:t})}function y(t){return Object(n["a"])({url:"/deviceScope/dataCollection",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/insOrderPlan/write",method:"post",data:t})}function P(t){return Object(n["a"])({url:"/insOrderPlan/getInsProduct",method:"get",params:t})}function I(t){return Object(n["a"])({url:"/deviceScope/search",method:"get",params:t})}function _(t){return Object(n["a"])({url:"/insOrderPlan/verifyPlan",method:"post",params:t})}function C(t){return Object(n["a"])({url:"/insOrderPlan/checkSubmitPlan",method:"post",params:t})}function j(t){return Object(n["a"])({url:"/insOrderPlan/submitPlan",method:"post",params:t})}function x(t){return Object(n["a"])({url:"/insOrderPlan/saveInsContext",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/insOrderPlan/downFile",method:"get",params:t})}function w(t){return Object(n["a"])({url:"/insOrderPlan/getFileList",method:"get",params:t})}function S(t){return Object(n["a"])({url:"/insOrderPlan/delfile",method:"delete",params:t})}function L(t){return Object(n["a"])({url:"/insOrderPlan/inspectionOrderDetailsTaskSwitching",method:"get",params:t})}function R(t){return Object(n["a"])({url:"/insOrderPlan/getInsProductUnqualifiedRetest",method:"get",params:t})}function T(t){return Object(n["a"])({url:"/insOrderPlan/getWorkingHoursByOrderId",method:"get",params:t})}function z(t){return Object(n["a"])({url:"/insOrderPlan/updateWorkingHours",method:"post",data:t})}}}]);