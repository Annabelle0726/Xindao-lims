(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dba1596"],{"8b9f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{visible:t.isShow,title:"标签打印",top:"5vh",width:"600px"},on:{"update:visible":function(e){t.isShow=e},close:function(e){return t.$emit("closePrintDialog")}}},[a("div",{staticStyle:{width:"100%",height:"400px","overflow-y":"auto","text-align":"left"}},[a("div",{staticClass:"dia_body"},[a("el-checkbox",{staticStyle:{margin:"10px 5px"},attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),a("el-checkbox-group",{on:{change:function(e){return t.changePrintCode()}},model:{value:t.checkIndexList,callback:function(e){t.checkIndexList=e},expression:"checkIndexList"}},t._l(t.barcodeData,(function(e,i){return a("el-card",{key:i,staticClass:"box-card",staticStyle:{"margin-bottom":"15px","font-size":"16px !important"}},[a("el-checkbox",{key:i,staticStyle:{position:"relative",top:"0",left:"10px"},attrs:{label:i}},[a("br")]),a("div",[a("div",{staticClass:"titleH1",staticStyle:{"text-align":"center","margin-bottom":"2px","font-size":"16px"}},[t._v("检测中心样品标识卡")]),a("div",{staticStyle:{"text-align":"center"}},[a("barcode",{attrs:{displayValue:!1,height:34,value:e.barcode,width:2}})],1),a("div",{staticStyle:{"margin-left":"20px","text-align":"left"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"full-title"},[t._v("样品名称")]),t._v(": "),a("span",{staticClass:"info"},[t._v(t._s(e.sampleView))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"full-title"},[t._v("生产单位")]),t._v(": "),a("span",{staticClass:"info"},[t._v(t._s(e.production))])]),a("div",{staticClass:"item2"},[a("span",{staticClass:"full-title"},[t._v("规格型号")]),t._v(": "),a("span",{staticClass:"info"},[t._v(t._s(e.sampleModel))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"full-title"},[t._v("委托日期")]),t._v(": "),a("span",{staticClass:"info"},[t._v(t._s(e.sendTime))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"full-title"},[t._v("委托人")]),t._v(": "),a("span",{staticClass:"info2"},[t._v(t._s(e.prepareUser))]),a("span",{staticClass:"full-title"},[t._v("检测编号")]),t._v(": "),a("span",{staticClass:"info"},[t._v(t._s(e.entrustCode))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"full-title"},[t._v("样品数量")]),t._v(": "),a("span",{staticClass:"info2"},[t._v(t._s(e.testQuantity))])]),a("div",{staticStyle:{"font-weight":"bold",display:"flex","align-items":"center"}},[a("span",{staticClass:"full-title"},[t._v("样品状态")]),t._v(": "),a("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],staticStyle:{"margin-top":"7px","margin-left":"4px"},model:{value:e.insState,callback:function(a){t.$set(e,"insState",a)},expression:"item.insState"}},[a("el-radio",{staticStyle:{"font-weight":"bold","margin-right":"7px"},attrs:{label:0}},[t._v("待检")]),a("el-radio",{staticStyle:{"font-weight":"bold","margin-right":"7px"},attrs:{label:1}},[t._v("在检")]),a("el-radio",{staticStyle:{"font-weight":"bold","margin-right":"7px"},attrs:{label:2}},[t._v("已检")])],1),a("span",[a("el-radio",{staticStyle:{"margin-left":"14px","margin-top":"3px"},attrs:{label:!0,size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.changeIsLeave(e)}},model:{value:e.isLeave,callback:function(a){t.$set(e,"isLeave",a)},expression:"item.isLeave"}},[t._v("留样")])],1)],1)])])],1)})),1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:function(e){return t.$emit("closePrintDialog")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitPrint}},[t._v("打 印")])],1)],1)]),a("div",{staticClass:"el-dialog-body",staticStyle:{"overflow-y":"auto","margin-top":"0",position:"fixed",top:"20px",right:"10px","z-index":"99999"}},[a("div",{ref:"printOrder",staticClass:"printOrder",attrs:{id:"printOrder"}},t._l(t.checkDataList,(function(e,i){return a("el-card",{key:i,staticClass:"box-card",staticStyle:{"font-size":"0.29cm !important","font-weight":"700","page-break-after":"always",color:"#000","box-shadow":"none",margin:"0 !important",padding:"0 !important"}},[a("div",[a("div",{staticClass:"titleH1",staticStyle:{"text-align":"center","margin-bottom":"1px"}},[t._v("检测中心样品标识卡")]),a("div",{staticStyle:{"text-align":"center"}},[a("barcode",{attrs:{displayValue:!1,height:22,value:e.barcode,width:1.6}})],1),a("div",{staticStyle:{"margin-left":"12px","text-align":"left"}},[a("div",{staticClass:"item"},[a("span",{staticClass:"full-title4"},[t._v("样品名称:")]),a("span",{staticClass:"info4"},[t._v(t._s(e.sampleView))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"full-title2"},[t._v("生产单位")]),t._v(": "),a("span",{staticClass:"info"},[t._v(t._s(e.production))])]),a("div",{staticClass:"item2"},[a("span",{staticClass:"full-title4"},[t._v("规格型号:")]),a("span",{staticClass:"info4"},[t._v(t._s(e.sampleModel))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"full-title2"},[t._v("委托日期")]),t._v(": "),a("span",{staticClass:"info"},[t._v(t._s(e.sendTime))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"full-title2"},[t._v("委托人")]),t._v(": "),a("span",{staticClass:"info3"},[t._v(t._s(e.prepareUser))]),a("span",{staticClass:"full-title2"},[t._v("检测编号")]),t._v(": "),a("span",{staticClass:"info"},[t._v(t._s(e.entrustCode))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"full-title2"},[t._v("样品数量")]),t._v(": "),a("span",{staticClass:"info3"},[t._v(t._s(e.testQuantity))])]),a("div",[a("span",{staticClass:"full-title2"},[t._v("样品状态")]),t._v(": "),a("span",{staticStyle:{"white-space":"nowrap","margin-left":"2px"}},[t._v(" 待检"),0!==e.insState?a("span",{staticClass:"scor"}):t._e(),0===e.insState?a("span",{staticClass:"checked"},[t._v("√")]):t._e(),t._v(" 在检"),1!==e.insState?a("span",{staticClass:"scor"}):t._e(),1===e.insState?a("span",{staticClass:"checked"},[t._v("√")]):t._e(),t._v(" 已检"),2!==e.insState?a("span",{staticClass:"scor"}):t._e(),2===e.insState?a("span",{staticClass:"checked"},[t._v("√")]):t._e(),t._v(" 留样"),e.isLeave?t._e():a("span",{staticClass:"scor"}),e.isLeave?a("span",{staticClass:"checked"},[t._v("√")]):t._e()])])])])])})),1)])],1)},s=[],n=(a("c740"),a("d81d"),a("14d9"),a("d3b7"),a("0643"),a("4e3e"),a("a573"),a("159b"),a("add5")),r=a.n(n),l=a("a8f1"),c={name:"printDialog",components:{},props:{printDialog:{type:Boolean,default:function(){return!1}}},data:function(){return{isShow:this.printDialog,loadPint:!1,isIndeterminate:!1,checkAll:!1,checkIndexList:[],barcodeData:[],printLoading:!1,checkDataList:[]}},methods:{getLabelPrinting:function(t){var e=this;try{this.loadPint=!0;var a=[];t.map((function(t){a.push(t.id)})),Object(l["f"])({ids:a}).then((function(t){200===t.code&&t.data.length>0&&(t.data.forEach((function(t){t.sendTime=t.sendTime&&t.sendTime.substring(0,10),t.sampleNumber=t.qtyArrived+t.buyUnitMeas,e.$set(t,"barcode",t.entrustCode),e.$set(t,"isLeave","2"===t.insState)})),e.barcodeData=t.data)}))}catch(i){console.log("获取要打印的数据---",i)}},changeIsLeave:function(t){var e=this.barcodeData.findIndex((function(e){return e.entrustCode===t.entrustCode}));e>-1&&(this.barcodeData[e].isLeave=!this.barcodeData[e].isLeave)},handleCheckAllChange:function(t){if(t){for(var e=0;e<this.barcodeData.length;e++)this.checkIndexList.push(e);this.checkDataList=this.barcodeData}else this.checkIndexList=[],this.checkDataList=[];this.isIndeterminate=!1},changeType:function(t){t="1"===t?"0":"1"},changePrintCode:function(){var t=this,e=this.checkIndexList,a=[];e.forEach((function(e){void 0!==e&&a.push(t.barcodeData[e])})),console.log("arr---",a),this.checkDataList=a},submitPrint:function(){this.checkDataList.length<1?this.$message.warning("请选择要打印的条形码"):(this.printDialogVisible=!1,r()({targetStyles:["*"],printable:"printOrder",type:"html",maxWidth:360,header:"",style:"@page {\n            margin: 0.4cm;\n            margin-right: 0.4cm;\n            margin-top: 0.4cm;\n            margin-bottom: 0.4cm;\n            padding-bottom: 0px;\n            size: 400px 75px collapse;\n          }\n          html{\n            zoom:100%;\n\n          }\n          @media print{\n            width: 400px;\n            height: 75px;\n            margin:0;\n          }",onPrintDialogClose:this.erexcel=!1,font_size:"0.29cm"}))}},watch:{printDialog:function(t){t||(this.barcodeData=[],this.checkIndexList=[],this.checkDataList=[],this.isIndeterminate=!0)}}},o=c,d=(a("f9c0"),a("2877")),u=Object(d["a"])(o,i,s,!1,null,"48fe5289",null);e["default"]=u.exports},a8f1:function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"n",(function(){return n})),a.d(e,"g",(function(){return r})),a.d(e,"m",(function(){return l})),a.d(e,"b",(function(){return c})),a.d(e,"j",(function(){return o})),a.d(e,"l",(function(){return d})),a.d(e,"k",(function(){return u})),a.d(e,"p",(function(){return p})),a.d(e,"c",(function(){return f})),a.d(e,"i",(function(){return h})),a.d(e,"f",(function(){return v})),a.d(e,"e",(function(){return m})),a.d(e,"d",(function(){return g})),a.d(e,"a",(function(){return _})),a.d(e,"o",(function(){return b}));var i=a("b775");function s(t){return Object(i["a"])({url:"/insOrder/selectInsOrderParameter",method:"get",params:t})}function n(t){return Object(i["a"])({url:"/insOrder/updateOrderEntrustCode",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/insOrder/rawAllInsOrderExport",method:"get",params:t,responseType:"blob"})}function l(t){return Object(i["a"])({url:"/insOrder/updateInspected",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/insOrder/checkUpdate",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/insOrder/selectOrderManDay",method:"get",params:t})}function d(t){return Object(i["a"])({url:"/insOrderPlan/upPlanUser2",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/insOrder/upInsOrder",method:"post",params:t})}function p(t){return Object(i["a"])({url:"/insOrder/updateStatus",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/insOrder/delInsOrder",method:"delete",params:t})}function h(t){return Object(i["a"])({url:"/insOrder/selectNoProducts",method:"get",params:t})}function v(t){return Object(i["a"])({url:"/insOrder/labelOrderPrinting",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/insOrder/getSampleByOrderId",method:"get",params:t})}function g(t){return Object(i["a"])({url:"/insOrder/getProductTreeBySampleId",method:"get",params:t})}function _(t){return Object(i["a"])({url:"/insOrder/addOmitOrderProduct",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/insOrder/updateSampleModel",method:"post",data:t})}},e044:function(t,e,a){},f9c0:function(t,e,a){"use strict";a("e044")}}]);