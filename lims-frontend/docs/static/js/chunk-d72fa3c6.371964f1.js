(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d72fa3c6","chunk-254f8c1b","chunk-7d29464e"],{"0100":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.diaLoading,expression:"diaLoading"}],attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.formDia,title:"管理评审会议记录",width:"1000px"},on:{"update:visible":function(t){e.formDia=t},close:e.closeYearDia}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"top","label-width":"auto"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"时间",prop:"meetingTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.meetingTime,callback:function(t){e.$set(e.form,"meetingTime",t)},expression:"form.meetingTime"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"地点",prop:"place"}},[r("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.place,callback:function(t){e.$set(e.form,"place",t)},expression:"form.place"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"主持人",prop:"compere"}},[r("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.compere,callback:function(t){e.$set(e.form,"compere",t)},expression:"form.compere"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"会议内容摘要",prop:"content"}},[r("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"参会人员",prop:"participant"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",multiple:"",placeholder:"请选择",size:"small"},model:{value:e.form.participant,callback:function(t){e.$set(e.form,"participant",t)},expression:"form.participant"}},e._l(e.personList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeYearDia}},[e._v("取 消")]),r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleEdit}},[e._v("提 交")])],1)],1)],1)},n=[],i=(r("a15b"),r("d81d"),r("14d9"),r("b0c0"),r("a9e3"),r("d3b7"),r("0643"),r("4e3e"),r("a573"),r("159b"),r("4efb")),o=r("b558"),l={name:"meetingRecordsDia",components:{},data:function(){return{formDia:!1,diaLoading:!1,loading:!1,form:{id:"",meetingTime:"",compere:"",place:"",content:"",participant:[]},rules:{meetingTime:[{required:!0,message:"请填写会议时间",trigger:"blur"}],compere:[{required:!0,message:"请填写主持人",trigger:"blur"}],place:[{required:!0,message:"请填写地点",trigger:"blur"}],content:[{required:!0,message:"请填写会议内容摘要",trigger:"blur"}],participant:[{required:!0,message:"请选择参加人员",trigger:"change"}]},operationType:"",personList:[]}},mounted:function(){},methods:{openDia:function(e,t){this.operationType=e,this.getAuthorizedPerson(),"add"!==e&&(this.form=t,this.form.participant=t.participant.split(",").map((function(e){return e=Number(e),e}))),this.formDia=!0},handleEdit:function(){var e=this;this.$refs["form"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0;var r=e.HaveJson(e.form);r.participant=r.participant.join(","),"add"===e.operationType?Object(i["a"])(r).then((function(t){e.loading=!1,e.$message.success("操作成功"),e.closeYearDia()})).catch((function(t){console.log("err---",t),e.loading=!1})):"edit"===e.operationType&&Object(i["n"])(r).then((function(t){e.loading=!1,e.$message.success("操作成功"),e.closeYearDia()})).catch((function(t){console.log("err---",t),e.loading=!1}))}))},closeYearDia:function(){this.$refs.form.resetFields(),this.formDia=!1,this.$emit("closeYearDia")},getAuthorizedPerson:function(){var e=this;Object(o["w"])().then((function(t){var r=[];t.data.forEach((function(e){r.push({label:e.name,value:e.id})})),e.personList=r}))}}},s=l,c=r("2877"),u=Object(c["a"])(s,a,n,!1,null,"1f02e7e8",null);t["default"]=u.exports},"0187":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"search"},[r("div",[r("el-form",{ref:"searchForm",attrs:{model:e.searchForm,size:"small",inline:!0}},[r("el-form-item",{attrs:{label:"会议地点",prop:"place"}},[r("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.searchForm.place,callback:function(t){e.$set(e.searchForm,"place",t)},expression:"searchForm.place"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.searchList}},[e._v("查询")]),r("el-button",{attrs:{size:"mini"},on:{click:e.resetSearchForm}},[e._v("重置")])],1)],1)],1),r("div",[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.openFormDia("add")}}},[e._v("新 增")])],1)]),r("div",{staticClass:"table"},[r("limsTable",{attrs:{column:e.tableColumn,height:"calc(100vh - 23em)","table-data":e.tableData,"table-loading":e.tableLoading,page:e.page},on:{pagination:e.pagination}})],1),e.meetingRecordsDia?r("meeting-records-dia",{ref:"meetingRecordsDia",on:{closeYearDia:e.closeYearDia}}):e._e()],1)},n=[],i=r("00d5"),o=r("0100"),l=r("c4f4"),s=r("4efb"),c={name:"meetingRecords",components:{ManagementFormDIa:l["default"],MeetingRecordsDia:o["default"],limsTable:i["a"]},data:function(){var e=this;return{searchForm:{place:""},tableColumn:[{label:"时间",prop:"meetingTime",minWidth:"100"},{label:"主持人",prop:"compere",minWidth:"100"},{label:"会议地点",prop:"place",minWidth:"100"},{label:"会议内容摘要",prop:"content",minWidth:"100"},{dataType:"action",minWidth:"120",label:"操作",operation:[{name:"编辑",type:"text",clickFun:function(t){e.openFormDia("edit",t)}},{name:"删除",type:"text",color:"#f56c6c",clickFun:function(t){e.delPlan(t)}},{name:"下载",type:"text",clickFun:function(t){e.handleDown(t)}}]}],tableData:[],tableLoading:!1,page:{size:20,current:1,total:0},meetingRecordsDia:!1}},mounted:function(){this.searchList()},methods:{searchList:function(){var e=this;this.tableLoading=!0,Object(s["k"])({place:this.searchForm.place,pages:this.page.current,size:this.page.size}).then((function(t){e.tableLoading=!1,e.tableData=t.data.records,e.page.total=t.data.total})).catch((function(t){console.log("err---",t),e.tableLoading=!1}))},openFormDia:function(e,t){var r=this;this.meetingRecordsDia=!0,this.$nextTick((function(){r.$refs.meetingRecordsDia.openDia(e,t)}))},closeYearDia:function(){this.meetingRecordsDia=!1,this.searchList()},resetSearchForm:function(){this.searchForm.place="",this.searchList()},delPlan:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.tableLoading=!0,Object(s["e"])({id:e.id}).then((function(e){t.tableLoading=!1,t.$message.success("删除成功"),t.searchList()})).catch((function(e){t.tableLoading=!1,console.log("err---",e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},pagination:function(e){var t=e.page,r=e.limit;this.page.current=t,this.page.size=r,this.searchList()},handleDown:function(e){var t=this;Object(s["h"])({id:e.id}).then((function(e){var r=new Blob([e],{type:"application/octet-stream"});t.$download.saveAs(r,"会议记录.docx")}))}}},u=c,d=(r("4c0b"),r("2877")),m=Object(d["a"])(u,a,n,!1,null,"e2188fc8",null);t["default"]=m.exports},2034:function(e,t,r){"use strict";r("77fe")},"4c0b":function(e,t,r){"use strict";r("e815")},"4efb":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"q",(function(){return i})),r.d(t,"l",(function(){return o})),r.d(t,"f",(function(){return l})),r.d(t,"i",(function(){return s})),r.d(t,"o",(function(){return c})),r.d(t,"k",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"h",(function(){return m})),r.d(t,"a",(function(){return p})),r.d(t,"n",(function(){return f})),r.d(t,"m",(function(){return g})),r.d(t,"g",(function(){return b})),r.d(t,"j",(function(){return h})),r.d(t,"p",(function(){return v})),r.d(t,"d",(function(){return y})),r.d(t,"b",(function(){return j}));var a=r("b775");function n(e){return Object(a["a"])({url:"/manageReviewProgramFile/addReviewProgramFile",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function i(e){return Object(a["a"])({url:"/manageReviewProgramFile/selectReviewProgramFile",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/manageReviewProgram/getPageReviewProgram",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/manageReviewProgram/deleteReviewProgram",method:"delete",params:e})}function s(e){return Object(a["a"])({url:"/manageReviewProgram/exportReviewProgram",method:"get",responseType:"blob",params:e})}function c(e){return Object(a["a"])({url:"/manageReviewProgram/modifyReviewProgram",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/manageMeeting/getPageMeeting",method:"get",params:e})}function d(e){return Object(a["a"])({url:"/manageMeeting/deleteMeeting",method:"delete",params:e})}function m(e){return Object(a["a"])({url:"/manageMeeting/exportMeeting",method:"get",responseType:"blob",params:e})}function p(e){return Object(a["a"])({url:"/manageMeeting/addMeeting",method:"post",data:e})}function f(e){return Object(a["a"])({url:"/manageMeeting/modifyMeeting",method:"post",data:e})}function g(e){return Object(a["a"])({url:"/manageReviewReport/getPageReviewReport",method:"get",params:e})}function b(e){return Object(a["a"])({url:"/manageReviewReport/deleteReviewReport",method:"delete",params:e})}function h(e){return Object(a["a"])({url:"/manageReviewReport/exportReviewReport",method:"get",responseType:"blob",params:e})}function v(e){return Object(a["a"])({url:"/manageReviewReport/modifyReviewReport",method:"post",data:e})}function y(e){return Object(a["a"])({url:"/manageReviewReport/addReviewReport",method:"post",data:e})}function j(e){return Object(a["a"])({url:"/manageReviewProgram/addReviewProgram",method:"post",data:e})}},"77fe":function(e,t,r){},b558:function(e,t,r){"use strict";r.d(t,"v",(function(){return n})),r.d(t,"A",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"z",(function(){return l})),r.d(t,"y",(function(){return s})),r.d(t,"w",(function(){return c})),r.d(t,"i",(function(){return u})),r.d(t,"n",(function(){return d})),r.d(t,"a",(function(){return m})),r.d(t,"e",(function(){return p})),r.d(t,"u",(function(){return f})),r.d(t,"g",(function(){return g})),r.d(t,"j",(function(){return b})),r.d(t,"p",(function(){return h})),r.d(t,"o",(function(){return v})),r.d(t,"d",(function(){return y})),r.d(t,"D",(function(){return j})),r.d(t,"l",(function(){return O})),r.d(t,"t",(function(){return P})),r.d(t,"C",(function(){return w})),r.d(t,"b",(function(){return D})),r.d(t,"x",(function(){return R})),r.d(t,"s",(function(){return k})),r.d(t,"h",(function(){return x})),r.d(t,"k",(function(){return T})),r.d(t,"f",(function(){return L})),r.d(t,"r",(function(){return $})),r.d(t,"m",(function(){return M})),r.d(t,"q",(function(){return F})),r.d(t,"B",(function(){return q}));var a=r("b775");function n(e){return Object(a["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/insOrderPlan/updateProductOnPlan",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/insOrderPlan/claimInsOrderPlan",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/insOrderPlan/upPlanUser2",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/insOrderPlan/upPlanUser",method:"post",params:e})}function c(e){return Object(a["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:e})}function u(e){return Object(a["a"])({url:"/insOrderPlan/getBindingProductByProductId",method:"get",params:e})}function d(e){return Object(a["a"])({url:"/insOrderPlan/getProductTreeByProductId",method:"get",params:e})}function m(e){return Object(a["a"])({url:"/insOrderPlan/bindingProductTreeByProductId",method:"post",data:e})}function p(e){return Object(a["a"])({url:"/insOrderPlan/delProductTreeByProductId",method:"delete",params:e})}function f(e){return Object(a["a"])({url:"/insOrderPlan/selectInsOrderPlanList",method:"get",params:e})}function g(e){return Object(a["a"])({url:"/insOrderPlan/doInsOrder",method:"get",params:e})}function b(e){return Object(a["a"])({url:"/insOrderPlan/getCableTag",method:"get",params:e})}function h(e){return Object(a["a"])({url:"/insOrderPlan/getRepetitionTag",method:"get",params:e})}function v(e){return Object(a["a"])({url:"/insOrderPlan/getRawMaterialTag",method:"get",params:e})}function y(e){return Object(a["a"])({url:"/deviceScope/dataCollection",method:"post",data:e})}function j(e){return Object(a["a"])({url:"/insOrderPlan/write",method:"post",data:e})}function O(e){return Object(a["a"])({url:"/insOrderPlan/getInsProduct",method:"get",params:e})}function P(e){return Object(a["a"])({url:"/deviceScope/search",method:"get",params:e})}function w(e){return Object(a["a"])({url:"/insOrderPlan/verifyPlan",method:"post",params:e})}function D(e){return Object(a["a"])({url:"/insOrderPlan/checkSubmitPlan",method:"post",params:e})}function R(e){return Object(a["a"])({url:"/insOrderPlan/submitPlan",method:"post",params:e})}function k(e){return Object(a["a"])({url:"/insOrderPlan/saveInsContext",method:"post",data:e})}function x(e){return Object(a["a"])({url:"/insOrderPlan/downFile",method:"get",params:e})}function T(e){return Object(a["a"])({url:"/insOrderPlan/getFileList",method:"get",params:e})}function L(e){return Object(a["a"])({url:"/insOrderPlan/delfile",method:"delete",params:e})}function $(e){return Object(a["a"])({url:"/insOrderPlan/inspectionOrderDetailsTaskSwitching",method:"get",params:e})}function M(e){return Object(a["a"])({url:"/insOrderPlan/getInsProductUnqualifiedRetest",method:"get",params:e})}function F(e){return Object(a["a"])({url:"/insOrderPlan/getWorkingHoursByOrderId",method:"get",params:e})}function q(e){return Object(a["a"])({url:"/insOrderPlan/updateWorkingHours",method:"post",data:e})}},c466:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i}));r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("00b4"),r("25f0"),r("5319");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),r=e.getMonth()+1;r<10?r="0"+r+"-":r+="-",t+="-";var a=e.getDate();return a=a<10?"0"+a:a,t+r+a}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";if("Invalid Date"!==e){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length)));return t}return""}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),r=e.getMonth(),a=e.getDate();return 26===a&&(r++,r>11&&(r=0,t++)),r+=1,r=r<10?"0"+r+"-":r+"-",t+="-",a=a<10?"0"+a:a,t+r+a}},c4f4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.diaLoading,expression:"diaLoading"}],attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.formDia,title:"管理评审计划",width:"80%"},on:{"update:visible":function(t){e.formDia=t},close:e.closeImplementDia}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"right","label-width":"auto"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"评审时间",prop:"reviewTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:"ratify"===e.operationType,clearable:"",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.reviewTime,callback:function(t){e.$set(e.form,"reviewTime",t)},expression:"form.reviewTime"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"评审地点",prop:"judgingLocation"}},[r("el-input",{attrs:{disabled:"ratify"===e.operationType,clearable:"",size:"small"},model:{value:e.form.judgingLocation,callback:function(t){e.$set(e.form,"judgingLocation",t)},expression:"form.judgingLocation"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"评审目的",prop:"judgingPurpose"}},[r("el-input",{attrs:{disabled:"ratify"===e.operationType,clearable:"",size:"small"},model:{value:e.form.judgingPurpose,callback:function(t){e.$set(e.form,"judgingPurpose",t)},expression:"form.judgingPurpose"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"评审方式",prop:"judgingMethod"}},[r("el-input",{attrs:{disabled:"ratify"===e.operationType,clearable:"",size:"small"},model:{value:e.form.judgingMethod,callback:function(t){e.$set(e.form,"judgingMethod",t)},expression:"form.judgingMethod"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"参加人员",prop:"participants"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",disabled:"ratify"===e.operationType,clearable:"",multiple:""},model:{value:e.form.participants,callback:function(t){e.$set(e.form,"participants",t)},expression:"form.participants"}},e._l(e.personList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"评审范围",prop:"judgingScope"}},[r("el-input",{attrs:{disabled:"ratify"===e.operationType,clearable:"",size:"small"},model:{value:e.form.judgingScope,callback:function(t){e.$set(e.form,"judgingScope",t)},expression:"form.judgingScope"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"评审依据",prop:"judgingBasis"}},[r("el-input",{attrs:{disabled:"ratify"===e.operationType,rows:3,clearable:"",size:"small",type:"textarea"},model:{value:e.form.judgingBasis,callback:function(t){e.$set(e.form,"judgingBasis",t)},expression:"form.judgingBasis"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"评审主要内容",prop:"mainContext"}},[r("el-input",{attrs:{disabled:"ratify"===e.operationType,rows:3,clearable:"",size:"small",type:"textarea"},model:{value:e.form.mainContext,callback:function(t){e.$set(e.form,"mainContext",t)},expression:"form.mainContext"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"准备工作要求",prop:"preparationRequirements"}},[r("el-input",{attrs:{disabled:"ratify"===e.operationType,rows:3,clearable:"",size:"small",type:"textarea"},model:{value:e.form.preparationRequirements,callback:function(t){e.$set(e.form,"preparationRequirements",t)},expression:"form.preparationRequirements"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeImplementDia}},[e._v("取 消")]),"ratify"===e.operationType?r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleApproval(1)}}},[e._v("批 准")]):e._e(),"ratify"!==e.operationType?r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleEdit}},[e._v("提 交")]):e._e()],1)],1),r("el-dialog",{attrs:{visible:e.approvalDialog,title:"批准",width:"30%"},on:{"update:visible":function(t){e.approvalDialog=t},close:function(t){e.approvalDialog=!1}}},[r("span",[e._v(" 批准备注： "),r("el-input",{attrs:{type:"textarea"},model:{value:e.qualityRemark,callback:function(t){e.qualityRemark=t},expression:"qualityRemark"}})],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{loading:e.approvalLoading},on:{click:function(t){e.approvalDialog=!1}}},[e._v("取 消")]),r("el-button",{attrs:{loading:e.approvalLoading,type:"primary"},on:{click:function(t){return e.handleApproval(0)}}},[e._v("确 定")])],1)])],1)},n=[],i=r("5530"),o=(r("a15b"),r("d81d"),r("14d9"),r("b0c0"),r("a9e3"),r("d3b7"),r("0643"),r("4e3e"),r("a573"),r("159b"),r("4efb")),l=r("c466"),s=r("b558"),c=r("2f62"),u={name:"managementFormDIa",components:{},data:function(){return{formDia:!1,diaLoading:!1,loading:!1,form:{id:"",reviewTime:"",judgingLocation:"",judgingPurpose:"",judgingMethod:"",participants:[],judgingScope:"",judgingBasis:"",mainContext:"",preparationRequirements:""},rules:{reviewTime:[{required:!0,message:"请选择评审时间",trigger:"blur"}],judgingLocation:[{required:!0,message:"请填写评审地点",trigger:"blur"}],judgingPurpose:[{required:!0,message:"请填写评审目的",trigger:"blur"}],judgingMethod:[{required:!0,message:"请填写评审方式",trigger:"blur"}],participants:[{required:!0,message:"请填写参加人员",trigger:"change"}],judgingScope:[{required:!0,message:"请填写评审范围",trigger:"blur"}],judgingBasis:[{required:!0,message:"请填写评审依据",trigger:"blur"}],mainContext:[{required:!0,message:"请填写评审主要内容",trigger:"blur"}],preparationRequirements:[{required:!0,message:"请填写准备工作要求",trigger:"blur"}]},operationType:"",approvalDialog:!1,approvalLoading:!1,qualityRemark:"",personList:[]}},computed:Object(i["a"])({},Object(c["b"])(["nickName"])),mounted:function(){this.getAuthorizedPerson()},methods:{openDia:function(e,t){this.formDia=!0,this.operationType=e,"add"!==e&&(this.form=t,this.form.participants=t.participants?t.participants.split(",").map((function(e){return Number(e)})):[])},handleEdit:function(){var e=this;this.$refs["form"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0;var r=e.HaveJson(e.form);r.participants=r.participants.join(","),"add"===e.operationType?Object(o["b"])(r).then((function(t){e.loading=!1,e.$message.success("操作成功"),e.closeImplementDia()})).catch((function(t){console.log("err---",t),e.loading=!1})):"edit"===e.operationType&&Object(o["o"])(r).then((function(t){e.loading=!1,e.$message.success("操作成功"),e.closeImplementDia()})).catch((function(t){console.log("err---",t),e.loading=!1}))}))},handleApproval:function(e){var t=this;this.approvalLoading=!0;var r=this.HaveJson(this.form);r.approve=this.nickName,r.approveDate=Object(l["a"])(new Date),r.participants=r.participants.join(","),Object(o["o"])(r).then((function(e){200===e.code&&(t.$message.success("提交成功！"),t.approvalDialog=!1,t.closeImplementDia(t.departId)),t.approvalLoading=!1})).catch((function(){t.approvalLoading=!1}))},closeImplementDia:function(){this.$refs.form.resetFields(),this.formDia=!1,this.$emit("closeImplementDia")},getAuthorizedPerson:function(){var e=this;Object(s["w"])().then((function(t){var r=[];t.data.forEach((function(e){r.push({label:e.name,value:e.id})})),e.personList=r}))}}},d=u,m=(r("2034"),r("2877")),p=Object(m["a"])(d,a,n,!1,null,"93fe21a0",null);t["default"]=p.exports},e815:function(e,t,r){}}]);