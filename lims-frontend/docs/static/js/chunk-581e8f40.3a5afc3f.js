(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-581e8f40"],{4749:function(t,i,n){"use strict";n("a4d5")},9448:function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.diaLoading,expression:"diaLoading"}],attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,visible:t.formDia,title:"不符合项的分布",width:"90%"},on:{"update:visible":function(i){t.formDia=i},close:t.closeDia}},[n("table",{staticClass:"table",attrs:{border:"1",cellspacing:"10"}},[n("tr",[n("td",[t._v("章节号")]),n("th",{staticClass:"div-with-line"},[n("span",{staticStyle:{float:"left"}},[t._v("要素")]),n("span",{staticStyle:{float:"right"}},[t._v("部门")])]),n("th",[t._v("主任")]),n("th",[t._v("技术负责人")]),n("th",[t._v("质量负责人")]),n("th",[t._v("综合室")]),n("th",[t._v("试验室")]),n("th",[t._v("合计")]),n("th",[t._v("占%")])]),t._l(t.distributionDetailList,(function(i,e){return n("tr",{key:i.value},[n("td",[t._v(t._s(i.chapterNumber))]),n("th",[t._v(t._s(i.essentials))]),n("th",[n("el-input-number",{attrs:{precision:0,clearable:"",size:"small"},model:{value:i.director,callback:function(n){t.$set(i,"director",n)},expression:"item.director"}})],1),n("th",[n("el-input-number",{attrs:{precision:0,clearable:"",size:"small"},model:{value:i.technology,callback:function(n){t.$set(i,"technology",n)},expression:"item.technology"}})],1),n("th",[n("el-input-number",{attrs:{precision:0,clearable:"",size:"small"},model:{value:i.quality,callback:function(n){t.$set(i,"quality",n)},expression:"item.quality"}})],1),n("th",[n("el-input-number",{attrs:{precision:0,clearable:"",size:"small"},model:{value:i.comprehensive,callback:function(n){t.$set(i,"comprehensive",n)},expression:"item.comprehensive"}})],1),n("th",[n("el-input-number",{attrs:{precision:0,clearable:"",size:"small"},model:{value:i.testing,callback:function(n){t.$set(i,"testing",n)},expression:"item.testing"}})],1),n("th",[t._v(" "+t._s(i.total)+" ")]),n("th",[t._v(" "+t._s((i.proportion?i.proportion:0)+"%")+" ")])])})),n("tr",[n("td"),n("th",[t._v(" 占比 ")]),n("th",[t._v(" "+t._s((t.distributionProportion.director?t.distributionProportion.director:0)+"%")+" ")]),n("th",[t._v(" "+t._s((t.distributionProportion.technology?t.distributionProportion.technology:0)+"%")+" ")]),n("th",[t._v(" "+t._s((t.distributionProportion.quality?t.distributionProportion.quality:0)+"%")+" ")]),n("th",[t._v(" "+t._s((t.distributionProportion.comprehensive?t.distributionProportion.comprehensive:0)+"%")+" ")]),n("th",[t._v(" "+t._s((t.distributionProportion.testing?t.distributionProportion.testing:0)+"%")+" ")]),n("th",[t._v(" "+t._s(t.distributionProportion.total?t.distributionProportion.total:0)+" ")]),n("th")])],2),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.closeDia}},[t._v("取 消")]),n("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.handleEdit}},[t._v("提 交")])],1)])],1)},o=[],s=(n("d81d"),n("14d9"),n("d3b7"),n("0643"),n("a573"),n("a343")),r={name:"formDia",components:{},data:function(){return{formDia:!1,diaLoading:!1,loading:!1,distributionDetailList:[],form:{},distributionProportion:{}}},mounted:function(){},methods:{openDia:function(t,i){this.formDia=!0,this.operationType=t,"add"!==t?this.searchInfo(i):this.selectEnumByCategory()},searchInfo:function(t){var i=this;this.diaLoading=!0,Object(s["d"])({distributionId:t.distributionId}).then((function(t){i.diaLoading=!1,i.form=t.data,i.distributionDetailList=i.form.distributionDetailList,i.distributionProportion=i.form.distributionProportion})).catch((function(t){console.log(t),i.diaLoading=!1}))},handleEdit:function(){var t=this,i=new Date,n=i.getFullYear();this.loading=!0;var e=this.HaveJson(this.form);e.distributionYear=n,e.distributionDetailList=this.HaveJson(this.distributionDetailList),"add"===this.operationType?Object(s["a"])(e).then((function(i){t.loading=!1,t.$message.success("操作成功"),t.closeDia()})).catch((function(i){console.log("err---",i),t.loading=!1})):"edit"===this.operationType&&Object(s["i"])(e).then((function(i){t.loading=!1,t.$message.success("操作成功"),t.closeDia()})).catch((function(i){console.log("err---",i),t.loading=!1}))},closeDia:function(){this.formDia=!1,this.$emit("closeDia")},selectEnumByCategory:function(){var t=this;this.distributionDetailList=[],this.getDicts("essential").then((function(i){var n=t.dictToValue(i.data);n.map((function(i){var n=Object.assign({essentials:i.label,chapterNumber:i.value});t.distributionDetailList.push(n)}))}))}}},a=r,c=(n("4749"),n("2877")),u=Object(c["a"])(a,e,o,!1,null,"b94e44a6",null);i["default"]=u.exports},a343:function(t,i,n){"use strict";n.d(i,"g",(function(){return o})),n.d(i,"h",(function(){return s})),n.d(i,"e",(function(){return r})),n.d(i,"f",(function(){return a})),n.d(i,"b",(function(){return c})),n.d(i,"c",(function(){return u})),n.d(i,"d",(function(){return l})),n.d(i,"a",(function(){return d})),n.d(i,"i",(function(){return p}));var e=n("b775");function o(t){return Object(e["a"])({url:"/qualitySupervise/pageSuperviseDetailAccording",method:"get",params:t})}function s(t){return Object(e["a"])({url:"/qualitySupervise/superviseDetailAccordingExport",method:"get",responseType:"blob",params:t})}function r(t){return Object(e["a"])({url:"/qualitySupervise/getSuperviseDetailAccording",method:"get",params:t})}function a(t){return Object(e["a"])({url:"/inconsistentDistribution/pageInconsistentDistribution",method:"get",params:t})}function c(t){return Object(e["a"])({url:"/inconsistentDistribution/delInconsistentDistribution",method:"delete",params:t})}function u(t){return Object(e["a"])({url:"/inconsistentDistribution/exportInconsistentDistribution",method:"get",responseType:"blob",params:t})}function l(t){return Object(e["a"])({url:"/inconsistentDistribution/getInconsistentDistributionOne",method:"get",params:t})}function d(t){return Object(e["a"])({url:"/inconsistentDistribution/addInconsistentDistribution",method:"post",data:t})}function p(t){return Object(e["a"])({url:"/inconsistentDistribution/updateInconsistentDistribution",method:"post",data:t})}},a4d5:function(t,i,n){}}]);