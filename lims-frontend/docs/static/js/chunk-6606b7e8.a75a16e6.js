(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6606b7e8"],{"72c1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{"margin-bottom":"18px","margin-right":"10px",display:"flex","align-items":"center","line-height":"32px"}},[n("span",{staticStyle:{width:"88px","font-size":"14px","font-weight":"700",color:"#606266"}},[e._v("人员名称")]),n("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable(t)}},model:{value:e.entity.name,callback:function(t){e.$set(e.entity,"name",t)},expression:"entity.name"}})],1),n("div",{staticStyle:{"line-height":"30px"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.refreshTable}},[e._v("查询")]),n("el-button",{attrs:{size:"mini"},on:{click:e.refresh}},[e._v("重置")])],1)]),n("div",{staticStyle:{"line-height":"30px"}},[n("el-button",{attrs:{loading:e.outLoading,size:"small",type:"primary"},on:{click:e.handleDown}},[e._v("导出")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.openSelectUserDia}},[e._v("新建")])],1)]),n("div",{staticClass:"search-table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:"",height:"calc(100vh - 21em)"}},[n("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"60"}}),n("el-table-column",{attrs:{label:"员工编号",prop:"account",width:"150"}}),n("el-table-column",{attrs:{label:"姓名",prop:"name",width:"120"}}),n("el-table-column",{attrs:{label:"籍贯",prop:"nativePlace",width:"120"}}),n("el-table-column",{attrs:{label:"证件地址",prop:"idAddress","show-overflow-tooltip":"",width:"100"}}),n("el-table-column",{attrs:{label:"手机号",prop:"telephone","show-overflow-tooltip":"",width:"100"}}),n("el-table-column",{attrs:{label:"毕业院校",prop:"graduatedInstitutions1",width:"100"}}),n("el-table-column",{attrs:{label:"所学专业",prop:"major1",width:"100"}}),n("el-table-column",{attrs:{label:"毕业时间",prop:"graduationTime1",width:"100"}}),n("el-table-column",{attrs:{label:"最高学历",prop:"officialAcademicRedentials",width:"100"}}),n("el-table-column",{attrs:{label:"最高学位",prop:"highestDegree",width:"100"}}),n("el-table-column",{attrs:{label:"职称",prop:"professionalTitle",width:"100"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(n){return e.$emit("updatePerson",t.row)}}},[e._v("编辑")]),n("el-button",{staticStyle:{color:"#f56c6c"},attrs:{size:"small",type:"text"},on:{click:function(n){return e.deletePerson(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":1,"current-page":e.page.current,"page-size":e.page.size,"page-sizes":[10,20,30,50,100],total:e.page.total,background:"",layout:"->,total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.page,"current",t)},"update:current-page":function(t){return e.$set(e.page,"current",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("el-dialog",{attrs:{visible:e.selectUserDia,title:"选择用户",width:"70%"},on:{"update:visible":function(t){e.selectUserDia=t}}},[n("div",{staticClass:"search",staticStyle:{"margin-bottom":"9px"}},[n("div",{staticClass:"search_thing"},[n("div",{staticClass:"search_label"},[e._v("用户名：")]),n("div",{staticClass:"search_input"},[n("el-input",{attrs:{clearable:"",placeholder:"请输入",size:"small"},on:{change:e.selectUserList},model:{value:e.addUserTableInfo.name,callback:function(t){e.$set(e.addUserTableInfo,"name",t)},expression:"addUserTableInfo.name"}})],1),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:e.selectUserList}},[e._v("查询")])],1)]),e.selectUserDia?n("div",{staticClass:"body",staticStyle:{height:"60vh"}},[n("lims-table",{attrs:{tableData:e.tableData1,column:e.column1,isSelection:!0,handleSelectionChange:e.selectMethod,height:"520",tableLoading:e.tableLoading1}})],1):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.selectUserDia=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.selectUser}},[e._v("确 定")])],1)])],1)},a=[],i=n("5530"),o=(n("14d9"),n("b0c0"),n("e9c4"),n("a9e3"),n("d3b7"),n("0643"),n("4e3e"),n("159b"),n("b558")),s=n("00d5"),c=n("cfb9"),u=(n("4360"),n("5c96"),{name:"PersonnelList",components:{limsTable:s["a"]},props:{departId:{type:Number,default:function(){return null}},isDepartment:{type:Boolean,default:!1},currentCompaniesList:{type:Array,default:[]}},data:function(){return{page:{size:20,current:1},outLoading:!1,tableLoading:!1,tableData:[],tableData1:[],tableLoading1:!1,column1:[{label:"姓名",prop:"name"},{label:"账号",prop:"account"},{label:"角色",prop:"roleName"},{dataType:"tag",label:"状态",prop:"status",formatData:function(e){return 0==e?"启用":""},formatType:function(e){return 0==e?"success":"danger"}},{label:"电话号码",prop:"phone"}],page1:{total:0,size:10,current:1},selectUserDia:!1,entity:{name:"",orderBy:{field:"id",order:"asc"}},addUserTableInfo:{name:null,isCustom:0},multipleSelection:[]}},mounted:function(){this.refreshTable()},methods:{refresh:function(){this.page={size:20,current:1},this.entity.name="",this.refreshTable()},refreshTable:function(){var e=this;this.tableLoading=!0,this.entity.departLimsId=this.departId;var t={size:this.page.size,current:this.page.current,departmentId:this.entity.departLimsId,name:this.entity.name};Object(c["d"])(t).then((function(t){e.tableLoading=!1,e.page.total=t.data.total,e.tableData=t.data.records})).catch((function(t){e.tableLoading=!1}))},deletePerson:function(e){var t=this;this.$confirm("是否删除当前数据?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["h"])({id:e.userId}).then((function(e){t.$message.success("删除成功"),t.refreshTable(),t.$emit("refreshTree")})).catch((function(e){t.$message.error("删除失败")}))})).catch((function(){}))},handleSizeChange:function(e){this.page.size=e,this.refreshTable()},handleCurrentChange:function(e){this.page.current=e,this.refreshTable()},openSelectUserDia:function(){this.selectUserDia=!0,this.selectUserList()},selectUserList:function(){var e=this;this.tableLoading1=!0,Object(o["w"])().then((function(t){e.tableLoading1=!1,e.tableData1=t.data})).catch((function(t){e.tableLoading1=!1}))},selectMethod:function(e){this.multipleSelection=e},selectUser:function(){var e=this;if(!this.currentCompaniesList.length>0)this.$message.warning("请选择部门！");else{var t=this.HaveJson(this.multipleSelection);if(0!==t.length){var n=[];t.forEach((function(e){n.push(e.id)}));var r="";this.currentCompaniesList.forEach((function(e){e&&(r+=e+",")})),Object(c["t"])({ids:JSON.stringify(n),id:r}).then((function(t){e.selectUserDia=!1,e.$message.success("添加成功"),e.refreshTable(),e.$emit("refreshTree")}))}else this.$message.error("未选择数据")}},handleDown:function(){var e=this;this.outLoading=!0;var t=this.HaveJson(this.entity);delete t.orderBy,Object(c["k"])(Object(i["a"])({},t)).then((function(t){e.outLoading=!1;var n=new Blob([t],{type:"application/octet-stream"});e.$download.saveAs(n,"人员信息.xlsx")}))}},watch:{departId:{handler:function(e,t){e&&(this.page.current=1,this.refreshTable())}}}}),l=u,d=(n("86dd"),n("2877")),f=Object(d["a"])(l,r,a,!1,null,"26dccc2c",null);t["default"]=f.exports},"86dd":function(e,t,n){"use strict";n("ff8b")},b558:function(e,t,n){"use strict";n.d(t,"v",(function(){return a})),n.d(t,"A",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"z",(function(){return s})),n.d(t,"y",(function(){return c})),n.d(t,"w",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"u",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"j",(function(){return b})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return O})),n.d(t,"d",(function(){return y})),n.d(t,"D",(function(){return j})),n.d(t,"l",(function(){return v})),n.d(t,"t",(function(){return I})),n.d(t,"C",(function(){return P})),n.d(t,"b",(function(){return w})),n.d(t,"x",(function(){return B})),n.d(t,"s",(function(){return L})),n.d(t,"h",(function(){return x})),n.d(t,"k",(function(){return k})),n.d(t,"f",(function(){return S})),n.d(t,"r",(function(){return T})),n.d(t,"m",(function(){return U})),n.d(t,"q",(function(){return C})),n.d(t,"B",(function(){return D}));var r=n("b775");function a(e){return Object(r["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/insOrderPlan/updateProductOnPlan",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/insOrderPlan/claimInsOrderPlan",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/insOrderPlan/upPlanUser2",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/insOrderPlan/upPlanUser",method:"post",params:e})}function u(e){return Object(r["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/insOrderPlan/getBindingProductByProductId",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/insOrderPlan/getProductTreeByProductId",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/insOrderPlan/bindingProductTreeByProductId",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/insOrderPlan/delProductTreeByProductId",method:"delete",params:e})}function m(e){return Object(r["a"])({url:"/insOrderPlan/selectInsOrderPlanList",method:"get",params:e})}function h(e){return Object(r["a"])({url:"/insOrderPlan/doInsOrder",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/insOrderPlan/getCableTag",method:"get",params:e})}function g(e){return Object(r["a"])({url:"/insOrderPlan/getRepetitionTag",method:"get",params:e})}function O(e){return Object(r["a"])({url:"/insOrderPlan/getRawMaterialTag",method:"get",params:e})}function y(e){return Object(r["a"])({url:"/deviceScope/dataCollection",method:"post",data:e})}function j(e){return Object(r["a"])({url:"/insOrderPlan/write",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/insOrderPlan/getInsProduct",method:"get",params:e})}function I(e){return Object(r["a"])({url:"/deviceScope/search",method:"get",params:e})}function P(e){return Object(r["a"])({url:"/insOrderPlan/verifyPlan",method:"post",params:e})}function w(e){return Object(r["a"])({url:"/insOrderPlan/checkSubmitPlan",method:"post",params:e})}function B(e){return Object(r["a"])({url:"/insOrderPlan/submitPlan",method:"post",params:e})}function L(e){return Object(r["a"])({url:"/insOrderPlan/saveInsContext",method:"post",data:e})}function x(e){return Object(r["a"])({url:"/insOrderPlan/downFile",method:"get",params:e})}function k(e){return Object(r["a"])({url:"/insOrderPlan/getFileList",method:"get",params:e})}function S(e){return Object(r["a"])({url:"/insOrderPlan/delfile",method:"delete",params:e})}function T(e){return Object(r["a"])({url:"/insOrderPlan/inspectionOrderDetailsTaskSwitching",method:"get",params:e})}function U(e){return Object(r["a"])({url:"/insOrderPlan/getInsProductUnqualifiedRetest",method:"get",params:e})}function C(e){return Object(r["a"])({url:"/insOrderPlan/getWorkingHoursByOrderId",method:"get",params:e})}function D(e){return Object(r["a"])({url:"/insOrderPlan/updateWorkingHours",method:"post",data:e})}},cfb9:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"t",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"l",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"s",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"v",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"p",(function(){return g})),n.d(t,"m",(function(){return O})),n.d(t,"u",(function(){return y})),n.d(t,"n",(function(){return j})),n.d(t,"a",(function(){return v})),n.d(t,"i",(function(){return I})),n.d(t,"q",(function(){return P})),n.d(t,"r",(function(){return w})),n.d(t,"j",(function(){return B}));var r=n("b775");function a(e){return Object(r["a"])({url:"/system/newUser/delUserDepardLimsId",method:"delete",params:e})}function i(e){return Object(r["a"])({url:"/system/newUser/upUserDepardLimsId",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/personBasicInfo/exportPersonBasicInfo",method:"get",data:e,responseType:"blob"})}function s(e){return Object(r["a"])({url:"/personBasicInfo/exportPersonBasicInfoById",method:"get",params:e,responseType:"blob"})}function c(e){return Object(r["a"])({url:"/personBasicInfo/basicInformationOfPersonnelSelectPage",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/personBasicInfo/delDepartmentLims",method:"delete",params:e})}function l(e){return Object(r["a"])({url:"/personBasicInfo/addDepartmentLims",method:"post",data:e})}function d(){return Object(r["a"])({url:"/personBasicInfo/selectCNSAPersonTree",method:"get"})}function f(e){return Object(r["a"])({url:"/personBasicInfo/getBasicInfoFileList",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/personBasicInfo/delBasicInfoFileList",method:"delete",params:e})}function m(e){return Object(r["a"])({url:"/personBasicInfo/addBasicInfoWork",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/personBasicInfo/updateBasicInfoWorkList",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/personBasicInfo/delBasicInfoWorkList",method:"delete",params:e})}function g(e){return Object(r["a"])({url:"/personBasicInfo/getBasicInfoWorkList",method:"get",params:e})}function O(e){return Object(r["a"])({url:"/personBasicInfo/getAnnex",method:"get",params:e})}function y(e){return Object(r["a"])({url:"/personBasicInfo/updateAnnex",method:"post",data:e})}function j(e){return Object(r["a"])({url:"/personBasicInfo/getAnnexByUserId",method:"get",params:e})}function v(e){return Object(r["a"])({url:"/personBasicInfo/addAnnex",method:"post",data:e})}function I(e){return Object(r["a"])({url:"/personBasicInfo/deleteAnnex",method:"delete",params:e})}function P(e){return Object(r["a"])({url:"/personBasicInfo/getCNASPersonnelInfo",method:"get",params:e})}function w(e){return Object(r["a"])({url:"/personBasicInfo/saveCNASPersonnelInfo",method:"post",data:e})}function B(e){return Object(r["a"])({url:"/personBasicInfo/deleteCNASFile",method:"delete",params:e})}},ff8b:function(e,t,n){}}]);