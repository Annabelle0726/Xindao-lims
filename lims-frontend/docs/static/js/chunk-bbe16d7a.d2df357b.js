(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bbe16d7a"],{"4a08":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"search_box"},[a("div",{staticClass:"search_item"},[a("span",{staticClass:"search_label"},[e._v("客户名称")]),a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(t)}},model:{value:e.queryParams.company,callback:function(t){e.$set(e.queryParams,"company",t)},expression:"queryParams.company"}})],1),a("div",{staticClass:"search_button"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getList}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.refresh}},[e._v("重置")])],1)]),a("div",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openFormDia("add")}}},[e._v("新增")])],1)]),a("div",[a("lims-table",{attrs:{tableData:e.tableData,column:e.column,height:"calc(100vh - 250px)",page:e.page,tableLoading:e.tableLoading},on:{pagination:e.pagination}})],1),a("el-dialog",{attrs:{title:e.formTitle,visible:e.addDia,width:"450px"},on:{"update:visible":function(t){e.addDia=t}}},[a("el-form",{ref:"userForm",attrs:{model:e.user,rules:e.userRules,"label-position":"right","label-width":"100px"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"company"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.user.company,callback:function(t){e.$set(e.user,"company",t)},expression:"user.company"}})],1),a("el-form-item",{attrs:{label:"客户单位EN",prop:"companyEn"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.user.companyEn,callback:function(t){e.$set(e.user,"companyEn",t)},expression:"user.companyEn"}})],1),a("el-form-item",{attrs:{label:"单位地址",prop:"address"}},[a("el-input",{attrs:{type:"textarea",size:"small",clearable:"",autosize:{minRows:2,maxRows:4}},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1),a("el-form-item",{attrs:{label:"单位地址EN",prop:"addressEn"}},[a("el-input",{attrs:{type:"textarea",size:"small",clearable:"",autosize:{minRows:2,maxRows:4}},model:{value:e.user.addressEn,callback:function(t){e.$set(e.user,"addressEn",t)},expression:"user.addressEn"}})],1),a("el-form-item",{attrs:{label:"单位电话",prop:"phone"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),a("el-form-item",{attrs:{label:"加急额度",prop:"num"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.user.num,callback:function(t){e.$set(e.user,"num",t)},expression:"user.num"}})],1),a("el-form-item",{attrs:{label:"客户编号",prop:"code2"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.user.code2,callback:function(t){e.$set(e.user,"code2",t)},expression:"user.code2"}})],1),a("el-form-item",{attrs:{label:"工厂域",prop:"code"}},[a("el-input",{attrs:{size:"small",clearable:""},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.reset}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.customAdd}},[e._v("确 定")])],1)],1)],1)},r=[],n=a("5530"),o=a("00d5"),i=a("5fd5"),l={name:"Customer",components:{limsTable:o["a"]},data:function(){var e=this;return{queryParams:{company:""},tableData:[],column:[{label:"客户名称",prop:"company"},{label:"客户单位EN",prop:"companyEn"},{label:"单位地址",prop:"address"},{label:"单位地址EN",prop:"addressEn"},{label:"单位电话",prop:"phone"},{label:"加急额度",prop:"num"},{label:"客户编号",prop:"code2"},{label:"工厂域",prop:"code"},{dataType:"action",fixed:"right",label:"操作",operation:[{name:"编辑",type:"text",clickFun:function(t){e.openFormDia("edit",t)}},{name:"删除",type:"text",clickFun:function(t){e.delete(t)}}]}],page:{total:0,size:20,current:1},tableLoading:!1,operationType:"",formTitle:"",addDia:!1,addPower:!0,user:{company:""},userRules:{company:[{required:!0,message:"请输入客户名称",trigger:"blur"}],companyEn:[{required:!0,message:"请输入客户名称EN",trigger:"blur"}],address:[{required:!0,message:"请输入单位地址",trigger:"blur"}],addressEn:[{required:!0,message:"请输入单位地址EN",trigger:"blur"}],num:[{required:!0,message:"请输入加急额度",trigger:"blur"}],code2:[{required:!0,message:"请输入客户编号",trigger:"blur"}]},loading:!1}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.tableLoading=!0,Object(i["c"])(Object(n["a"])(Object(n["a"])({},this.queryParams),this.page)).then((function(t){e.tableLoading=!1,200===t.code&&(e.tableData=t.data.records,e.page.total=t.data.total)})).catch((function(t){e.tableLoading=!1}))},refresh:function(){this.queryParams.company="",this.getList()},pagination:function(e){this.page.size=e.limit,this.getList()},openFormDia:function(e,t){this.addDia=!0,this.user={},this.formTitle="add"===e?"新增客户":"编辑客户",this.operationType=e,"edit"===e&&(this.user=this.HaveJson(t))},customAdd:function(){var e=this;this.$refs["userForm"].validate((function(t){t&&(e.loading=!0,"add"===e.operationType?Object(i["a"])(e.user).then((function(t){e.loading=!1,200===t.code&&(e.$message.success("新增成功"),e.getList(),e.reset())})).catch((function(t){e.loading=!1})):Object(i["d"])(e.user).then((function(t){e.loading=!1,200===t.code&&(e.$message.success("修改成功"),e.getList(),e.reset())})).catch((function(t){e.loading=!1})))}))},reset:function(){this.user={},this.resetForm("userForm"),this.addDia=!1},delete:function(e){var t=this;this.$confirm("是否删除当前数据?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["b"])({id:e.id}).then((function(e){500!==e.code&&(t.$message.success("删除成功"),t.getList())})).catch((function(e){t.$message.error("删除失败")}))})).catch((function(){}))}}},c=l,u=(a("e5dc"),a("2877")),d=Object(u["a"])(c,s,r,!1,null,"d7242462",null);t["default"]=d.exports},"5fd5":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return i}));var s=a("b775");function r(e){return Object(s["a"])({url:"/system/custom/selectCustomPageList",method:"get",params:e})}function n(e){return Object(s["a"])({url:"/system/custom/addCustom",method:"post",data:e})}function o(e){return Object(s["a"])({url:"/system/custom/upCustom",method:"post",data:e})}function i(e){return Object(s["a"])({url:"/system/custom/delCustomById",method:"delete",params:e})}},e152:function(e,t,a){},e5dc:function(e,t,a){"use strict";a("e152")}}]);