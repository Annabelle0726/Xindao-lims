(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-131f4a4d"],{"20f1":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",[e("lims-table",{attrs:{tableData:t.tableData,column:t.column,height:"calc(100vh - 500px)",rowClick:t.rowClick,page:t.page,tableLoading:t.tableLoading},on:{pagination:t.pagination}})],1),e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"inspection-card"},[e("div",{staticClass:"title"},[t._v("检验项偏差预警数据详情")]),e("Echarts",{ref:"chart",staticStyle:{height:"40vh"},attrs:{chartStyle:t.chartStyle,grid:t.grid,options:t.echartsOptions,series:t.echartsSeries,tooltip:t.tooltip,xAxis:t.xAxis,yAxis:t.yAxis}})],1)])],1)],1),e("el-dialog",{attrs:{visible:t.viewDia,title:"查看详情",width:"1100px"},on:{"update:visible":function(a){t.viewDia=a}}},[e("lims-table",{attrs:{tableData:t.tableData1,column:t.column1,height:"570",tableLoading:t.tableLoading1}})],1)],1)},i=[],r=e("5530"),o=(e("99af"),e("7db0"),e("14d9"),e("d3b7"),e("498a"),e("0643"),e("fffc"),e("4e3e"),e("159b"),e("00d5")),s=e("d3a9"),l=e("fd54"),c={name:"",components:{Echarts:l["a"],limsTable:o["a"]},data:function(){var t=this;return{viewDia:!1,queryParams:{},tableData:[],tableLoading:!1,column:[{label:"样品编号",prop:"sampleCode",width:150},{label:"样品名称",prop:"sampleName"},{label:"型号",prop:"sampleModel",width:150},{label:"供应商名称",prop:"supplierName",width:150},{label:"检验项名称",prop:"inspectionItemName"},{label:"偏差值%",prop:"deviationValue",width:150,dataType:"tag",formatType:function(t){return"danger"}},{label:"检测时间",prop:"detectionTime",width:160},{dataType:"action",label:"操作",operation:[{name:"查看",type:"text",clickFun:function(a){t.openDia(a)}}]}],page:{total:0,size:20,current:1},tableData1:[],tableLoading1:!1,column1:[{label:"样品编号",prop:"sampleCode"},{label:"供应商名称",prop:"supplierName"},{label:"检测值",prop:"testValue",width:150,dataType:"tag",formatType:function(a){return 1==t.tableData1.find((function(t){return t.testValue==a})).isIssue?"danger":"success"}},{label:"检测时间",prop:"detectionTime",width:160}],chartStyle:{width:"100%",height:"96%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{},echartsOptions:{},echartsSeries:[{name:"检测值",type:"line",smooth:!0,tooltip:{valueFormatter:function(t){return t}},label:{show:!0,position:"top",formatter:function(t){return t.value},distance:14},data:[],markArea:{},markPoint:{}}],xAxis:[{type:"category",data:[],boundaryGap:!1,axisLabel:{interval:0,rotate:0,formatter:function(t){for(var a=9,e="",n=0;n<t.length;n+=a)e+=t.substring(n,n+a)+"\n";return e.trim()},margin:10}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}}]}},mounted:function(){this.refreshTable()},methods:{refreshTable:function(){var t=this;this.tableLoading=!0,Object(s["k"])(Object(r["a"])({},this.page)).then((function(a){t.tableLoading=!1,t.tableData=a.data.records,t.page.total=a.data.total})).catch((function(a){t.tableLoading=!1}))},rowClick:function(t){var a=this;Object(s["j"])({deviationWarningId:t.deviationWarningId}).then((function(t){if(console.log("res---",t),null!==t.data){var e=[],n=[],i=[],r=[],o={};t.data.forEach((function(t,a){if(e.push(t.testValue),o[t.sampleCode]){o[t.sampleCode]++;var s="".concat(t.sampleCode,"-").concat(o[t.sampleCode]);n.push(s)}else o[t.sampleCode]=1,n.push(t.sampleCode);if(1==t.isIssue){var l=a>0?n[a-1]:n[a],c=n[a];i.push([{xAxis:l},{xAxis:c}]),r.push({name:"问题点",coord:[t.sampleCode,t.testValue],value:t.testValue,itemStyle:{color:"rgba(255, 173, 177, 0.8)"},label:{show:!0,formatter:function(t){return t.value},color:"black",fontSize:12,distance:5,padding:[0,0],backgroundColor:"rgba(255, 173, 177, 0.8)",borderRadius:4}})}})),a.xAxis[0].data=n,a.echartsSeries[0].data=e,a.echartsSeries[0].markArea={itemStyle:{color:"rgba(255, 173, 177, 0.4)"},data:i},a.echartsSeries[0].markPoint={data:r}}else a.$message.warning("暂无数据")}))},refresh:function(){this.refreshTable()},pagination:function(t){this.page.size=t.limit,this.refreshTable()},openDia:function(t){var a=this;this.viewDia=!0,this.tableLoading1=!0,Object(s["j"])({deviationWarningId:t.deviationWarningId}).then((function(t){a.tableLoading1=!1,a.tableData1=t.data})).catch((function(){a.tableLoading1=!1}))}}},u=c,d=(e("932d"),e("2877")),p=Object(d["a"])(u,n,i,!1,null,"95c092de",null);a["default"]=p.exports},"932d":function(t,a,e){"use strict";e("df43")},d3a9:function(t,a,e){"use strict";e.d(a,"c",(function(){return i})),e.d(a,"d",(function(){return r})),e.d(a,"a",(function(){return o})),e.d(a,"i",(function(){return s})),e.d(a,"e",(function(){return l})),e.d(a,"g",(function(){return c})),e.d(a,"f",(function(){return u})),e.d(a,"b",(function(){return d})),e.d(a,"h",(function(){return p})),e.d(a,"k",(function(){return h})),e.d(a,"j",(function(){return f}));var n=e("b775");function i(t){return Object(n["a"])({url:"/dataAnalysis/getRawPassRateByBarChart",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/dataAnalysis/getRawPassRateByCake",method:"get",params:t})}function o(){return Object(n["a"])({url:"/dataAnalysis/getOrderTypeCookie",method:"get"})}function s(){return Object(n["a"])({url:"/dataAnalysis/getRawUpMonth",method:"get"})}function l(t){return Object(n["a"])({url:"/dataAnalysis/getRawProductAnalysis",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/dataAnalysis/getRawProductAnalysisRawPass",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/dataAnalysis/getRawProductAnalysisAllList",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/dataAnalysis/getRawItemNames",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/dataAnalysis/getRawSupplierCompare",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/insProductDeviationWarning/selectDeviationWarningPage",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/insProductDeviationWarning/selectDeviationWarning",method:"get",params:t})}},df43:function(t,a,e){}}]);