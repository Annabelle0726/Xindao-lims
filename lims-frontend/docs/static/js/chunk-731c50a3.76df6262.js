(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-731c50a3"],{"0dde":function(e,t,a){"use strict";a("ffd1")},"0e9a":function(e,t,a){"use strict";var n=a("c14f"),r=a("1da1"),i=(a("c19f"),a("ace4"),a("2c66"),a("249d"),a("40e9"),a("d3b7"),a("ac1f"),a("5319"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("6ce5"),a("2834"),a("72f7"),a("4ea1"),a("c343")),l=a("acff"),o=a("2b0e");t["a"]={convertFileToHtml:function(e){return Object(r["a"])(Object(n["a"])().m((function t(){var a,l;return Object(n["a"])().w((function(t){while(1)switch(t.n){case 0:return a=new XMLHttpRequest,a.open("GET",o["default"].prototype.javaApi+e,!0),a.send(),a.responseType="blob",l=new Promise((function(e,t){a.onload=Object(r["a"])(Object(n["a"])().m((function t(){var l,o,c,s,d;return Object(n["a"])().w((function(t){while(1)switch(t.n){case 0:if(200!==this.status){t.n=2;break}return l=new Blob([this.response],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),o=new FileReader,o.readAsArrayBuffer(l),c=new Promise((function(e,t){o.onload=Object(r["a"])(Object(n["a"])().m((function t(){var r,l,o;return Object(n["a"])().w((function(t){while(1)switch(t.n){case 0:return r=a.response,t.n=1,Object(i["convertToHtml"])({arrayBuffer:r});case 1:l=t.v,o=l.value.replace(//g,"").replace("<h1>",'<h1 style="text-align: center;">').replace(/<table>/g,'<table style="border-collapse: collapse;border: 1px solid #000;">').replace(/<tr>/g,'<tr style="height: 30px;">').replace(/<td>/g,'<td style="border: 1px solid #000;">').replace(/<p>/g,'<p style="text-indent: 2em;">').replace(/<a [^>]*>/g,"").replace(/<\/a>/g,""),e(o);case 2:return t.a(2)}}),t)})))})),s=e,t.n=1,c;case 1:d=t.v,s(d);case 2:return t.a(2)}}),t,this)})))})),t.n=1,l;case 1:return t.a(2,t.v)}}),t)})))()},downloadIamge:function(e,t){var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var n=e.getContext("2d");n.drawImage(a,0,0,a.width,a.height);var r=e.toDataURL("image/png"),i=document.createElement("a"),l=new MouseEvent("click");i.download=t||"photo",i.href=r,i.dispatchEvent(l)},a.src=e},compressBlob:function(e){var t=new FileReader;return t.readAsArrayBuffer(e),new Promise((function(a){t.onload=function(){var n=t.result,r=new Uint8Array(n),i=l["a"].deflate(r),o=new Blob([i],{type:e.type});a(o)}}))}}},"1d09":function(e,t,a){e.exports=a.p+"static/img/综合室.e417bcdf.png"},"1da9":function(e,t,a){e.exports=a.p+"static/img/电力.e5d2178e.png"},2078:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{"margin-bottom":"18px","margin-right":"10px",display:"flex","align-items":"center","line-height":"32px"}},[a("span",{staticStyle:{width:"128px","font-size":"14px","font-weight":"700",color:"#606266"}},[e._v("申请文件编号")]),a("el-input",{attrs:{clearable:"",placeholder:"请输入",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable()}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),a("div",{staticStyle:{"line-height":"30px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.refreshTable}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.refresh}},[e._v("重置")])],1)]),a("div",{staticStyle:{"line-height":"30px"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.addDialogVisible=!0,e.addInfo={},e.currentFile={},e.title="文件变更申请",e.file=null}}},[e._v("文件变更申请")]),a("el-button",{attrs:{loading:e.outLoading,size:"small",type:"primary"},on:{click:e.handleOut}},[e._v("导出")])],1)]),a("div",{staticClass:"table"},[a("lims-table",{attrs:{tableData:e.tableData,column:e.column,page:e.page,tableLoading:e.tableLoading,height:"calc(100vh - 290px)"},on:{pagination:e.pagination}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.addDialogVisible,top:"0vh",width:"950px"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.diaLoading,expression:"diaLoading"}]},[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:12}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[a("span",{staticStyle:{color:"red","margin-right":"4px"}},[e._v("*")]),e._v("申请编号：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{disabled:"审核"==e.title,clearable:"",placeholder:"请输入",size:"small"},model:{value:e.addInfo.code,callback:function(t){e.$set(e.addInfo,"code",t)},expression:"addInfo.code"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:12}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[e._v("审批人：")]),a("div",{staticClass:"search_input"},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"审核"==e.title,filterable:"",size:"small"},model:{value:e.addInfo.checkUser,callback:function(t){e.$set(e.addInfo,"checkUser",t)},expression:"addInfo.checkUser"}},e._l(e.personList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:12}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[e._v("期望变更时间：")]),a("div",{staticClass:"search_input"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:"审核"==e.title,format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd"},model:{value:e.addInfo.expectAlterDate,callback:function(t){e.$set(e.addInfo,"expectAlterDate",t)},expression:"addInfo.expectAlterDate"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:12}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[e._v("实际变更时间：")]),a("div",{staticClass:"search_input"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:"审核"==e.title,format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd"},model:{value:e.addInfo.actuallyAlterDate,callback:function(t){e.$set(e.addInfo,"actuallyAlterDate",t)},expression:"addInfo.actuallyAlterDate"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing"},[a("div",{staticClass:"search_label"},[e._v("选择文件：")]),a("div",{staticClass:"search_input"},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"审核"==e.title,"allow-create":"",clearable:"",filterable:"",size:"small"},on:{change:e.getCurrentFile},model:{value:e.addInfo.alterBeforeCode,callback:function(t){e.$set(e.addInfo,"alterBeforeCode",t)},expression:"addInfo.alterBeforeCode"}},e._l(e.fileList,(function(e){return a("el-option",{key:e.documentCode,attrs:{label:e.title,value:e.documentCode}})})),1)],1)])]),a("el-col",{attrs:{span:24}},[a("h4",{staticClass:"title"},[e._v("当前文件信息")])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("文件编号：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{disabled:"审核"==e.title,clearable:"",placeholder:"请输入",size:"small"},model:{value:e.currentFile.documentCode,callback:function(t){e.$set(e.currentFile,"documentCode",t)},expression:"currentFile.documentCode"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("文件名称：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{disabled:"审核"==e.title,clearable:"",placeholder:"请输入",size:"small"},model:{value:e.currentFile.name,callback:function(t){e.$set(e.currentFile,"name",t)},expression:"currentFile.name"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("文件版本：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{disabled:"审核"==e.title,clearable:"",placeholder:"请输入",size:"small"},model:{value:e.currentFile.version,callback:function(t){e.$set(e.currentFile,"version",t)},expression:"currentFile.version"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("提交人：")]),a("div",{staticClass:"search_input"},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",filterable:"",size:"small"},model:{value:e.currentFile.createUser,callback:function(t){e.$set(e.currentFile,"createUser",t)},expression:"currentFile.createUser"}},e._l(e.personList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("提交时间：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{clearable:"",disabled:"",placeholder:"请输入",size:"small"},model:{value:e.currentFile.createTime,callback:function(t){e.$set(e.currentFile,"createTime",t)},expression:"currentFile.createTime"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("审核时间：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{clearable:"",disabled:"",placeholder:"请输入",size:"small"},model:{value:e.currentFile.effectiveDate,callback:function(t){e.$set(e.currentFile,"effectiveDate",t)},expression:"currentFile.effectiveDate"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("文件状态：")]),a("div",{staticClass:"search_input"},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",size:"small"},model:{value:e.currentFile.state,callback:function(t){e.$set(e.currentFile,"state",t)},expression:"currentFile.state"}},e._l(e.fileState,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])]),a("el-col",{attrs:{span:24}},[a("h4",{staticClass:"title"},[e._v("文件变更申请")])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("变更后编号：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{disabled:"审核"==e.title,clearable:"",placeholder:"请输入",size:"small"},model:{value:e.addInfo.alterAfterCode,callback:function(t){e.$set(e.addInfo,"alterAfterCode",t)},expression:"addInfo.alterAfterCode"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("变更后名称：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{disabled:"审核"==e.title,clearable:"",placeholder:"请输入",size:"small"},model:{value:e.addInfo.alterAfterName,callback:function(t){e.$set(e.addInfo,"alterAfterName",t)},expression:"addInfo.alterAfterName"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("前一版本处理：")]),a("div",{staticClass:"search_input"},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"审核"==e.title,size:"small"},model:{value:e.addInfo.method,callback:function(t){e.$set(e.addInfo,"method",t)},expression:"addInfo.method"}},[a("el-option",{attrs:{label:"作废",value:"作废"}}),a("el-option",{attrs:{label:"存档不可用",value:"存档不可用"}})],1)],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:8}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("变更后版本：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{disabled:"审核"==e.title,clearable:"",placeholder:"请输入",size:"small"},model:{value:e.addInfo.alterAfterVersion,callback:function(t){e.$set(e.addInfo,"alterAfterVersion",t)},expression:"addInfo.alterAfterVersion"}})],1)])]),a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:16}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("变更说明：")]),a("div",{staticClass:"search_input"},[a("el-input",{attrs:{disabled:"审核"==e.title,rows:2,clearable:"",placeholder:"请输入",size:"small",type:"textarea"},model:{value:e.addInfo.alterNote,callback:function(t){e.$set(e.addInfo,"alterNote",t)},expression:"addInfo.alterNote"}})],1)])]),"审核"!=e.title?a("el-col",{staticStyle:{"margin-bottom":"16px"},attrs:{span:24}},[a("div",{staticClass:"search_thing",staticStyle:{width:"100%"}},[a("div",{staticClass:"search_label"},[e._v("相关附件：")]),a("div",{staticClass:"search_input"},[e.addDialogVisible?a("el-upload",{staticStyle:{margin:"8px 0 0px 50px"},attrs:{"auto-upload":!1,multiple:!1,"on-change":e.handleChangeUpload,accept:".pdf",action:"#"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传附件")])],1):e._e()],1)])]):e._e(),"审核"==e.title&&e.addDialogVisible?a("UpPdfStamp",{ref:"UpPdfStamp",attrs:{isUpFile:!1},on:{uploadPDF:e.uploadPDF}}):e._e()],1)],1),"审核"!=e.title?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{loading:e.addLoading,type:"primary"},on:{click:e.handleAdd}},[e._v("确 定")])],1):a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:e.noCheckLoading},on:{click:function(t){return e.handleCheckSub("不通过")}}},[e._v("不通过")]),a("el-button",{attrs:{loading:e.checkLoading,type:"primary"},on:{click:function(t){return e.handleCheckSub("通过")}}},[e._v("通 过")])],1)]),a("el-dialog",{attrs:{visible:e.lookDialogVisible,fullscreen:"",title:"查看附件",top:"5vh",width:"800px"},on:{"update:visible":function(t){e.lookDialogVisible=t}}},[e.lookDialogVisible?a("filePreview",{staticStyle:{height:"90vh","overflow-y":"auto"},attrs:{currentFile:{},fileUrl:e.javaApi+"/word/"+e.currentInfo.alterAfterUrl}}):e._e()],1)],1)},r=[],i=a("5530"),l=(a("7db0"),a("d81d"),a("14d9"),a("b0c0"),a("d3b7"),a("0643"),a("fffc"),a("4e3e"),a("a573"),a("159b"),a("00d5")),o=a("132c"),c=a("a408"),s=a("b558"),d=a("5afa"),u=a("2f62"),p={components:{limsTable:l["a"],filePreview:c["a"],UpPdfStamp:o["a"]},computed:Object(i["a"])({},Object(u["b"])(["userId"])),data:function(){var e=this;return{title:"文件变更申请",noCheckLoading:!1,checkLoading:!1,addDialogVisible:!1,diaLoading:!1,addInfo:{},addPower:!1,outPower:!1,outLoading:!1,personList:[],fileList:[],currentFile:{},fileState:[],file:null,addLoading:!1,lookDialogVisible:!1,currentInfo:{},type:null,fileName:null,queryParams:{},tableData:[],column:[{label:"申请编号",prop:"code"},{label:"申请人",prop:"createUserName",width:"120px"},{label:"变更说明",prop:"alterNote"},{label:"期望变更时间",prop:"expectAlterDate"},{label:"实际变更时间",prop:"actuallyAlterDate"},{label:"状态",prop:"state",dataType:"tag",formatData:function(e){return e},formatType:function(e){return"通过"==e?"success":"danger"}},{dataType:"action",fixed:"right",label:"操作",operation:[{name:"编辑",type:"text",clickFun:function(t){e.handleUpdate(t)},disabled:function(e,t){return"通过"==e.state}},{name:"删除",type:"text",clickFun:function(t){e.handleDelete(t)},disabled:function(e,t){return"通过"==e.state}},{name:"审核",type:"text",clickFun:function(t){e.handleCheck(t)},disabled:function(t,a){return t.checkUser!=e.userId||"通过"==t.state}},{name:"查看附件",type:"text",clickFun:function(t){e.handleLook(t)}},{name:"下载附件",type:"text",clickFun:function(t){e.handleDown(t)}}]}],page:{total:0,size:10,current:0},tableLoading:!1}},mounted:function(){this.getList(),this.getAuthorizedPerson(),this.getFileList(),this.selectEnumByCategory()},methods:{getList:function(){var e=this;this.tableLoading=!0;var t=Object(i["a"])(Object(i["a"])({},this.queryParams),this.page);delete t.total,Object(d["x"])(Object(i["a"])({},t)).then((function(t){e.tableLoading=!1,200===t.code&&(e.tableData=t.data.records,e.page.total=t.data.total)})).catch((function(t){e.tableLoading=!1}))},pagination:function(e){var t=e.page,a=e.limit;this.page.current=t,this.page.size=a,this.getList()},refresh:function(){this.queryParams={},this.page.current=1,this.getList()},refreshTable:function(){this.page.current=1,this.getList()},handleOut:function(){var e=this;this.outLoading=!0,Object(d["u"])(this.queryParams).then((function(t){e.outLoading=!1;var a=new Blob([t],{type:"application/octet-stream"});e.$download.saveAs(a,"文件变更记录.xlsx")}))},getAuthorizedPerson:function(){var e=this;Object(s["w"])().then((function(t){var a=[];t.data.forEach((function(e){a.push({label:e.name,value:e.id})})),e.personList=a}))},getFileList:function(){var e=this;Object(d["B"])({current:-1,size:-1}).then((function(t){e.fileList=t.data.records.map((function(e){return e.title=e.documentCode+":"+e.name,e}))})).catch((function(e){}))},getCurrentFile:function(e){this.currentFile=this.fileList.find((function(t){return t.documentCode==e})),this.currentFile||(this.currentFile={})},selectEnumByCategory:function(){var e=this;this.getDicts("document_state").then((function(t){e.fileState=e.dictToValue(t.data)}))},handleChangeUpload:function(e,t){this.file=e,this.$set(this.addInfo,"alterAfterName",e.name)},handleAdd:function(){var e=this;if(!this.addInfo.code)return this.$message({type:"error",message:"请输入申请编号"});if(this.addInfo.id){var t=new FormData;this.file&&t.append("file",this.file.raw);var a=this.currentFile,n=a.name,r=a.version;t.append("alterBeforeName",n),t.append("alterBeforeVersion",r);var i=this.addInfo,l=i.code,o=i.checkUser,c=i.expectAlterDate,s=i.actuallyAlterDate,u=i.alterAfterCode,p=i.method,f=i.alterAfterVersion,m=i.alterNote,h=i.alterAfterName,g=i.id;t.append("code",l),t.append("checkUser",o),t.append("expectAlterDate",c),t.append("actuallyAlterDate",s),t.append("alterAfterCode",u),t.append("method",p),t.append("alterAfterVersion",f),t.append("alterNote",m),t.append("alterAfterName",h),t.append("id",g),this.addLoading=!0,Object(d["p"])(t).then((function(t){e.addLoading=!1,200==t.code?(e.$message({type:"success",message:"修改成功"}),e.refreshTable(),e.addDialogVisible=!1):e.$message({type:"error",message:"修改失败"})}))}else{var b=new FormData;for(var v in this.file&&b.append("file",this.file.raw),this.addInfo)b.append(v,this.addInfo[v]);var y=this.currentFile,C=y.name,O=y.version;y.documentCode;b.append("alterBeforeName",C),b.append("alterBeforeVersion",O),this.addLoading=!0,Object(d["a"])(b).then((function(t){e.addLoading=!1,200==t.code?(e.$message({type:"success",message:"添加成功"}),e.refreshTable(),e.addDialogVisible=!1):e.$message({type:"error",message:"添加失败"})}))}},handleUpdate:function(e){this.title="文件变更申请",this.addInfo=this.HaveJson(e);var t=this.addInfo.alterBeforeCode;this.getCurrentFile(t),this.file=null,this.addDialogVisible=!0},handleLook:function(e){this.currentInfo=this.HaveJson(e),this.lookDialogVisible=!0},handleDown:function(e){if(!e.alterAfterUrl)return this.$message.warning("文件未上传");this.$download.saveAs(e.alterAfterUrl,e.alterAfterUrl)},handleCheck:function(e){var t=this;if(this.title="审核",this.fileName=e.alterAfterName,!e.alterAfterUrl)return this.$message.warning("文件未上传");this.addInfo=this.HaveJson(e);var a=this.addInfo.alterBeforeCode;this.getCurrentFile(a),this.addDialogVisible=!0,this.diaLoading=!0,Object(d["f"])({id:e.id}).then((function(a){t.diaLoading=!1;var n=new Blob([a]),r=new File([n],e.name,{type:"application/pdf"});t.$refs.UpPdfStamp.lookFile(r),t.currentInfo=e})).catch((function(e){t.diaLoading=!1,console.log(e)}))},uploadPDF:function(e){var t=this,a=new File([e],this.fileName,{type:"application/pdf"});console.log("file---",a);var n=new FormData;n.append("file",a,this.fileName+".pdf"),n.append("id",this.currentInfo.id),n.append("state",this.type),Object(d["e"])(n).then((function(e){return t.$message({message:"操作成功",type:"success"}),t.addDialogVisible=!1,t.checkLoading=!1,t.noCheckLoading=!1,t.refreshTable(),!0})).catch((function(e){return t.checkLoading=!1,t.noCheckLoading=!1,!1}))},handleCheckSub:function(e){this.type=e,"通过"==e?this.checkLoading=!0:this.noCheckLoading=!0,this.addLoading=!0,this.$refs["UpPdfStamp"].generatePDF()},handleDelete:function(e){var t=this;this.$confirm("是否删除该条数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(d["k"])({id:e.id}).then((function(e){t.$message.success("删除成功"),t.refresh()}))})).catch((function(){}))}}},f=p,m=(a("0dde"),a("2877")),h=Object(m["a"])(f,n,r,!1,null,"e6849472",null);t["default"]=h.exports},"2c86":function(e,t,a){e.exports=a.p+"static/img/储能.dc6fe605.png"},"3ab3":function(e,t,a){e.exports=a.p+"static/img/主任.4d96200f.png"},"5afa":function(e,t,a){"use strict";a.d(t,"C",(function(){return r})),a.d(t,"B",(function(){return i})),a.d(t,"o",(function(){return l})),a.d(t,"t",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"r",(function(){return s})),a.d(t,"i",(function(){return d})),a.d(t,"h",(function(){return u})),a.d(t,"m",(function(){return p})),a.d(t,"z",(function(){return f})),a.d(t,"y",(function(){return m})),a.d(t,"w",(function(){return h})),a.d(t,"d",(function(){return g})),a.d(t,"s",(function(){return b})),a.d(t,"j",(function(){return v})),a.d(t,"A",(function(){return y})),a.d(t,"n",(function(){return C})),a.d(t,"u",(function(){return O})),a.d(t,"a",(function(){return w})),a.d(t,"p",(function(){return D})),a.d(t,"f",(function(){return x})),a.d(t,"e",(function(){return _})),a.d(t,"k",(function(){return k})),a.d(t,"x",(function(){return j})),a.d(t,"b",(function(){return I})),a.d(t,"q",(function(){return P})),a.d(t,"g",(function(){return A})),a.d(t,"v",(function(){return L})),a.d(t,"l",(function(){return S}));var n=a("b775");function r(e){return Object(n["a"])({url:"/manageDocumentList/uploadFileManageDocumentList",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function i(e){return Object(n["a"])({url:"/manageDocumentList/pageManageDocumentList",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/manageDocumentList/delManageDocumentList",method:"delete",params:e})}function o(e){return Object(n["a"])({url:"/manageDocumentList/doManageDocumentList",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/manageDocumentControlled/addManageDocumentControlled",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function s(e){return Object(n["a"])({url:"/manageDocumentControlled/doManageDocumentControlled",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function d(e){return Object(n["a"])({url:"/manageDocumentControlled/checkManageDocumentControlledPdf",method:"get",responseType:"blob",params:e})}function u(e){return Object(n["a"])({url:"/manageDocumentControlled/checkManageDocumentControlled",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function p(e){return Object(n["a"])({url:"/manageDocumentControlled/delManageDocumentControlled",method:"delete",params:e})}function f(e){return Object(n["a"])({url:"/manageDocumentControlled/pageManageDocumentControlled",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/manageDocumentCancel/pageManageDocumentCancel",method:"get",params:e})}function h(e){return Object(n["a"])({url:"/manageDocumentIssueRecycle/exportManageDocumentIssueRecycle",method:"get",responseType:"blob",params:e})}function g(e){return Object(n["a"])({url:"/manageDocumentIssueRecycle/addManageDocumentIssueRecycle",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function b(e){return Object(n["a"])({url:"/manageDocumentIssueRecycle/doManageDocumentIssueRecycle",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/manageDocumentIssueRecycle/checkManageDocumentIssueRecycle",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/manageDocumentIssueRecycle/pageManageDocumentIssueRecycle",method:"get",params:e})}function C(e){return Object(n["a"])({url:"/manageDocumentIssueRecycle/delManageDocumentIssueRecycle",method:"delete",params:e})}function O(e){return Object(n["a"])({url:"/manageDocumentAlter/exportManageDocumentAlter",method:"get",responseType:"blob",params:e})}function w(e){return Object(n["a"])({url:"/manageDocumentAlter/addManageDocumentAlter",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function D(e){return Object(n["a"])({url:"/manageDocumentAlter/doManageDocumentAlter",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function x(e){return Object(n["a"])({url:"/manageDocumentAlter/checkManageDocumentAlterPdf",method:"get",responseType:"blob",params:e})}function _(e){return Object(n["a"])({url:"/manageDocumentAlter/checkManageDocumentAlter",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function k(e){return Object(n["a"])({url:"/manageDocumentAlter/delManageDocumentAlter",method:"delete",params:e})}function j(e){return Object(n["a"])({url:"/manageDocumentAlter/pageManageDocumentAlter",method:"get",params:e})}function I(e){return Object(n["a"])({url:"/manageDocumentCancel/addManageDocumentCancel",method:"post",data:e})}function P(e){return Object(n["a"])({url:"/manageDocumentCancel/doManageDocumentCancel",method:"post",data:e})}function A(e){return Object(n["a"])({url:"/manageDocumentCancel/checkManageDocumentCancel",method:"post",data:e})}function L(e){return Object(n["a"])({url:"/manageDocumentCancel/exportManageDocumentCancel",method:"get",responseType:"blob",params:e})}function S(e){return Object(n["a"])({url:"/manageDocumentCancel/delManageDocumentCancel",method:"delete",params:e})}},7112:function(e,t,a){e.exports=a.p+"static/img/射频.329f22c5.png"},a112:function(e,t,a){e.exports=a.p+"static/img/装备.736f404b.png"},a436:function(e,t,a){var n={"./主任.png":"3ab3","./储能.png":"2c86","./射频.png":"7112","./技术负责人.png":"c6a3","./电力.png":"1da9","./综合室.png":"1d09","./装备.png":"a112","./质量负责人.png":"f26f","./通信.png":"af58"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="a436"},af58:function(e,t,a){e.exports=a.p+"static/img/通信.8cc52573.png"},b558:function(e,t,a){"use strict";a.d(t,"v",(function(){return r})),a.d(t,"A",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"z",(function(){return o})),a.d(t,"y",(function(){return c})),a.d(t,"w",(function(){return s})),a.d(t,"i",(function(){return d})),a.d(t,"n",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"u",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"j",(function(){return g})),a.d(t,"p",(function(){return b})),a.d(t,"o",(function(){return v})),a.d(t,"d",(function(){return y})),a.d(t,"D",(function(){return C})),a.d(t,"l",(function(){return O})),a.d(t,"t",(function(){return w})),a.d(t,"C",(function(){return D})),a.d(t,"b",(function(){return x})),a.d(t,"x",(function(){return _})),a.d(t,"s",(function(){return k})),a.d(t,"h",(function(){return j})),a.d(t,"k",(function(){return I})),a.d(t,"f",(function(){return P})),a.d(t,"r",(function(){return A})),a.d(t,"m",(function(){return L})),a.d(t,"q",(function(){return S})),a.d(t,"B",(function(){return F}));var n=a("b775");function r(e){return Object(n["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/insOrderPlan/updateProductOnPlan",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/insOrderPlan/claimInsOrderPlan",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/insOrderPlan/upPlanUser2",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/insOrderPlan/upPlanUser",method:"post",params:e})}function s(e){return Object(n["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:e})}function d(e){return Object(n["a"])({url:"/insOrderPlan/getBindingProductByProductId",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/insOrderPlan/getProductTreeByProductId",method:"get",params:e})}function p(e){return Object(n["a"])({url:"/insOrderPlan/bindingProductTreeByProductId",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/insOrderPlan/delProductTreeByProductId",method:"delete",params:e})}function m(e){return Object(n["a"])({url:"/insOrderPlan/selectInsOrderPlanList",method:"get",params:e})}function h(e){return Object(n["a"])({url:"/insOrderPlan/doInsOrder",method:"get",params:e})}function g(e){return Object(n["a"])({url:"/insOrderPlan/getCableTag",method:"get",params:e})}function b(e){return Object(n["a"])({url:"/insOrderPlan/getRepetitionTag",method:"get",params:e})}function v(e){return Object(n["a"])({url:"/insOrderPlan/getRawMaterialTag",method:"get",params:e})}function y(e){return Object(n["a"])({url:"/deviceScope/dataCollection",method:"post",data:e})}function C(e){return Object(n["a"])({url:"/insOrderPlan/write",method:"post",data:e})}function O(e){return Object(n["a"])({url:"/insOrderPlan/getInsProduct",method:"get",params:e})}function w(e){return Object(n["a"])({url:"/deviceScope/search",method:"get",params:e})}function D(e){return Object(n["a"])({url:"/insOrderPlan/verifyPlan",method:"post",params:e})}function x(e){return Object(n["a"])({url:"/insOrderPlan/checkSubmitPlan",method:"post",params:e})}function _(e){return Object(n["a"])({url:"/insOrderPlan/submitPlan",method:"post",params:e})}function k(e){return Object(n["a"])({url:"/insOrderPlan/saveInsContext",method:"post",data:e})}function j(e){return Object(n["a"])({url:"/insOrderPlan/downFile",method:"get",params:e})}function I(e){return Object(n["a"])({url:"/insOrderPlan/getFileList",method:"get",params:e})}function P(e){return Object(n["a"])({url:"/insOrderPlan/delfile",method:"delete",params:e})}function A(e){return Object(n["a"])({url:"/insOrderPlan/inspectionOrderDetailsTaskSwitching",method:"get",params:e})}function L(e){return Object(n["a"])({url:"/insOrderPlan/getInsProductUnqualifiedRetest",method:"get",params:e})}function S(e){return Object(n["a"])({url:"/insOrderPlan/getWorkingHoursByOrderId",method:"get",params:e})}function F(e){return Object(n["a"])({url:"/insOrderPlan/updateWorkingHours",method:"post",data:e})}},c6a3:function(e,t,a){e.exports=a.p+"static/img/技术负责人.816870fa.png"},f26f:function(e,t,a){e.exports=a.p+"static/img/质量负责人.db312207.png"},ffd1:function(e,t,a){}}]);