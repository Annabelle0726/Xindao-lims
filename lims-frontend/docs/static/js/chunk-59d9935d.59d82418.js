(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59d9935d"],{"3bbd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-radio-group",{on:{change:e.changeDate},model:{value:e.dateType,callback:function(t){e.dateType=t},expression:"dateType"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("本周")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("本月")]),a("el-radio-button",{attrs:{label:"3"}},[e._v("今年")])],1)],1),a("el-col",{attrs:{span:20}},[a("el-form",{ref:"entity",attrs:{size:"small",inline:!0}},[a("el-form-item",{staticStyle:{width:"20%"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"end-placeholder":"结束日期",format:"yyyy-MM-dd",placeholder:"选择日期","range-separator":"至",size:"small","start-placeholder":"开始日期",type:"daterange","value-format":"yyyy-MM-dd"},on:{change:e.changeDatePicker},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}})],1),a("el-form-item",{attrs:{label:"样品名称",prop:"sampleName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入样品名称",size:"small"},on:{change:e.changeDate},model:{value:e.sampleName,callback:function(t){e.sampleName=t},expression:"sampleName"}})],1),a("el-form-item",{attrs:{label:"型号",prop:"modelName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入型号",size:"small"},on:{change:e.changeDate},model:{value:e.modelName,callback:function(t){e.modelName=t},expression:"modelName"}})],1),a("el-form-item",{attrs:{label:"供应商名称",prop:"supplierName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入供应商名称",size:"small"},on:{change:e.changeDate},model:{value:e.supplierName,callback:function(t){e.supplierName=t},expression:"supplierName"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"pie-card"},[a("div",{staticClass:"title"},[e._v("原材料合格率")]),a("span",{staticClass:"data"},[e._v(e._s(e.passRate))]),a("Echarts",{ref:"chart",staticStyle:{height:"36vh"},attrs:{legend:e.pieLegend,series:e.materialPieSeries,tooltip:e.pieTooltip}})],1)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"pie-card"},[a("div",{staticClass:"title"},[a("span",{staticStyle:{color:"#F56C6C"}},[e._v("本月")]),e._v("检验类型数量")]),a("Echarts",{ref:"chart",staticStyle:{height:"36vh"},attrs:{chartStyle:e.chartStyle2,legend:e.pieLegend,series:e.materialPieSeries1,tooltip:e.pieTooltip}})],1)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"pie-card"},[a("div",{staticClass:"title"},[e._v("原材料"),a("span",{staticStyle:{color:"#F56C6C"}},[e._v("本月")]),e._v("与"),a("span",{staticStyle:{color:"#F56C6C"}},[e._v("上月")]),e._v("合格率对比")]),a("Echarts",{ref:"chart",staticStyle:{height:"36vh"},attrs:{barColors:e.barColors2,chartStyle:e.chartStyle,grid:e.grid,legend:e.barLegend,series:e.barSeries,tooltip:e.tooltip,xAxis:e.xAxis1,yAxis:e.yAxis1}})],1)])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"inspection-card"},[a("div",{staticClass:"title"},[e._v("合格率")]),a("Echarts",{ref:"chart",staticStyle:{height:"40vh"},attrs:{barColors:e.barColors,grid:e.grid,legend:e.legend,lineColors:e.lineColors,options:e.echartsOptions,series:e.echartsSeries,tooltip:e.tooltip,xAxis:e.xAxis,yAxis:e.yAxis}})],1)])],1)],1)},r=[],s=(a("14d9"),a("d3b7"),a("0643"),a("4e3e"),a("159b"),a("fd54")),n=a("d3a9"),l={name:"QualificationRateStatistics",components:{Echarts:s["a"]},data:function(){return{dateType:"1",datePicker:[],beginDate:"",endDate:"",sampleName:"",modelName:"",supplierName:"",echartsOptions:{title:{text:"示例图表",left:"center"}},xAxis:[{type:"category",data:[],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"总数",min:0},{type:"value",name:"合格率",min:0,max:100,axisLabel:{formatter:"{value} %"}}],echartsSeries:[{name:"总数",type:"bar",data:[],label:{show:!0,position:"top"}},{name:"合格率",type:"line",smooth:!0,tooltip:{valueFormatter:function(e){return e+" %"}},label:{show:!0,position:"top",formatter:function(e){return e.value+" %"},distance:14},yAxisIndex:1,data:[]}],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},legend:{data:["总数","合格率"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},lineColors:["#91A0FC"],barColors:["#86C1F4"],barColors2:["#A4EEDA"],pieTooltip:{trigger:"item"},pieLegend:{orient:"vertical",right:20,top:"middle"},materialPieSeries:[{name:"Access From",type:"pie",radius:["40%","70%"],right:"22%",avoidLabelOverlap:!1,itemStyle:{borderColor:"#fff",borderWidth:2},label:{alignTo:"edge",formatter:"{name|{b}}\n{time|{c}}",edgeDistance:10,lineHeight:15,rich:{time:{fontSize:10,color:"#999"}}},labelLine:{length:20,length2:40},data:[{value:0,name:"不合格数量"},{value:0,name:"合格数量"}]}],materialPieSeries1:[{name:"Access From",type:"pie",radius:["40%","70%"],right:"22%",avoidLabelOverlap:!1,itemStyle:{borderColor:"#fff",borderWidth:2},label:{alignTo:"edge",formatter:"{name|{b}}\n{time|{c}}",edgeDistance:10,lineHeight:15,rich:{time:{fontSize:10,color:"#999"}}},labelLine:{length:20,length2:50},data:[{value:0,name:"委托检验"},{value:0,name:"进厂检验"},{value:0,name:"季度检验"},{value:0,name:"抽样"}]}],barLegend:{},chartStyle:{width:"90%",height:"100%"},chartStyle2:{width:"90%",height:"80%"},xAxis1:[{type:"value",min:0,max:100,axisLabel:{formatter:"{value} %"}}],yAxis1:[{type:"category",data:[]}],barSeries:[{type:"bar",data:[],tooltip:{valueFormatter:function(e){return e+" %"}},label:{show:!0,formatter:function(e){return Math.round(100*e.value)/100+"%"}}}],tableData:[],passRate:"",sum:""}},mounted:function(){this.getBar(),this.getRawPass(),this.getOrderType(),this.getPassRateCom()},methods:{getBar:function(){var e=this,t={dateType:this.dateType,beginDate:this.beginDate,endDate:this.endDate,sampleName:this.sampleName,modelName:this.modelName,supplierName:this.supplierName};Object(n["c"])(t).then((function(t){var a=[],i=[],r=[];t.data.forEach((function(e){i.push(e.sum),a.push(e.passRate),r.push(e.searchTime)})),e.echartsSeries[0].data=i,e.echartsSeries[1].data=a,e.yAxis[0].max=50*Math.ceil(Math.max.apply(null,i)/50),e.yAxis[0].interval=e.yAxis[0].max/5,e.xAxis[0].data=r}))},getRawPass:function(){var e=this,t={dateType:this.dateType,beginDate:this.beginDate,endDate:this.endDate,sampleName:this.sampleName,modelName:this.modelName,supplierName:this.supplierName};Object(n["d"])(t).then((function(t){e.materialPieSeries[0].data[0].value=t.data.unQualified,e.materialPieSeries[0].data[1].value=t.data.qualified,e.passRate=t.data.passRate+"%"}))},getOrderType:function(){var e=this;Object(n["a"])().then((function(t){e.materialPieSeries1[0].data[0].value=t.data.customer,e.materialPieSeries1[0].data[1].value=t.data.enter,e.materialPieSeries1[0].data[2].value=t.data.quarterly,e.materialPieSeries1[0].data[3].value=t.data.spotCheck}))},getPassRateCom:function(){var e=this;Object(n["i"])().then((function(t){var a=[],i=[];t.data.forEach((function(e){a.push(e.month),i.push(e.passRate)})),e.yAxis1[0].data=a,e.barSeries[0].data=i}))},changeDate:function(){this.getBar(),this.getRawPass()},changeDatePicker:function(e){e?(this.beginDate=e[0]+" 00:00:00",this.endDate=e[1]+" 23:59:59"):(this.beginDate="",this.endDate=""),this.getBar(),this.getRawPass()}}},o=l,c=(a("dd98"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"1c9aea07",null);t["default"]=d.exports},6244:function(e,t,a){},d3a9:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return n})),a.d(t,"i",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"g",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"h",(function(){return p})),a.d(t,"k",(function(){return m})),a.d(t,"j",(function(){return h}));var i=a("b775");function r(e){return Object(i["a"])({url:"/dataAnalysis/getRawPassRateByBarChart",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/dataAnalysis/getRawPassRateByCake",method:"get",params:e})}function n(){return Object(i["a"])({url:"/dataAnalysis/getOrderTypeCookie",method:"get"})}function l(){return Object(i["a"])({url:"/dataAnalysis/getRawUpMonth",method:"get"})}function o(e){return Object(i["a"])({url:"/dataAnalysis/getRawProductAnalysis",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/dataAnalysis/getRawProductAnalysisRawPass",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/dataAnalysis/getRawProductAnalysisAllList",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/dataAnalysis/getRawItemNames",method:"get",params:e})}function p(e){return Object(i["a"])({url:"/dataAnalysis/getRawSupplierCompare",method:"post",data:e})}function m(e){return Object(i["a"])({url:"/insProductDeviationWarning/selectDeviationWarningPage",method:"get",params:e})}function h(e){return Object(i["a"])({url:"/insProductDeviationWarning/selectDeviationWarning",method:"get",params:e})}},dd98:function(e,t,a){"use strict";a("6244")}}]);