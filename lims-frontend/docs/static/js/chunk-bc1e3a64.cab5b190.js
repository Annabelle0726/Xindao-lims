(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc1e3a64"],{"66df":function(t,e,a){"use strict";a.d(e,"l",(function(){return r})),a.d(e,"o",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return d})),a.d(e,"p",(function(){return c})),a.d(e,"i",(function(){return u})),a.d(e,"d",(function(){return l})),a.d(e,"g",(function(){return s})),a.d(e,"r",(function(){return p})),a.d(e,"m",(function(){return b})),a.d(e,"b",(function(){return f})),a.d(e,"f",(function(){return m})),a.d(e,"q",(function(){return g})),a.d(e,"k",(function(){return P})),a.d(e,"j",(function(){return h})),a.d(e,"n",(function(){return D})),a.d(e,"c",(function(){return y})),a.d(e,"s",(function(){return j})),a.d(e,"h",(function(){return O}));var o=a("b775");function r(t){return Object(o["a"])({url:"/capacityScope/selectItemParameterList",method:"get",params:t})}function n(t){return Object(o["a"])({url:"/capacityScope/selectTestObjectList",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/capacityScope/addItemParameter",method:"post",data:t})}function d(t){return Object(o["a"])({url:"/capacityScope/delItemParameter",method:"delete",params:t})}function c(t){return Object(o["a"])({url:"/capacityScope/upItemParameter",method:"post",data:t})}function u(){return Object(o["a"])({url:"/capacityScope/getItemTree",method:"get"})}function l(t){return Object(o["a"])({url:"/capacityScope/addTestObject",method:"post",data:t})}function s(t){return Object(o["a"])({url:"/capacityScope/delTestObject",method:"delete",params:t})}function p(t){return Object(o["a"])({url:"/capacityScope/upTestObject",method:"post",data:t})}function b(t){return Object(o["a"])({url:"/capacityScope/selectProductListByObjectId",method:"get",params:t})}function f(t){return Object(o["a"])({url:"/capacityScope/addProduct",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/capacityScope/delProduct",method:"delete",params:t})}function g(t){return Object(o["a"])({url:"/capacityScope/upProduct",method:"post",data:t})}function P(){return Object(o["a"])({url:"/laboratoryScope/obtainItemParameterList",method:"get"})}function h(){return Object(o["a"])({url:"/StandardTemplate/getStandardTemplate",method:"get"})}function D(t){return Object(o["a"])({url:"/productSupplierDensity/selectSupplierDensityByProductId",method:"get",params:t})}function y(t){return Object(o["a"])({url:"/productSupplierDensity/addProductSupplierDensity",method:"post",data:t})}function j(t){return Object(o["a"])({url:"/productSupplierDensity/updateProductSupplierDensity",method:"post",data:t})}function O(t){return Object(o["a"])({url:"/productSupplierDensity/deleteProductSupplierDensity",method:"delete",params:t})}},eb77:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"零件绑定",visible:t.isShow,width:"800px"},on:{"update:visible":function(e){t.isShow=e},close:function(e){return t.$emit("closeBindPartDialog")}}},[a("lims-table",{attrs:{tableData:t.tableData,column:t.column,height:"460",page:t.page,tableLoading:t.tableLoading}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.$emit("closeBindPartDialog")}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:t.addBindLoad},on:{click:function(e){return t.addBindPart("add")}}},[t._v("新 增")])],1)],1),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.addBindPartDialog,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(e){t.addBindPartDialog=e},close:t.closeBindPartDialog}},[t.addBindPartDialog?a("div",{staticClass:"body"},[a("el-form",{ref:"bindPartData",attrs:{"label-position":"right","label-width":"80px",rules:t.bindPartDataRules,model:t.bindPartData}},[a("el-form-item",{attrs:{label:"零件号：",prop:"partNo"}},[a("el-input",{attrs:{size:"small"},model:{value:t.bindPartData.partNo,callback:function(e){t.$set(t.bindPartData,"partNo",e)},expression:"bindPartData.partNo"}})],1),a("el-form-item",{attrs:{label:"颜色：",prop:"color"}},[a("el-input",{attrs:{size:"small"},model:{value:t.bindPartData.color,callback:function(e){t.$set(t.bindPartData,"color",e)},expression:"bindPartData.color"}})],1),a("el-form-item",{attrs:{label:"色标：",prop:"colorCode"}},[a("el-input",{attrs:{size:"small"},model:{value:t.bindPartData.colorCode,callback:function(e){t.$set(t.bindPartData,"colorCode",e)},expression:"bindPartData.colorCode"}})],1)],1)],1):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeBindPartDialog}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:t.bindLoad},on:{click:t.submitBind}},[t._v("确 认")])],1)])],1)},r=[],n=(a("a9e3"),a("00d5")),i=a("b775");function d(t){return Object(i["a"])({url:"/structureTestObjectPart/selectByTestObjectId",method:"get",params:t})}function c(t){return Object(i["a"])({url:"/structureTestObjectPart/addTestObjectPart",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/structureTestObjectPart/updateTestObjectPart",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/structureTestObjectPart/deleteTestObjectPart",method:"delete",params:t})}function s(t){return Object(i["a"])({url:"/productPart/selectByProductId",method:"get",params:t})}function p(t){return Object(i["a"])({url:"/productPart/addProductPart",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/productPart/updateProductPart",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/productPart/deleteProductPart",method:"delete",params:t})}a("66df");var m={name:"bindPartDialog",components:{limsTable:n["a"]},props:{bindPartDialog:{type:Boolean,default:function(){return!1}},type:{type:Number,default:function(){return null}},currentRow:{type:Object,default:function(){}}},data:function(){var t=this;return{isShow:this.bindPartDialog,dialogTitle:"新增零件绑定",operationType:"",tableData:[],tableLoading:!1,column:[{label:"零件号",prop:"partNo"},{label:"颜色",prop:"color"},{label:"色标",prop:"colorCode"},{dataType:"action",fixed:"right",label:"操作",operation:[{name:"编辑",type:"text",clickFun:function(e){t.addBindPart("edit",e)}},{name:"删除",type:"text",clickFun:function(e){t.delete(e)}}]}],page:{total:0,size:10,current:1,layout:"total, prev, pager, next"},bindPartComponent:{entity:{orderBy:{field:"id",order:"asc"}},isPage:!0,isIndex:!0,showSelect:!1,select:!0,do:[{id:"update",font:"编辑",type:"text",method:"doDiy",field:[]},{id:"delete",font:"删除",type:"text",method:"doDiy"}],tagField:{},selectField:{},requiredAdd:["partNo"],requiredUp:["partNo"]},addBindPartDialog:!1,bindPartData:{partNo:"",color:"",colorCode:""},bindPartDataRules:{partNo:[{required:!0,message:"请填写零件号",trigger:"blur"}]},bindLoad:!1,upIndex:0,addBindLoad:!1}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.tableLoading=!0,0===this.type?d({testObjectId:this.currentRow.id}).then((function(e){t.tableLoading=!1,200===e.code&&(t.tableData=e.data.records,t.page.total=e.data.total)})).catch((function(e){t.tableLoading=!1})):s({productId:this.currentRow.id}).then((function(e){t.tableLoading=!1,200===e.code&&(t.tableData=e.data.records,t.page.total=e.data.total)})).catch((function(e){t.tableLoading=!1}))},addBindPart:function(t,e){this.addBindPartDialog=!0,this.dialogTitle="add"===t?"新增零件绑定":"修改零件绑定",this.operationType=t,"edit"===t&&(this.bindPartData=this.HaveJson(e))},submitBind:function(){var t=this;this.$refs["bindPartData"].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=0===t.type?{testObjectId:t.currentRow.id,color:t.bindPartData.color,colorCode:t.bindPartData.colorCode,partNo:t.bindPartData.partNo}:{productId:t.currentRow.id,color:t.bindPartData.color,colorCode:t.bindPartData.colorCode,partNo:t.bindPartData.partNo};t.bindLoad=!0,"add"===t.operationType?0===t.type?c(a).then((function(e){200===e.code&&(t.resetForm("bindPartData"),t.addBindPartDialog=!1,t.$message.success("新增成功"),t.getList())})).catch((function(e){t.bindLoad=!1,console.log(e)})):p(a).then((function(e){200===e.code&&(t.resetForm("bindPartData"),t.addBindPartDialog=!1,t.$message.success("新增成功"),t.getList())})).catch((function(e){t.bindLoad=!1,console.log(e)})):0===t.type?u(a).then((function(e){200===e.code&&(t.resetForm("bindPartData"),t.addBindPartDialog=!1,t.$message.success("修改成功"),t.getList())})).catch((function(e){t.bindLoad=!1,console.log(e)})):b(a).then((function(e){200===e.code&&(t.resetForm("bindPartData"),t.addBindPartDialog=!1,t.$message.success("修改成功"),t.getList())})).catch((function(e){t.bindLoad=!1,console.log(e)}))}))},delete:function(t){var e=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){0===e.type?l({id:t.id}).then((function(t){200===t.code&&(e.$message.success("删除成功"),e.getList())})):f({id:t.id}).then((function(t){200===t.code&&(e.$message.success("删除成功"),e.getList())}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},closeBindPartDialog:function(){this.resetForm("bindPartData"),this.addBindPartDialog=!1}}},g=m,P=a("2877"),h=Object(P["a"])(g,o,r,!1,null,"4e0a43f3",null);e["default"]=h.exports}}]);