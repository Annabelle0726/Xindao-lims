(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32bac40a"],{"906e":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogVisible,title:"添加检验项",width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-table",{ref:"sampleTable",staticClass:"el-table sampleTable",attrs:{data:e.sampleList,border:"","highlight-current-row":"","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},"max-height":"400px","tooltip-effect":"dark"}},[o("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"65"}}),o("el-table-column",{attrs:{align:"center",label:"样品名称","min-width":"100",prop:"sample"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{clearable:"",disabled:"",size:"small"},model:{value:t.row.sample,callback:function(o){e.$set(t.row,"sample",o)},expression:"scope.row.sample"}})]}}])}),o("el-table-column",{attrs:{align:"center",label:"样品编号","min-width":"100",prop:"sampleCode"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{clearable:"",disabled:"",placeholder:"不填写则系统自动生成",size:"small"},model:{value:t.row.sampleCode,callback:function(o){e.$set(t.row,"sampleCode",o)},expression:"scope.row.sampleCode"}})]}}])}),o("el-table-column",{attrs:{align:"center",label:"样品型号","min-width":"60",prop:"model"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{clearable:"",disabled:"",placeholder:"不填写则系统自动生成",size:"small"},model:{value:t.row.model,callback:function(o){e.$set(t.row,"model",o)},expression:"scope.row.model"}})]}}])}),o("el-table-column",{attrs:{align:"center",label:"检验标准","min-width":"100",prop:"standardMethodName"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{clearable:"",disabled:"",placeholder:"不填写则系统自动生成",size:"small"},model:{value:t.row.standardMethodName,callback:function(o){e.$set(t.row,"standardMethodName",o)},expression:"scope.row.standardMethodName"}})]}}])}),o("el-table-column",{attrs:{label:"操作","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.openAddItemDia(a)}}},[e._v("添加")])]}}])})],1)],1),o("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.itemDialogVisible,title:"添加检验项",width:"90%"},on:{"update:visible":function(t){e.itemDialogVisible=t}}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.getProductLoad,expression:"getProductLoad"}],ref:"productTable",staticClass:"el-table",attrs:{data:e.productList,"row-class-name":e.tableRowClassName,border:"","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},"max-height":"580px","tooltip-effect":"dark"},on:{"selection-change":e.selectProduct}},[o("el-table-column",{attrs:{type:"selection",width:"65"}}),o("el-table-column",{attrs:{label:"检验项分类","min-width":"140",prop:"inspectionItemClass","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"检验项","min-width":"140",prop:"inspectionItem","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"检验项子项","min-width":"140",prop:"inspectionItemSubclass","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"要求值","min-width":"220px",prop:"ask"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.active&&"5"!=t.row.inspectionValueType?o("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求值",size:"small",type:"textarea"},model:{value:t.row.ask,callback:function(o){e.$set(t.row,"ask",o)},expression:"scope.row.ask"}}):o("span",[[e._v(e._s(t.row.ask))]],2)]}}])}),o("el-table-column",{attrs:{label:"要求描述","min-width":"220px",prop:"tell"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.active?o("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:t.row.tell,callback:function(o){e.$set(t.row,"tell",o)},expression:"scope.row.tell"}}):o("span",[[e._v(e._s(t.row.tell))]],2)]}}])}),o("el-table-column",{attrs:{label:"条件","min-width":"140",prop:"radius","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=e.active||t.row.inspectionItem.includes("高温压力试验")?t.row.inspectionItem.includes("高温压力试验")&&1==e.active?o("el-select",{attrs:{clearable:"",placeholder:"条件",size:"small"},model:{value:t.row.radius,callback:function(o){e.$set(t.row,"radius",o)},expression:"scope.row.radius"}},e._l(JSON.parse(t.row.radiusList),(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1):o("span",[e._v(e._s(t.row.radius))]):o("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"条件",size:"small",type:"textarea"},model:{value:t.row.radius,callback:function(o){e.$set(t.row,"radius",o)},expression:"scope.row.radius"}})]}}])}),o("el-table-column",{attrs:{label:"线芯","min-width":"120",prop:"cableTag","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.active?o("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"线芯",size:"small",type:"textarea"},model:{value:t.row.cableTag,callback:function(o){e.$set(t.row,"cableTag",o)},expression:"scope.row.cableTag"}}):e._e()]}}])}),o("el-table-column",{attrs:{label:"试验方法","min-width":"120",prop:"methodS","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"计量单位",prop:"unit","show-overflow-tooltip":"",width:"100"}}),o("el-table-column",{attrs:{label:"单价",prop:"price","show-overflow-tooltip":"",width:"100"}}),o("el-table-column",{attrs:{label:"区间","min-width":"120",prop:"section","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{"filter-method":e.filterHandler,filters:e.filters,label:"子实验室","min-width":"130",prop:"sonLaboratory","show-overflow-tooltip":""}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.itemDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{loading:e.upLoad,type:"primary"},on:{click:e.submitList}},[e._v("确 定")])],1)],1)],1)},l=[],r=(o("c740"),o("d3b7"),o("0643"),o("4e3e"),o("159b"),o("a8f1")),n={name:"addInspectionDia",components:{},data:function(){return{dialogVisible:!1,itemDialogVisible:!1,getProductLoad:!1,sampleList:[],productList:[],productListSelected:[],active:1,methodS:null,id:null,filters:[],upLoad:!1}},mounted:function(){},methods:{getDataList:function(e){var t=this;this.dialogVisible=!0,Object(r["e"])({insOrderId:e.id}).then((function(e){t.sampleList=e.data}))},openAddItemDia:function(e){var t=this;this.itemDialogVisible=!0,this.getProductLoad=!0,this.id=e.id,Object(r["d"])({insSampleId:e.id}).then((function(e){t.getProductLoad=!1,t.productList=e.data})).catch((function(e){t.getProductLoad=!1}))},selectProduct:function(e){e.forEach((function(e){e.state=1}));var t=this.productList.findIndex((function(t){return t.id===e.id}));t>-1&&(this.productList[t].state=1),this.productListSelected=e},submitList:function(){var e=this;this.$confirm("确认添加此检验项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.upLoad=!0,Object(r["a"])({insProductBindingList:e.productListSelected,insSampleId:e.id}).then((function(t){e.upLoad=!1,e.$message.success("添加成功！"),e.itemDialogVisible=!1})).catch((function(t){e.upLoad=!1}))})).catch((function(){e.$message({type:"info",message:"已取消添加"})}))},tableRowClassName:function(e){var t=e.row;e.rowIndex;return 0===t.state?"":"warning-row"},filterHandler:function(e,t,o){var a=o["property"];return t[a]===e}}},i=n,s=(o("b73e"),o("2877")),c=Object(s["a"])(i,a,l,!1,null,"0f7e2f6f",null);t["default"]=c.exports},a8f1:function(e,t,o){"use strict";o.d(t,"h",(function(){return l})),o.d(t,"n",(function(){return r})),o.d(t,"g",(function(){return n})),o.d(t,"m",(function(){return i})),o.d(t,"b",(function(){return s})),o.d(t,"j",(function(){return c})),o.d(t,"l",(function(){return d})),o.d(t,"k",(function(){return u})),o.d(t,"p",(function(){return p})),o.d(t,"c",(function(){return m})),o.d(t,"i",(function(){return f})),o.d(t,"f",(function(){return b})),o.d(t,"e",(function(){return w})),o.d(t,"d",(function(){return h})),o.d(t,"a",(function(){return g})),o.d(t,"o",(function(){return v}));var a=o("b775");function l(e){return Object(a["a"])({url:"/insOrder/selectInsOrderParameter",method:"get",params:e})}function r(e){return Object(a["a"])({url:"/insOrder/updateOrderEntrustCode",method:"post",data:e})}function n(e){return Object(a["a"])({url:"/insOrder/rawAllInsOrderExport",method:"get",params:e,responseType:"blob"})}function i(e){return Object(a["a"])({url:"/insOrder/updateInspected",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/insOrder/checkUpdate",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/insOrder/selectOrderManDay",method:"get",params:e})}function d(e){return Object(a["a"])({url:"/insOrderPlan/upPlanUser2",method:"get",params:e})}function u(e){return Object(a["a"])({url:"/insOrder/upInsOrder",method:"post",params:e})}function p(e){return Object(a["a"])({url:"/insOrder/updateStatus",method:"post",data:e})}function m(e){return Object(a["a"])({url:"/insOrder/delInsOrder",method:"delete",params:e})}function f(e){return Object(a["a"])({url:"/insOrder/selectNoProducts",method:"get",params:e})}function b(e){return Object(a["a"])({url:"/insOrder/labelOrderPrinting",method:"post",data:e})}function w(e){return Object(a["a"])({url:"/insOrder/getSampleByOrderId",method:"get",params:e})}function h(e){return Object(a["a"])({url:"/insOrder/getProductTreeBySampleId",method:"get",params:e})}function g(e){return Object(a["a"])({url:"/insOrder/addOmitOrderProduct",method:"post",data:e})}function v(e){return Object(a["a"])({url:"/insOrder/updateSampleModel",method:"post",data:e})}},b73e:function(e,t,o){"use strict";o("eb8c")},eb8c:function(e,t,o){}}]);