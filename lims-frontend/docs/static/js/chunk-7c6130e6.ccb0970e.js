(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c6130e6"],{1655:function(e,t,a){},1839:function(e,t,a){"use strict";a.d(t,"x",(function(){return r})),a.d(t,"n",(function(){return i})),a.d(t,"A",(function(){return o})),a.d(t,"z",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"i",(function(){return u})),a.d(t,"l",(function(){return c})),a.d(t,"u",(function(){return d})),a.d(t,"p",(function(){return m})),a.d(t,"y",(function(){return f})),a.d(t,"e",(function(){return p})),a.d(t,"m",(function(){return b})),a.d(t,"q",(function(){return h})),a.d(t,"t",(function(){return g})),a.d(t,"a",(function(){return v})),a.d(t,"h",(function(){return y})),a.d(t,"s",(function(){return w})),a.d(t,"g",(function(){return D})),a.d(t,"o",(function(){return O})),a.d(t,"v",(function(){return x})),a.d(t,"b",(function(){return L})),a.d(t,"w",(function(){return k})),a.d(t,"c",(function(){return j})),a.d(t,"k",(function(){return S})),a.d(t,"j",(function(){return C})),a.d(t,"r",(function(){return I})),a.d(t,"f",(function(){return P}));var n=a("b775");function r(e){return Object(n["a"])({url:"/fePowerStable/getLaboratoryFacilityPowerStablePage",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/deviceScope/search",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/deviceScope/treeDevice",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/fePowerStable/addLaboratoryFacilityPowerStable",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/fePowerStable/deleteFeMeasuredQuantity",method:"delete",params:e})}function c(e){return Object(n["a"])({url:"/fePowerStable/deleteLaboratoryFacilityPowerStable",method:"delete",params:e})}function d(e){return Object(n["a"])({url:"/fePowerStable/getFeMeasuredQuantityService",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/fePowerStable/exportFePowerStable",method:"get",responseType:"blob",params:e})}function f(e){return Object(n["a"])({url:"/feLightningProtection/getLightningProtectionDetection",method:"get",params:e})}function p(e){return Object(n["a"])({url:"/feLightningProtection/addLightningProtectionDetection",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function b(e){return Object(n["a"])({url:"/feLightningProtection/deleteLightningProtectionDetection",method:"delete",params:e})}function h(e){return Object(n["a"])({url:"/feLightningProtection/exportOfLightningProtectionDetection",method:"get",responseType:"blob",params:e})}function g(e){return Object(n["a"])({url:"/feIllumination/getFeLightningProtection",method:"get",params:e})}function v(e){return Object(n["a"])({url:"/feIllumination/addFeLightningProtection",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/feIllumination/deleteFeLightningProtection",method:"delete",params:e})}function w(e){return Object(n["a"])({url:"/feIllumination/getFeIlluminationDetectionArea",method:"get",params:e})}function D(e){return Object(n["a"])({url:"/feIllumination/deleteFeIlluminationDetectionArea",method:"delete",params:e})}function O(e){return Object(n["a"])({url:"/feIllumination/exportFeIllumination",method:"get",responseType:"blob",params:e})}function x(e){return Object(n["a"])({url:"/feTempHumDate/getFeTempHumDate",method:"get",params:e})}function L(e){return Object(n["a"])({url:"/feTempHumDate/addFeTempHumDate",method:"post",data:e})}function k(e){return Object(n["a"])({url:"/feTempHumDate/getFeTempHumRecordPage",method:"get",params:e})}function j(e){return Object(n["a"])({url:"/feTempHumDate/addFeTempHumRecord",method:"post",data:e})}function S(e){return Object(n["a"])({url:"/feTempHumDate/deleteFeTempHumRecord",method:"delete",params:e})}function C(e){return Object(n["a"])({url:"/feTempHumDate/deleteFeTempHumDate",method:"delete",params:e})}function I(e){return Object(n["a"])({url:"/feTempHumDate/exportTemperatureAndHumidityRecords",method:"get",responseType:"blob",params:e})}function P(e){return Object(n["a"])({url:"/feTempHumDate/affirmFeTempHumDate",method:"post",data:e})}},"79f6":function(e,t,a){"use strict";a("1655")},a193:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"header"},[a("div",[e._v("电源稳定性")]),a("div",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.openAddDia}},[e._v("新 增")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"calc(100vh - 18em)","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.search.current-1)*e.search.size+t.$index+1))])]}}])}),a("el-table-column",{attrs:{label:"测试地点","min-width":"180",prop:"testLocation"}}),a("el-table-column",{attrs:{label:"测试日期","min-width":"180",prop:"testDate",width:"testDate"}}),a("el-table-column",{attrs:{label:"结论","min-width":"180",prop:"conclusion"}}),a("el-table-column",{attrs:{label:"检测者","min-width":"180",prop:"testerUser"}}),a("el-table-column",{attrs:{label:"核查人","min-width":"180",prop:"checkerUser"}}),a("el-table-column",{attrs:{label:"设备名称","min-width":"180",prop:"deviceName"}}),a("el-table-column",{attrs:{label:"设备编号","min-width":"180",prop:"managementNumber"}}),a("el-table-column",{attrs:{label:"校准日期","min-width":"180",prop:"lastCalibrationDate"}}),a("el-table-column",{attrs:{label:"下次校准日期","min-width":"180",prop:"nextCalibrationDate"}}),a("el-table-column",{attrs:{label:"创建时间","min-width":"180",prop:"createTime"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.downLoadPost(t.row)}}},[e._v("导出")]),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.deleteRowFun(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":1,"page-size":e.search.size,"page-sizes":[10,20,30,50,100],total:e.search.total,background:"",layout:"->,total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"新增",width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openDialog}},[a("div",{staticStyle:{height:"50vh","overflow-y":"auto"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{rules:[{required:!0,message:"请输入测试地点",trigger:"blur"}],label:"测试地点",prop:"testLocation"}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.testLocation,callback:function(t){e.$set(e.form,"testLocation",t)},expression:"form.testLocation"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{rules:[{required:!0,message:"请输入测试日期",trigger:"change"}],label:"测试日期",prop:"testDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd",placeholder:"选择日期",size:"small",type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.testDate,callback:function(t){e.$set(e.form,"testDate",t)},expression:"form.testDate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{rules:[{required:!0,message:"请输入设备名称",trigger:"change"}],label:"设备名称",prop:"deviceId"}},[a("el-select",{staticClass:"table_input",attrs:{clearable:"",filterable:"",placeholder:"设备名称",size:"small"},on:{change:e.getCalibrationDateFun},model:{value:e.form.deviceId,callback:function(t){e.$set(e.form,"deviceId",t)},expression:"form.deviceId"}},e._l(e.equipOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.deviceName,value:t.id}},[e._v(" "+e._s(t.deviceName+t.managementNumber)+" ")])})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"设备编号"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.form.managementNumber,callback:function(t){e.$set(e.form,"managementNumber",t)},expression:"form.managementNumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"最近校准日期"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.form.lastCalibrationDate,callback:function(t){e.$set(e.form,"lastCalibrationDate",t)},expression:"form.lastCalibrationDate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下次校准日期"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.form.nextCalibrationDate,callback:function(t){e.$set(e.form,"nextCalibrationDate",t)},expression:"form.nextCalibrationDate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"检测者",prop:"recipientUser"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",size:"small"},model:{value:e.form.testerId,callback:function(t){e.$set(e.form,"testerId",t)},expression:"form.testerId"}},e._l(e.responsibleOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"核查人",prop:"recipientUser"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",size:"small"},model:{value:e.form.checkerId,callback:function(t){e.$set(e.form,"checkerId",t)},expression:"form.checkerId"}},e._l(e.responsibleOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"结论"}},[a("el-input",{attrs:{rows:2,placeholder:"请输入内容",type:"textarea"},model:{value:e.form.conclusion,callback:function(t){e.$set(e.form,"conclusion",t)},expression:"form.conclusion"}})],1)],1)],1),a("div",[a("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-bottom":"0.5em"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.feMeasuredQuantityListAdd}},[e._v("新增")])],1),a("div",[a("el-table",{staticStyle:{width:"100%",margin:"auto"},attrs:{data:e.form.feMeasuredQuantityList,height:"40vh","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"80"}}),a("el-table-column",{attrs:{align:"center",label:"测定量名称","min-width":"180",prop:"measuredQuantityLabel"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-input",{attrs:{rows:1,type:"textarea"},model:{value:n.measuredQuantityLabel,callback:function(t){e.$set(n,"measuredQuantityLabel",t)},expression:"row.measuredQuantityLabel"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"值","min-width":"300",prop:"name"}},[[a("el-table-column",{attrs:{align:"center",label:"A","min-width":"100",prop:"valueA"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-input",{attrs:{rows:1},model:{value:n.valueA,callback:function(t){e.$set(n,"valueA",t)},expression:"row.valueA"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"B","min-width":"100",prop:"valueB"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-input",{attrs:{rows:1},model:{value:n.valueB,callback:function(t){e.$set(n,"valueB",t)},expression:"row.valueB"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"C","min-width":"100",prop:"valueC"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-input",{attrs:{rows:1},model:{value:n.valueC,callback:function(t){e.$set(n,"valueC",t)},expression:"row.valueC"}})]}}])})]],2),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.feMeasuredQuantityListDelete(t.row,t.$index)}}},[e._v(" 删除 ")])]}}])})],1)],1)])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.addPowerSupplyStability}},[e._v("确 定")])],1)])],1)},r=[],i=a("5530"),o=(a("c740"),a("14d9"),a("a434"),a("b0c0"),a("d3b7"),a("ac1f"),a("841c"),a("0643"),a("4e3e"),a("159b"),a("1839")),l={data:function(){return{search:{size:10,current:1,total:0},tableData:[],dialogVisible:!1,submitLoading:!1,form:{testLocation:"",testDate:"",deviceId:"",managementNumber:"",lastCalibrationDate:"",nextCalibrationDate:"",testerId:"",checkerId:"",conclusion:"",feMeasuredQuantityList:[]},equipOptions:[],cascaderList:[],responsibleOptions:[]}},mounted:function(){this.initData()},watch:{dialogVisible:function(e){e||(this.form={deviceId:null,feMeasuredQuantityList:[]})}},methods:{initData:function(){var e=this;Object(o["x"])(Object(i["a"])({},this.search)).then((function(t){200===t.code&&(e.tableData=t.data.records,e.search.total=t.data.total)}))},handleSizeChange:function(e){this.search.size=e,this.initData()},handleCurrentChange:function(e){this.search.current=e,this.initData()},deleteRowFun:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["l"])({powerStableId:e.powerStableId}).then((function(e){t.$message.success("删除成功！"),t.initData()}))}))},openAddDia:function(){this.dialogVisible=!0,this.getEquipOptions()},getEquipOptions:function(){var e=this;this.equipOptions=[],Object(o["n"])({status:"0"}).then((function(t){200===t.code&&t.data&&(e.equipOptions=t.data)})).catch((function(e){console.error(e)}))},openDialog:function(){var e=this;Object(o["A"])().then((function(t){e.cascaderList=t.data})),this.$nextTick((function(){e.$refs["form"].clearValidate()})),this.getUserList()},getCalibrationDateFun:function(e){var t=this.equipOptions.findIndex((function(t){return t.id===e}));t>-1&&(this.form.managementNumber=this.equipOptions[t].managementNumber,this.form.lastCalibrationDate=this.equipOptions[t].lastCalibrationDate,this.form.nextCalibrationDate=this.equipOptions[t].nextCalibrationDate)},feMeasuredQuantityListDelete:function(e,t){var a=this;e.measuredQuantityId?Object(o["i"])({measuredQuantityId:e.measuredQuantityId}).then((function(e){a.form.feMeasuredQuantityList.splice(t,1),a.$message.success("删除成功！")})):(this.form.feMeasuredQuantityList.splice(t,1),this.$message.success("删除成功！"))},feMeasuredQuantityListAdd:function(){var e={measuredQuantityLabel:null,valueA:null,valueB:null,valueC:null};this.form.feMeasuredQuantityList.push(e)},addPowerSupplyStability:function(){var e=this;this.submitLoading=!0,this.$refs.form.validate((function(t){t&&Object(o["d"])(e.form).then((function(t){e.submitLoading=!1,200===t.code&&(e.initData(),e.dialogVisible=!1)})).catch((function(t){e.submitLoading=!1}))}))},downLoadPost:function(e){var t=this;Object(o["p"])({powerStableId:e.powerStableId}).then((function(e){t.outLoading=!1;var a=new Blob([e],{type:"application/msword"});t.$download.saveAs(a,"电源稳定性.docx")}))},edit:function(e){var t=this;Object(o["u"])({powerStableId:e.powerStableId}).then((function(a){t.form=Object(i["a"])({},e),t.form.feMeasuredQuantityList=a.data,t.dialogVisible=!0}))},getUserList:function(){var e=this;Object(o["z"])().then((function(t){if(200==t.code){var a=[];t.data.forEach((function(e){a.push({id:e.id,name:e.name})})),e.responsibleOptions=a}}))}}},s=l,u=(a("79f6"),a("2877")),c=Object(u["a"])(s,n,r,!1,null,"123364f1",null);t["default"]=c.exports}}]);