(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9de7b770","chunk-1aefab62","chunk-7491d929"],{2381:function(e,t,a){"use strict";a.d(t,"n",(function(){return n})),a.d(t,"l",(function(){return l})),a.d(t,"k",(function(){return i})),a.d(t,"m",(function(){return o})),a.d(t,"q",(function(){return s})),a.d(t,"D",(function(){return c})),a.d(t,"o",(function(){return d})),a.d(t,"r",(function(){return u})),a.d(t,"G",(function(){return p})),a.d(t,"h",(function(){return b})),a.d(t,"B",(function(){return f})),a.d(t,"A",(function(){return m})),a.d(t,"e",(function(){return h})),a.d(t,"a",(function(){return g})),a.d(t,"E",(function(){return O})),a.d(t,"H",(function(){return y})),a.d(t,"b",(function(){return D})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return j})),a.d(t,"F",(function(){return x})),a.d(t,"z",(function(){return w})),a.d(t,"f",(function(){return k})),a.d(t,"w",(function(){return I})),a.d(t,"u",(function(){return T})),a.d(t,"x",(function(){return L})),a.d(t,"v",(function(){return N})),a.d(t,"t",(function(){return _})),a.d(t,"I",(function(){return S})),a.d(t,"s",(function(){return M})),a.d(t,"C",(function(){return V})),a.d(t,"p",(function(){return C})),a.d(t,"j",(function(){return B})),a.d(t,"i",(function(){return R})),a.d(t,"g",(function(){return $})),a.d(t,"y",(function(){return z}));var r=a("b775");function n(e){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByStateOne",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByOver",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByAll",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByQuarter",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/system/newUser/getUserNow",method:"get"})}function c(e){return Object(r["a"])({url:"/standardTree/selectStandardMethodEnum",method:"get"})}function d(e){return Object(r["a"])({url:"/insOrder/getInsOrder",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/rawMaterialOrder/notificationRawOrder",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/rawMaterialOrder/selectStandardTreeListByPartNo",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/rawMaterialOrder/delRawMaterOrderTemplate",method:"delete",params:e})}function f(e){return Object(r["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplateById",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplate",method:"get",params:e})}function h(e){return Object(r["a"])({url:"/rawMaterialOrder/addRawMaterOrderTemplate",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/rawMaterialOrder/addExemptionOrder",method:"post",data:e})}function O(e){return Object(r["a"])({url:"/standardTree/selectStandardProductList",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/standardTree/selectsStandardMethodByFLSSM",method:"get",params:e})}function D(e){return Object(r["a"])({url:"/insOrder/addInsOrder",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/rawMaterialOrder/addRawCopperOrder",method:"post",data:e})}function j(e){return Object(r["a"])({url:"/rawMaterialOrder/addRawCopperOrderExemptionOrder",method:"post",data:e})}function x(){return Object(r["a"])({url:"/standardTree/selectStandardTreeList2",method:"get"})}function w(e){return Object(r["a"])({url:"/insOrder/selectInsOrderTemplate",method:"get",params:e})}function k(e){return Object(r["a"])({url:"/rawMaterialOrder/concessionRelease",method:"post",data:e})}function I(e){return Object(r["a"])({url:"/rawMaterialOrder/repealQuarterRawOrder",method:"post",data:e})}function T(e){return Object(r["a"])({url:"/rawMaterialOrder/rawOrderRelease",method:"post",data:e})}function L(e){return Object(r["a"])({url:"/rawMaterialOrder/revokeInspectionReport",method:"post",data:e})}function N(e){return Object(r["a"])({url:"/rawMaterialOrder/repealEnterRawOrder",method:"post",data:e})}function _(e){return Object(r["a"])({url:"/rawMaterialOrder/rawAllExport",method:"get",data:e,responseType:"blob"})}function S(e){return Object(r["a"])({url:"/insOrder/updateEntrustCode",method:"post",data:e})}function M(e){return Object(r["a"])({url:"/rawMaterialOrder/printLabel",method:"post",data:e})}function V(e){return Object(r["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:e})}function C(e){return Object(r["a"])({url:"/insOrder/getRetestResult",method:"get",params:e})}function B(e){return Object(r["a"])({url:"/insOrderPlan/getFileList",method:"get",params:e})}function R(e){return Object(r["a"])({url:"/insOrderPlan/downFile",method:"get",params:e})}function $(e){return Object(r["a"])({url:"/insOrderPlan/delfile",method:"delete",params:e})}function z(e){return Object(r["a"])({url:"/insOrderPlan/saveUnqualifiedContext",method:"post",data:e})}},"2b67":function(e,t,a){},"49ef":function(e,t,a){},"4faa":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"search"},[a("el-form",{ref:"componentData",attrs:{model:e.componentData,size:"small",inline:!0}},[a("el-row",[a("el-form-item",{attrs:{label:"批号",prop:"updateBatchNo"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable(t)}},model:{value:e.componentData.updateBatchNo,callback:function(t){e.$set(e.componentData,"updateBatchNo",t)},expression:"componentData.updateBatchNo"}})],1),a("el-form-item",{attrs:{label:"零件号",prop:"partNo"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable(t)}},model:{value:e.componentData.partNo,callback:function(t){e.$set(e.componentData,"partNo",t)},expression:"componentData.partNo"}})],1),a("el-form-item",{attrs:{label:"零件描述",prop:"partDesc"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable(t)}},model:{value:e.componentData.partDesc,callback:function(t){e.$set(e.componentData,"partDesc",t)},expression:"componentData.partDesc"}})],1),3===e.tabIndex||4===e.tabIndex?a("el-form-item",{attrs:{label:"供应商",prop:"supplierName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable(t)}},model:{value:e.componentData.supplierName,callback:function(t){e.$set(e.componentData,"supplierName",t)},expression:"componentData.supplierName"}})],1):e._e(),a("el-form-item",[3===e.tabIndex||4===e.tabIndex?a("el-button",{staticStyle:{color:"#3A7BFA"},attrs:{icon:e.more?"el-icon-arrow-up":"el-icon-arrow-down",type:"text"},on:{click:function(t){e.more=!e.more}}},[e._v(e._s(e.more?"收起":"更多"))]):e._e(),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.refreshTable()}}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.refresh()}}},[e._v("重置")])],1)],1),a("el-row",[3!==e.tabIndex&&4!==e.tabIndex||!e.more?e._e():a("el-form-item",{attrs:{label:"检验状态",prop:"inspectStatus"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"small"},on:{change:function(t){return e.refreshTable()}},model:{value:e.componentData.inspectStatus,callback:function(t){e.$set(e.componentData,"inspectStatus",t)},expression:"componentData.inspectStatus"}},e._l(e.queryStatusList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),3!==e.tabIndex&&4!==e.tabIndex||!e.more?e._e():a("el-form-item",{attrs:{label:"下发时间",prop:"date"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"end-placeholder":"结束日期",format:"yyyy-MM-dd",placeholder:"选择日期","range-separator":"至",size:"small","start-placeholder":"开始日期",type:"daterange","value-format":"yyyy-MM-dd"},on:{change:function(t){return e.refreshTable()}},model:{value:e.componentData.date,callback:function(t){e.$set(e.componentData,"date",t)},expression:"componentData.date"}})],1),3!==e.tabIndex&&4!==e.tabIndex||!e.more?e._e():a("el-form-item",{attrs:{label:"委托编号",prop:"entrustCode"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable(t)}},model:{value:e.componentData.entrustCode,callback:function(t){e.$set(e.componentData,"entrustCode",t)},expression:"componentData.entrustCode"}})],1)],1)],1)],1),a("div",{staticClass:"table"},[a("div",{staticClass:"table-tab"},[a("div",[a("ul",{staticClass:"tab"},[a("li",{class:{active:0===e.tabIndex},on:{click:function(t){return e.handleTab(0)}}},[e._v("待报检")]),a("li",{class:{active:1===e.tabIndex},on:{click:function(t){return e.handleTab(1)}}},[e._v("待下单")]),a("li",{class:{active:3===e.tabIndex},on:{click:function(t){return e.handleTab(3)}}},[e._v("已完成")]),e.checkPermi(["get:Ifs:ByAll"])?a("li",{class:{active:4===e.tabIndex},on:{click:function(t){return e.handleTab(4)}}},[e._v("全部")]):e._e()])]),a("div",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:4===e.tabIndex,expression:"tabIndex === 4"}],attrs:{loading:e.outLoading,size:"small",type:"primary"},on:{click:e.handleDown}},[e._v("导出")]),0===e.tabIndex?a("el-button",{attrs:{loading:e.btnLoading,size:"small",type:"primary"},on:{click:e.openIFS}},[e._v("获取IFS订单")]):e._e(),0===e.tabIndex?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.declareS}},[e._v("报检")]):e._e(),0===e.tabIndex?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addDeclare}},[e._v("新增报检信息")]):e._e()],1)]),a("div",{staticClass:"table"},[0===e.tabIndex||1===e.tabIndex?a("lims-table",{attrs:{tableData:e.tableData,column:e.column,isSelection:!0,handleSelectionChange:e.selectMethod,height:"calc(100vh - 290px)",page:e.page,tableLoading:e.tableLoading},on:{pagination:e.pagination}}):e._e()],1),a("div",{staticClass:"table"},[3===e.tabIndex||4===e.tabIndex?a("lims-table",{attrs:{tableData:e.tableData1,column:e.column1,height:"calc(100vh - 290px)",page:e.page1,tableLoading:e.tableLoading1},on:{pagination:e.pagination1}}):e._e()],1)]),a("el-dialog",{attrs:{visible:e.declareDialogSVisible,title:"确认报检",width:"30%"},on:{"update:visible":function(t){e.declareDialogSVisible=t}}},[a("p",{staticStyle:{"font-size":"16px",color:"#333333"}},[e._v("是否确认报检选择的数据？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:function(t){e.declareDialogSVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{loading:e.submitDeclareLoading,type:"primary"},on:{click:e.submitDeclareS}},[e._v("确 定")])],1)],1)]),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"add"===e.declareType?"新增报检信息":"原材料报检",visible:e.declareDialogVisible,width:"800px"},on:{"update:visible":function(t){e.declareDialogVisible=t},close:e.resetFormData}},[a("el-form",{ref:"declareObj",attrs:{inline:!0,model:e.declareObj,rules:e.declareObjRules,"label-width":"130px","label-position":"right"}},[a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"订单号:",prop:"orderNo"}},[a("el-input",{staticClass:"addObj-info",attrs:{disabled:"add"!==e.declareType,clearable:"",placeholder:"",size:"small"},model:{value:e.declareObj.orderNo,callback:function(t){e.$set(e.declareObj,"orderNo",t)},expression:"declareObj.orderNo"}})],1),a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"零件号:",prop:"partNo"}},[a("el-input",{staticClass:"addObj-info",attrs:{disabled:"add"!==e.declareType,clearable:"",placeholder:"",size:"small"},model:{value:e.declareObj.partNo,callback:function(t){e.$set(e.declareObj,"partNo",t)},expression:"declareObj.partNo"}})],1),a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"零件描述:",prop:"partDesc"}},[a("el-input",{staticClass:"addObj-info",attrs:{disabled:"add"!==e.declareType,clearable:"",placeholder:"",size:"small"},model:{value:e.declareObj.partDesc,callback:function(t){e.$set(e.declareObj,"partDesc",t)},expression:"declareObj.partDesc"}})],1),a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"抵达的采购数量:",prop:"qtyArrived"}},[a("el-input",{staticClass:"addObj-info",attrs:{disabled:"add"!==e.declareType,clearable:"",placeholder:"",size:"small"},model:{value:e.declareObj.qtyArrived,callback:function(t){e.$set(e.declareObj,"qtyArrived",t)},expression:"declareObj.qtyArrived"}})],1),"add"!==e.declareType?a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"供应商编号:",prop:"supplierId"}},[a("el-input",{staticClass:"addObj-info",attrs:{disabled:"add"!==e.declareType,clearable:"",placeholder:"",size:"small"},model:{value:e.declareObj.supplierId,callback:function(t){e.$set(e.declareObj,"supplierId",t)},expression:"declareObj.supplierId"}})],1):e._e(),a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"供应商名称:",prop:"supplierName"}},[a("el-input",{staticClass:"addObj-info",attrs:{disabled:"add"!==e.declareType,clearable:"",placeholder:"",size:"small"},model:{value:e.declareObj.supplierName,callback:function(t){e.$set(e.declareObj,"supplierName",t)},expression:"declareObj.supplierName"}})],1),a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"批号:",prop:"updateBatchNo"}},[a("el-input",{staticClass:"addObj-info",attrs:{clearable:"",size:"small"},model:{value:e.declareObj.updateBatchNo,callback:function(t){e.$set(e.declareObj,"updateBatchNo",t)},expression:"declareObj.updateBatchNo"}})],1),"add"!==e.declareType?a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"库位号:",prop:"locationNo"}},[a("el-input",{staticClass:"addObj-info",attrs:{disabled:"add"!==e.declareType,clearable:"",size:"small"},model:{value:e.declareObj.locationNo,callback:function(t){e.$set(e.declareObj,"locationNo",t)},expression:"declareObj.locationNo"}})],1):e._e(),"add"!==e.declareType?a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"接收时间:",prop:"receiverDate"}},[a("el-input",{staticClass:"addObj-info",attrs:{clearable:"",disabled:"",size:"small"},model:{value:e.declareObj.receiverDate,callback:function(t){e.$set(e.declareObj,"receiverDate",t)},expression:"declareObj.receiverDate"}})],1):e._e(),a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"单位:",prop:"buyUnitMeas"}},[a("el-input",{staticClass:"addObj-info",attrs:{disabled:"add"!==e.declareType,clearable:"",size:"small"},model:{value:e.declareObj.buyUnitMeas,callback:function(t){e.$set(e.declareObj,"buyUnitMeas",t)},expression:"declareObj.buyUnitMeas"}})],1),a("el-form-item",{staticClass:"declareObj-form-item",attrs:{label:"物料类型：",prop:"isExpire"}},[a("el-select",{attrs:{prop:"isExpire",disabled:"add"!==e.declareType,clearable:"",size:"small"},model:{value:e.declareObj.isExpire,callback:function(t){e.$set(e.declareObj,"isExpire",t)},expression:"declareObj.isExpire"}},[a("el-option",{attrs:{value:1,label:"过期物料"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:e.resetFormData}},[e._v("取 消")]),a("el-button",{attrs:{loading:e.submitDeclareLoading,type:"primary"},on:{click:e.submitDeclare}},[e._v("确 定")])],1)],1)],1),a("el-dialog",{attrs:{visible:e.deleteVisible,title:"确认删除",width:"30%"},on:{"update:visible":function(t){e.deleteVisible=t}}},[a("p",{staticStyle:{"font-size":"16px",color:"#333333"}},[e._v("是否确认删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:function(t){e.deleteVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{loading:e.deleteLoading,type:"primary"},on:{click:e.submitDelete}},[e._v("确 定")])],1)],1)]),a("el-dialog",{attrs:{visible:e.declareDialogVisible1,title:"报检撤销",width:"30%"},on:{"update:visible":function(t){e.declareDialogVisible1=t}}},[a("p",{staticStyle:{"font-size":"16px",color:"#333333"}},[e._v("批号"),a("span",{staticStyle:{color:"#34BD66"}},[e._v(e._s(e.insOrderRow.updateBatchNo))]),e._v("的信息是否"),a("span",{staticStyle:{color:"#FF4902"}},[e._v("撤销报检")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-row",[a("el-button",{on:{click:function(t){e.declareDialogVisible1=!1}}},[e._v("取 消")]),a("el-button",{attrs:{loading:e.upLoad,type:"primary"},on:{click:e.submitDeclare1}},[e._v("确 定")])],1)],1)]),e.dataDialogVisible?a("data-look-visible",{ref:"dataDialogVisible",attrs:{dataDialogVisible:e.dataDialogVisible,dataLookInfo:e.dataLookInfo},on:{closeDataLook:e.closeDataLook}}):e._e()],1)},n=[],l=a("5530"),i=(a("14d9"),a("d3b7"),a("0643"),a("4e3e"),a("159b"),a("5949")),o=a("f0bc"),s=a("00d5"),c={name:"RawMaterialInspection",components:{limsTable:s["a"],DataLookVisible:i["default"]},data:function(){var e=this;return{tableData:[],tableLoading:!1,column:[{dataType:"tag",label:"检验状态",prop:"inspectStatus",formatData:function(e){return 0==e?"检验中":1==e?"合格":2==e?"不合格":3==e?"未下单":4==e?"让步放行":null},formatType:function(e){return 0==e?"warning":1==e?"success":2==e?"danger":3==e?"info":4==e?"":null}},{label:"订单号",prop:"orderNo"},{label:"抵达的采购数量",prop:"qtyArrived",width:"140px"},{label:"批号",prop:"updateBatchNo"},{label:"零件号",prop:"partNo"},{label:"零件描述",prop:"partDesc"},{label:"供应商名称",prop:"supplierName"},{dataType:"tag",label:"物料类型",prop:"isExpire",formatData:function(e){return 1==e?"过期物料":null},formatType:function(e){return 1==e?"info":null}},{label:"单位",prop:"buyUnitMeas"},{label:"接收时间",prop:"receiverDate"},{label:"报检时间",prop:"declareDate"},{dataType:"action",fixed:"right",label:"操作",operation:[{name:"报检",type:"text",clickFun:function(t){e.declare(t)},showHide:function(t){return 0===e.tabIndex}},{name:"删除",type:"text",clickFun:function(t){e.deleteMaterial(t)},showHide:function(t){return 0===e.tabIndex}},{name:"撤销报检",type:"text",clickFun:function(t){e.cancelDeclare(t)},showHide:function(t){return 1===e.tabIndex}}]}],page:{total:0,size:20,current:1},tableData1:[],tableLoading1:!1,column1:[{dataType:"tag",label:"检验状态",prop:"inspectStatus",formatData:function(e){return 0==e?"检验中":1==e?"合格":2==e?"不合格":3==e?"未下单":4==e?"让步放行":null},formatType:function(e){return 0==e?"warning":1==e?"success":2==e?"danger":3==e?"info":4==e?"":null}},{label:"订单号",prop:"orderNo"},{label:"抵达的采购数量",prop:"qtyArrived"},{label:"报检时间",prop:"declareDate"},{label:"批号",prop:"updateBatchNo"},{label:"零件号",prop:"partNo"},{label:"零件描述",prop:"partDesc"},{label:"供应商名称",prop:"supplierName"},{label:"不合格描述",prop:"unqualifiedDesc"},{dataType:"tag",label:"免检",prop:"isExemption",formatData:function(e){return 1==e?"免检":null},formatType:function(e){return 1==e?"success":null}},{label:"委托编号",prop:"entrustCode",width:"160px"},{label:"样品名称",prop:"sampleName"},{label:"样品型号",prop:"sampleModel"},{label:"检验人",prop:"userName"},{dataType:"tag",label:"物料类型",prop:"isExpire",formatData:function(e){return 1==e?"过期物料":null},formatType:function(e){return 1==e?"info":null}},{label:"单位",prop:"buyUnitMeas"},{label:"接收时间",prop:"receiverDate"},{label:"下发时间",prop:"sendTime"},{dataType:"action",fixed:"right",label:"操作",operation:[{name:"数据查看",type:"text",clickFun:function(t){e.handleDataLook(t)},showHide:function(t){return 3===e.tabIndex||4===e.tabIndex}},{name:"放行",type:"text",clickFun:function(t){e.goPass(t)},disabled:function(e,t){return 2!==e.inspectStatus},showHide:function(t){return 4===e.tabIndex}},{name:"提前入库",type:"text",clickFun:function(t){e.advancedGodown(t)},disabled:function(e,t){return 0!==e.inspectStatus&&3!==e.inspectStatus},showHide:function(t){return 4===e.tabIndex}}]}],page1:{total:0,size:20,current:1},more:!1,declareObj:{id:null,orderNo:"",partNo:"",partDesc:"",qtyArrived:"",supplierId:"",supplierName:"",updateBatchNo:"",locationNo:"",receiverDate:"",buyUnitMeas:"",isExpire:""},componentData:{updateBatchNo:null,partNo:null,partDesc:null,supplierName:null,date:null,entrustCode:"",inspectStatus:""},declareDialogVisible1:!1,upLoad:!1,upIndex:0,multipleSelection:[],currentId:null,btnLoading:!1,insOrderRow:{},declareDialogVisible:!1,submitDeclareLoading:!1,declareDialogSVisible:!1,declareObjRules:{orderNo:[{required:!1,message:"请填写订单号",trigger:"blur"}],partNo:[{required:!0,message:"请填写零件号",trigger:"blur"}],partDesc:[{required:!0,message:"请填写零件描述",trigger:"blur"}],qtyArrived:[{required:!1,message:"请填写抵达的采购数量",trigger:"blur"}],supplierName:[{required:!0,message:"请填写供应商名称",trigger:"blur"}],updateBatchNo:[{required:!0,message:"请填写批号",trigger:"blur"}],locationNo:[{required:!1,message:"请填写库位号",trigger:"blur"}],buyUnitMeas:[{required:!1,message:"请填写单位",trigger:"blur"}]},tabList:[{label:"待报检",value:0},{label:"待下单",value:1},{label:"已完成",value:3},{label:"全部",value:4}],tabIndex:0,deleteVisible:!1,deleteLoading:!1,dataDialogVisible:!1,dataLookInfo:{},declareType:"",queryStatusList:[{label:"检验中",value:0},{label:"合格",value:1},{label:"不合格",value:2},{label:"未下单",value:3},{label:"让步放行",value:4}],outLoading:!1}},mounted:function(){this.refreshTable()},methods:{handleTab:function(e){this.tabIndex=e,this.refreshTable()},refreshTable:function(e){0===this.tabIndex||1===this.tabIndex?this.getWarehouseSubmitApi():3===this.tabIndex?this.getIfsByFinishList():this.getIfsByAllList()},getWarehouseSubmitApi:function(){var e=this;this.tableLoading=!0;var t=Object(l["a"])(Object(l["a"])({},this.componentData),{},{isInspect:this.tabIndex,state:0===this.tabIndex?null:0},this.page);Object(o["h"])(t).then((function(t){e.tableLoading=!1,200===t.code&&(e.tableData=t.data.records,e.page.total=t.data.total)})).catch((function(t){e.tableLoading=!1}))},getIfsByFinishList:function(){var e=this;this.tableLoading1=!0,null!=this.componentData.date?(this.componentData.beginDeclareDate=this.componentData.date[0],this.componentData.endDeclareDate=this.componentData.date[1]):(this.componentData.beginDeclareDate="",this.componentData.endDeclareDate=""),Object(o["f"])(Object(l["a"])(Object(l["a"])({},this.componentData),this.page1)).then((function(t){e.tableLoading1=!1,200===t.code&&(e.tableData1=t.data.records,e.page1.total=t.data.total)})).catch((function(t){e.tableLoading1=!1}))},getIfsByAllList:function(){var e=this;this.tableLoading1=!0,null!=this.componentData.date?(this.componentData.beginDeclareDate=this.componentData.date[0],this.componentData.endDeclareDate=this.componentData.date[1]):(this.componentData.beginDeclareDate="",this.componentData.endDeclareDate=""),Object(o["e"])(Object(l["a"])(Object(l["a"])({},this.componentData),this.page1)).then((function(t){e.tableLoading1=!1,200===t.code&&(e.tableData1=t.data.records,e.page1.total=t.data.total)})).catch((function(t){e.tableLoading1=!1}))},refresh:function(){this.resetForm("componentData"),this.refreshTable()},pagination:function(e){this.page.size=e.limit,this.refreshTable()},pagination1:function(e){this.page1.size=e.limit,this.refreshTable()},cancelDeclare:function(e){this.declareDialogVisible1=!0,this.insOrderRow=e},submitDeclare1:function(){var e=this;Object(o["l"])({id:this.insOrderRow.id}).then((function(t){200===t.code&&(e.declareDialogVisible1=!1,e.refreshTable("page"),e.$message.success("撤销报检成功"))})).catch((function(e){console.log(e)}))},handleDataLook:function(e){this.dataLookInfo=e,this.dataDialogVisible=!0},goPass:function(e){var t=this;this.$confirm("是否放行当前数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["c"])({ifsInventoryId:e.id}).then((function(e){200===e.code&&(t.$message({type:"success",message:"放行成功!"}),t.refreshTable())}))})).catch((function(){t.$message({type:"info",message:"取消放行"})}))},advancedGodown:function(e){var t=this;this.$confirm("当前原材料是否提前入库?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])({ifsInventoryId:e.id}).then((function(e){200===e.code&&(t.$message({type:"success",message:"操作成功!"}),t.refreshTable())}))})).catch((function(){t.$message({type:"error",message:"操作失败"})}))},closeDataLook:function(){this.dataDialogVisible=!1},addDeclare:function(){this.clear(),this.declareDialogVisible=!0,this.declareType="add"},declareS:function(){this.multipleSelection.length>0?this.declareDialogSVisible=!0:this.$message.error("请选择需要报检的数据")},submitDeclareS:function(){var e=this,t=[];this.multipleSelection.forEach((function(e){t.push(e.id)})),this.declareDialogSVisible=!0,Object(o["i"])({ids:t}).then((function(t){200===t.code&&(e.declareDialogSVisible=!1,e.$message.success("报检成功"),e.refreshTable()),e.submitDeclareLoading=!1})).catch((function(t){e.submitDeclareLoading=!1,console.log(t)}))},declare:function(e){this.declareObj=Object(l["a"])({},e),this.declareDialogVisible=!0,this.declareType="edit"},submitDeclare:function(){var e=this;"add"===this.declareType?this.$refs["declareObj"].validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(o["a"])(e.declareObj).then((function(t){200===t.code&&(e.declareDialogVisible=!1,e.$message.success("报检成功"),e.refreshTable())})).catch((function(e){console.log(e)}))})):this.$refs["declareObj"].validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(o["j"])({id:e.declareObj.id,updateBatchNo:e.declareObj.updateBatchNo}).then((function(t){200===t.code&&(e.declareDialogVisible=!1,e.$message.success("报检成功"),e.refreshTable())})).catch((function(e){console.log(e)}))}))},resetFormData:function(){this.$refs["declareObj"].resetFields(),this.declareDialogVisible=!1},deleteMaterial:function(e){this.deleteVisible=!0,this.deleteInfo=e},submitDelete:function(){var e=this;this.deleteLoading=!0,Object(o["d"])({id:this.deleteInfo.id}).then((function(t){e.deleteVisible=!1,e.$message.success("删除成功"),e.refreshTable(),e.deleteLoading=!1})).catch((function(t){console.log(t),e.deleteLoading=!1}))},selectMethod:function(e){this.multipleSelection=e},openIFS:function(){var e=this;this.btnLoading=!0,Object(o["g"])().then((function(t){e.resetForm("componentData"),e.refreshTable(),e.btnLoading=!1})).catch((function(t){e.btnLoading=!1,console.log(t)}))},handleDown:function(){var e=this,t=Object(l["a"])({},this.componentData);delete t.orderBy,this.outLoading=!0,Object(o["k"])({entity:t}).then((function(t){e.outLoading=!1;var a=new Blob([t],{type:"application/octet-stream"});e.$download.saveAs(a,"原材料检测信息导出.xlsx")}))},clear:function(){this.declareObj={id:null,orderNo:"",partNo:"",partDesc:"",qtyArrived:"",supplierId:"",supplierName:"",updateBatchNo:"",locationNo:"",receiverDate:"",buyUnitMeas:"",isExpire:""}}}},d=c,u=(a("a625"),a("2877")),p=Object(u["a"])(d,r,n,!1,null,"3c1fe15a",null);t["default"]=p.exports},5949:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"数据查看",visible:e.isShow,width:"80%"},on:{"update:visible":function(t){e.isShow=t},closed:function(t){return e.$emit("closeDataLook")}}},[a("ul",{staticClass:"tab"},e._l(e.dataVisibleTitle,(function(t,r){return a("li",{key:r,class:{active:r===e.dataVisibleIndex},on:{click:function(a){return e.handleDataVisibleTab(t,r)}}},[e._v(e._s(t.label))])})),0),a("div",[a("lims-table",{key:"tableData",attrs:{tableData:e.tableData,column:e.column,height:"500px",page:e.page,tableLoading:e.tableLoading},on:{pagination:e.pagination}})],1)]),e.retestVisible?a("un-pass-retest-result",{attrs:{retestVisible:e.retestVisible,retestInfo:e.retestInfo},on:{closeRetestLook:e.closeRetestLook}}):e._e()],1)},n=[],l=a("5530"),i=a("6428c"),o=a("00d5"),s=a("2381"),c={name:"dataLookVisible",components:{limsTable:o["a"],UnPassRetestResult:i["default"]},props:{dataDialogVisible:{type:Boolean,default:function(){return!1}},dataLookInfo:{type:Object,default:function(){}}},data:function(){var e=this;return{tableData:[],tableLoading:!1,column:[{label:"样品编号",prop:"sampleCode"},{label:"样品名称",prop:"sample"},{label:"检验项分类",prop:"inspectionItemClass"},{label:"检验项",prop:"inspectionItem"},{label:"检验子项",prop:"inspectionItemSubclass"},{label:"单位",prop:"unit"},{label:"样品型号",prop:"model"},{label:"条件",prop:"radius"},{label:"电缆标识",prop:"cableTag"},{label:"试验要求",prop:"tell"},{label:"检验结果",prop:"lastValue"},{dataType:"tag",label:"结果判定",prop:"insResult",formatData:function(e){return 1==e?"合格":0==e?"不合格":3==e?"不判定":null},formatType:function(e){return 1==e?"success":0==e?"danger":3==e?"":null}},{dataType:"action",fixed:"right",label:"操作",width:"170px",operation:[{name:"不合格复测查看",type:"text",clickFun:function(t){e.getRetestResult(t)},disabled:function(e,t){return 0!=e.insResult}}]}],page:{total:0,size:10,current:1},isShow:this.dataDialogVisible,dataVisibleTitle:[{label:"进厂检验",value:0},{label:"季度检验",value:1}],dataVisibleIndex:0,entity:{id:null},retestVisible:!1,retestInfo:[]}},mounted:function(){this.refreshTable()},methods:{handleDataVisibleTab:function(e,t){this.dataVisibleIndex=t,this.refreshTable()},refreshTable:function(){var e=this;0===this.dataVisibleIndex?this.entity.id=this.dataLookInfo.enterOrderId:this.entity.id=this.dataLookInfo.quarterOrderId,this.tableLoading=!0;var t=Object(l["a"])(Object(l["a"])({},this.entity),this.page);Object(s["C"])(t).then((function(t){e.tableLoading=!1,200===t.code&&(e.tableData=t.data.records,e.page.total=t.data.total)})).catch((function(t){e.tableLoading=!1}))},pagination:function(e){this.page.size=e.limit,this.refreshTable()},getRetestResult:function(e){var t=this;Object(s["p"])({insProductId:e.insProductId}).then((function(e){t.retestVisible=!0,t.retestInfo=e.data}))},closeRetestLook:function(){this.retestVisible=!1}}},d=c,u=(a("5c7e"),a("2877")),p=Object(u["a"])(d,r,n,!1,null,"3a5df128",null);t["default"]=p.exports},"5c7e":function(e,t,a){"use strict";a("49ef")},"6428c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"不合格复测查看",visible:e.isShow,width:"40%"},on:{"update:visible":function(t){e.isShow=t},closed:function(t){return e.$emit("closeRetestLook")}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.retestInfo,border:""}},[a("el-table-column",{attrs:{type:"index",label:"复测次数",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"tell",label:"试验要求",width:"120"}}),a("el-table-column",{attrs:{prop:"lastValue",label:"检验结果",width:"120"}}),a("el-table-column",{attrs:{prop:"insResult",label:"结果判定"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.insResult?a("el-tag",{attrs:{type:"danger","disable-transitions":""}},[e._v("不合格")]):e._e(),1===t.row.insResult?a("el-tag",{attrs:{type:"success","disable-transitions":""}},[e._v("合格")]):e._e(),3===t.row.insResult?a("el-tag",{attrs:{"disable-transitions":""}},[e._v("不判定")]):e._e()]}}])})],1)],1)],1)},n=[],l={name:"unPassRetestResult",components:{},props:{retestVisible:{type:Boolean,default:function(){return!1}},retestInfo:{type:Array,default:function(){return[]}}},data:function(){return{isShow:this.retestVisible}},methods:{}},i=l,o=a("2877"),s=Object(o["a"])(i,r,n,!1,null,"9e5dd77c",null);t["default"]=s.exports},a625:function(e,t,a){"use strict";a("2b67")},f0bc:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"h",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"l",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"j",(function(){return b})),a.d(t,"d",(function(){return f})),a.d(t,"k",(function(){return m}));var r=a("b775");function n(e){return Object(r["a"])({url:"insOrder/getIfsOrder",method:"get"})}function l(e){return Object(r["a"])({url:"/rawMaterialOrder/getWarehouseSubmit",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByFinish",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByAll",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/rawMaterialOrder/revokeInspectionReport",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/rawMaterialOrder/concessionRelease",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/rawMaterialOrder/advancedGodown",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/rawMaterialOrder/inspectionReport",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/rawMaterialOrder/addIfsInventoryQuantity",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/rawMaterialOrder/inspectionReportOne",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/rawMaterialOrder/delIfsInventory",method:"delete",params:e})}function m(e){return Object(r["a"])({url:"/rawMaterialOrder/rawAllExport",method:"get",data:e,responseType:"blob"})}}}]);