(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63287cda"],{"07ac":function(t,e,a){"use strict";var r=a("23e7"),i=a("6f53").values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},2381:function(t,e,a){"use strict";a.d(e,"n",(function(){return i})),a.d(e,"l",(function(){return s})),a.d(e,"k",(function(){return n})),a.d(e,"m",(function(){return l})),a.d(e,"q",(function(){return o})),a.d(e,"D",(function(){return c})),a.d(e,"o",(function(){return u})),a.d(e,"r",(function(){return d})),a.d(e,"G",(function(){return p})),a.d(e,"h",(function(){return h})),a.d(e,"B",(function(){return m})),a.d(e,"A",(function(){return f})),a.d(e,"e",(function(){return g})),a.d(e,"a",(function(){return b})),a.d(e,"E",(function(){return v})),a.d(e,"H",(function(){return y})),a.d(e,"b",(function(){return D})),a.d(e,"c",(function(){return C})),a.d(e,"d",(function(){return w})),a.d(e,"F",(function(){return O})),a.d(e,"z",(function(){return _})),a.d(e,"f",(function(){return x})),a.d(e,"w",(function(){return L})),a.d(e,"u",(function(){return S})),a.d(e,"x",(function(){return k})),a.d(e,"v",(function(){return N})),a.d(e,"t",(function(){return A})),a.d(e,"I",(function(){return j})),a.d(e,"s",(function(){return T})),a.d(e,"C",(function(){return R})),a.d(e,"p",(function(){return M})),a.d(e,"j",(function(){return B})),a.d(e,"i",(function(){return F})),a.d(e,"g",(function(){return I})),a.d(e,"y",(function(){return P}));var r=a("b775");function i(t){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByStateOne",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByOver",method:"get",params:t})}function n(t){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByAll",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/rawMaterialOrder/getIfsByQuarter",method:"get",params:t})}function o(t){return Object(r["a"])({url:"/system/newUser/getUserNow",method:"get"})}function c(t){return Object(r["a"])({url:"/standardTree/selectStandardMethodEnum",method:"get"})}function u(t){return Object(r["a"])({url:"/insOrder/getInsOrder",method:"get",params:t})}function d(t){return Object(r["a"])({url:"/rawMaterialOrder/notificationRawOrder",method:"get",params:t})}function p(t){return Object(r["a"])({url:"/rawMaterialOrder/selectStandardTreeListByPartNo",method:"get",params:t})}function h(t){return Object(r["a"])({url:"/rawMaterialOrder/delRawMaterOrderTemplate",method:"delete",params:t})}function m(t){return Object(r["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplateById",method:"get",params:t})}function f(t){return Object(r["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplate",method:"get",params:t})}function g(t){return Object(r["a"])({url:"/rawMaterialOrder/addRawMaterOrderTemplate",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/rawMaterialOrder/addExemptionOrder",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/standardTree/selectStandardProductList",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/standardTree/selectsStandardMethodByFLSSM",method:"get",params:t})}function D(t){return Object(r["a"])({url:"/insOrder/addInsOrder",method:"post",data:t})}function C(t){return Object(r["a"])({url:"/rawMaterialOrder/addRawCopperOrder",method:"post",data:t})}function w(t){return Object(r["a"])({url:"/rawMaterialOrder/addRawCopperOrderExemptionOrder",method:"post",data:t})}function O(){return Object(r["a"])({url:"/standardTree/selectStandardTreeList2",method:"get"})}function _(t){return Object(r["a"])({url:"/insOrder/selectInsOrderTemplate",method:"get",params:t})}function x(t){return Object(r["a"])({url:"/rawMaterialOrder/concessionRelease",method:"post",data:t})}function L(t){return Object(r["a"])({url:"/rawMaterialOrder/repealQuarterRawOrder",method:"post",data:t})}function S(t){return Object(r["a"])({url:"/rawMaterialOrder/rawOrderRelease",method:"post",data:t})}function k(t){return Object(r["a"])({url:"/rawMaterialOrder/revokeInspectionReport",method:"post",data:t})}function N(t){return Object(r["a"])({url:"/rawMaterialOrder/repealEnterRawOrder",method:"post",data:t})}function A(t){return Object(r["a"])({url:"/rawMaterialOrder/rawAllExport",method:"get",data:t,responseType:"blob"})}function j(t){return Object(r["a"])({url:"/insOrder/updateEntrustCode",method:"post",data:t})}function T(t){return Object(r["a"])({url:"/rawMaterialOrder/printLabel",method:"post",data:t})}function R(t){return Object(r["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:t})}function M(t){return Object(r["a"])({url:"/insOrder/getRetestResult",method:"get",params:t})}function B(t){return Object(r["a"])({url:"/insOrderPlan/getFileList",method:"get",params:t})}function F(t){return Object(r["a"])({url:"/insOrderPlan/downFile",method:"get",params:t})}function I(t){return Object(r["a"])({url:"/insOrderPlan/delfile",method:"delete",params:t})}function P(t){return Object(r["a"])({url:"/insOrderPlan/saveUnqualifiedContext",method:"post",data:t})}},"326c":function(t,e,a){"use strict";a("d247")},"58d4":function(t,e,a){},9536:function(t,e,a){"use strict";a("58d4")},d247:function(t,e,a){},d3a9:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return n})),a.d(e,"i",(function(){return l})),a.d(e,"e",(function(){return o})),a.d(e,"g",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"b",(function(){return d})),a.d(e,"h",(function(){return p})),a.d(e,"k",(function(){return h})),a.d(e,"j",(function(){return m}));var r=a("b775");function i(t){return Object(r["a"])({url:"/dataAnalysis/getRawPassRateByBarChart",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/dataAnalysis/getRawPassRateByCake",method:"get",params:t})}function n(){return Object(r["a"])({url:"/dataAnalysis/getOrderTypeCookie",method:"get"})}function l(){return Object(r["a"])({url:"/dataAnalysis/getRawUpMonth",method:"get"})}function o(t){return Object(r["a"])({url:"/dataAnalysis/getRawProductAnalysis",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/dataAnalysis/getRawProductAnalysisRawPass",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/dataAnalysis/getRawProductAnalysisAllList",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/dataAnalysis/getRawItemNames",method:"get",params:t})}function p(t){return Object(r["a"])({url:"/dataAnalysis/getRawSupplierCompare",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/insProductDeviationWarning/selectDeviationWarningPage",method:"get",params:t})}function m(t){return Object(r["a"])({url:"/insProductDeviationWarning/selectDeviationWarning",method:"get",params:t})}},d8ac:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[t.isShowDataCom?t._e():a("div",[a("el-form",{ref:"entity",attrs:{size:"small",inline:!0}},[a("el-form-item",{staticStyle:{width:"16%"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"end-placeholder":"结束日期",format:"yyyy-MM-dd",placeholder:"选择日期","range-separator":"至",size:"small","start-placeholder":"开始日期",type:"daterange","value-format":"yyyy-MM-dd"},model:{value:t.datePicker,callback:function(e){t.datePicker=e},expression:"datePicker"}})],1),a("el-form-item",{attrs:{label:"样品名称",prop:"sampleName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入样品名称",size:"small"},model:{value:t.sampleName,callback:function(e){t.sampleName=e},expression:"sampleName"}})],1),a("el-form-item",{attrs:{label:"型号",prop:"modelName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入型号",size:"small"},model:{value:t.modelName,callback:function(e){t.modelName=e},expression:"modelName"}})],1),a("el-form-item",{attrs:{label:"供应商名称",prop:"supplierName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入供应商名称",size:"small"},model:{value:t.supplierName,callback:function(e){t.supplierName=e},expression:"supplierName"}})],1),a("el-form-item",{attrs:{label:"检验项名称",prop:"supplierName"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{loading:t.selectLoading,clearable:"",multiple:"",placeholder:"请选择",size:"small"},on:{focus:t.getItemList},model:{value:t.itemNames,callback:function(e){t.itemNames=e},expression:"itemNames"}},t._l(t.itemNamesList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.changeData}},[t._v("查询")])],1)],1)],1),t.isShowDataCom?t._e():a("div",{staticStyle:{"overflow-y":"auto",height:"calc(100% - 70px)","overflow-x":"hidden"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"inspection-card"},[a("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"10px","justify-content":"space-between"}},[a("div",[t._v("原材料项检分析列表")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.openShowData}},[t._v("查看数据分析")])],1),a("lims-table",{key:"tableData",attrs:{tableData:t.editTableData,column:t.editColumn,height:"400",isSelection:!0,handleSelectionChange:t.handleSelectionChange,tableLoading:t.editLoading}})],1)])],1),a("el-row",[a("el-col",{staticStyle:{"padding-top":"14px"},attrs:{span:6}},[a("div",{staticStyle:{display:"flex","margin-left":"10px","align-items":"center"}},[a("span",{staticStyle:{width:"100px"}},[t._v("分组类型：")]),a("el-select",{staticStyle:{width:"90%"},attrs:{clearable:"",placeholder:"请选择",size:"small"},on:{change:t.getBarInfo},model:{value:t.groupType,callback:function(e){t.groupType=e},expression:"groupType"}},t._l(t.groupTypeList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"inspection-card"},[a("div",{staticClass:"title"},[t._v("检验项数据对比")]),a("Echarts",{ref:"chart",staticStyle:{height:"40vh"},attrs:{chartStyle:t.chartStyle,dataset:t.dataset,grid:t.grid,options:t.echartsOptions,series:t.echartsSeries,tooltip:t.tooltip,xAxis:t.xAxis,yAxis:t.yAxis}})],1)])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"inspection-card"},[a("div",{staticClass:"title"},[t._v("原材料项检合格率")]),a("Echarts",{ref:"chart",staticStyle:{height:"40vh"},attrs:{chartStyle:t.chartStyle,dataset:t.dataset1,grid:t.grid,options:t.echartsOptions1,series:t.echartsSeries1,tooltip:t.tooltip,xAxis:t.xAxis,yAxis:t.yAxis1}})],1)])],1)],1),a("el-dialog",{attrs:{visible:t.dataDialogVisible,title:"数据查看",width:"80%"},on:{"update:visible":function(e){t.dataDialogVisible=e}}},[t.dataDialogVisible?a("div",{staticStyle:{height:"70vh","overflow-y":"auto"}},[a("lims-table",{key:"tableData",attrs:{tableData:t.tableData,column:t.column,page:t.page,tableLoading:t.tableLoading},on:{pagination:t.pagination}})],1):t._e()]),t.isShowDataCom?a("DataComparison",{attrs:{comparisonData:t.comparisonData,selectRow:t.selectRow},on:{goBack:t.goBack}}):t._e()],1)},i=[],s=a("5530"),n=(a("d81d"),a("14d9"),a("d3b7"),a("0643"),a("4e3e"),a("a573"),a("159b"),a("fd54")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-row",{staticClass:"title"},[a("el-col",{staticStyle:{"padding-left":"20px","text-align":"left"},attrs:{span:6}},[t._v("数据分析")]),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:18}},[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$emit("goBack")}}},[t._v("返回")])],1)],1)],1),a("div",{staticClass:"container"},[a("div",[a("div",{staticStyle:{padding:"0 0 10px 10px"}},[t._v("填写厂家数据")]),a("el-form",{ref:"supplierForm",staticClass:"demo-ruleForm",attrs:{model:t.supplierForm,rules:t.rules,"label-width":"40px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"1：",prop:"one"}},[a("el-input",{attrs:{size:"small"},model:{value:t.supplierForm.one,callback:function(e){t.$set(t.supplierForm,"one",e)},expression:"supplierForm.one"}})],1)],1),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"2：",prop:"two"}},[a("el-input",{attrs:{size:"small"},model:{value:t.supplierForm.two,callback:function(e){t.$set(t.supplierForm,"two",e)},expression:"supplierForm.two"}})],1)],1),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"3：",prop:"three"}},[a("el-input",{attrs:{size:"small"},model:{value:t.supplierForm.three,callback:function(e){t.$set(t.supplierForm,"three",e)},expression:"supplierForm.three"}})],1)],1),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"4：",prop:"four"}},[a("el-input",{attrs:{size:"small"},model:{value:t.supplierForm.four,callback:function(e){t.$set(t.supplierForm,"four",e)},expression:"supplierForm.four"}})],1)],1),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"5：",prop:"five"}},[a("el-input",{attrs:{size:"small"},model:{value:t.supplierForm.five,callback:function(e){t.$set(t.supplierForm,"five",e)},expression:"supplierForm.five"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("数据分析")]),a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.resetForm()}}},[t._v("重置")])],1)],1)],1)],1)],1),a("table",{staticClass:"table",attrs:{border:!0}},[t._m(0),a("tr",[a("td",{staticClass:"thBack"},[t._v("厂家检测数据")]),t._l(t.supplierData,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("检测中心数据")]),t._l(t.localData,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("绝对偏差")]),t._l(t.absoluteDeviation,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("平均值")]),t._l(t.average,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])}))],2),t._m(1),a("tr",[a("td",{staticClass:"thBack"},[t._v("UCL")]),t._l(t.supplierULC,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])})),t._l(t.empty,(function(t,e){return a("td",{key:"a"+e,staticClass:"tdData"})}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("LCL")]),t._l(t.supplierLCL,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])})),t._l(t.empty,(function(t,e){return a("td",{key:"b"+e,staticClass:"tdData"})}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("平均值")]),t._l(t.supplierAverage,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])})),t._l(t.empty,(function(t,e){return a("td",{key:"c"+e,staticClass:"tdData"})}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("极差")]),t._l(t.supplierRange,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])})),t._l(t.empty,(function(t,e){return a("td",{key:"d"+e,staticClass:"tdData"})}))],2),t._m(2),a("tr",[a("td",{staticClass:"thBack"},[t._v("UCL")]),t._l(t.localULC,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])})),t._l(t.empty,(function(t,e){return a("td",{key:"e"+e,staticClass:"tdData"})}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("LCL")]),t._l(t.localLCL,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])})),t._l(t.empty,(function(t,e){return a("td",{key:"f"+e,staticClass:"tdData"})}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("平均值")]),t._l(t.localAverage,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])})),t._l(t.empty,(function(t,e){return a("td",{key:"g"+e,staticClass:"tdData"})}))],2),a("tr",[a("td",{staticClass:"thBack"},[t._v("极差")]),t._l(t.localRange,(function(e,r){return a("td",{key:r,staticClass:"tdData"},[t._v(t._s(e))])})),t._l(t.empty,(function(t,e){return a("td",{key:"h"+e,staticClass:"tdData"})}))],2)]),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"inspection-card"},[a("div",{staticClass:"echartsTitle"},[t._v("检测数据对比")]),a("Echarts",{ref:"chart",staticStyle:{height:"40vh"},attrs:{grid:t.grid,legend:t.legend,lineColors:t.lineColors,series:t.echartsSeries,tooltip:t.tooltip,xAxis:t.xAxis,yAxis:t.yAxis}})],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"inspection-card"},[a("div",{staticClass:"echartsTitle"},[t._v("测量数据标准差对比")]),a("Echarts",{ref:"chart",staticStyle:{height:"40vh"},attrs:{barColors:t.barColors,chartStyle:t.chartStyle,grid:t.grid,legend:t.legend1,series:t.echartsSeries1,tooltip:t.tooltip,xAxis:t.xAxis1,yAxis:t.yAxis1}})],1)])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"inspection-card"},[a("div",{staticClass:"echartsTitle"},[t._v("偏差分析")]),a("Echarts",{ref:"chart",staticStyle:{height:"40vh"},attrs:{grid:t.grid,legend:t.legend2,lineColors:t.lineColors,series:t.echartsSeries2,tooltip:t.tooltip,xAxis:t.xAxis,yAxis:t.yAxis2}})],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"inspection-card"},[a("div",{staticClass:"echartsTitle"},[t._v("检测中心数据")]),a("Echarts",{ref:"chart",staticStyle:{height:"40vh"},attrs:{grid:t.grid,legend:t.legend,lineColors:t.lineColors,series:t.echartsSeries3,tooltip:t.tooltip,xAxis:t.xAxis,yAxis:t.yAxis}})],1)])],1)],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"thTitle"}),a("th",{staticClass:"thTitle"},[t._v("1")]),a("th",{staticClass:"thTitle"},[t._v("2")]),a("th",{staticClass:"thTitle"},[t._v("3")]),a("th",{staticClass:"thTitle"},[t._v("4")]),a("th",{staticClass:"thTitle"},[t._v("5")]),a("th",{staticClass:"thTitle"},[t._v("平均值")]),a("th",{staticClass:"thTitle"},[t._v("标准偏差")]),a("th",{staticClass:"thTitle"},[t._v("相对偏差")]),a("th",{staticClass:"thTitle"},[t._v("平均标准偏差")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"thBack2"},[t._v("厂家")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"thBack2"},[t._v("检测中心")])])}],c=(a("fb6a"),a("07ac"),{name:"DataComparison",components:{Echarts:n["a"]},props:{comparisonData:{type:Object,default:function(){}},selectRow:{type:Object,default:function(){}}},data:function(){return{supplierForm:{one:"",two:"",three:"",four:"",five:""},rules:{one:[{required:!0,message:"必填",trigger:"blur"}],two:[{required:!0,message:"必填",trigger:"blur"}],three:[{required:!0,message:"必填",trigger:"blur"}],four:[{required:!0,message:"必填",trigger:"blur"}],five:[{required:!0,message:"必填",trigger:"blur"}]},comparisonData1:{},supplierData:[],localData:[],absoluteDeviation:[],average:[],supplierULC:[],supplierLCL:[],supplierAverage:[],supplierRange:[],localULC:[],localLCL:[],localAverage:[],localRange:[],manufacturerData:[],manufacturer:[{value:"1.1"},{value:"2.2"},{value:"3.3"},{value:"4.4"},{value:"5.5"}],testCenter:[{value:"1.2"},{value:"2.33"},{value:"3.64"},{value:"4.3"},{value:"5.9"}],empty:[{data:"1"},{data:"2"},{data:"3"},{data:"4"}],lineColors:["#ed7d31","#409EFF"],barColors:["#ed7d31","#409EFF","#a5a5a5"],chartStyle:{width:"100%",height:"96%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},legend:{data:["厂家检测数据","检测中心检测数据"]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{type:"category",data:["1","2","3","4","5"]}],yAxis:[{type:"value"}],echartsSeries:[{name:"厂家检测数据",type:"line",label:{show:!0,position:"top"},data:[]},{name:"检测中心检测数据",type:"line",label:{show:!0,position:"top"},data:[]}],xAxis1:[{type:"category",data:["厂家","检测中心"]}],legend1:{data:["UCL","LCL","平均值"]},yAxis1:[{type:"value"}],echartsSeries1:[{name:"UCL",type:"bar",label:{show:!0,position:"top"},data:[]},{name:"LCL",type:"bar",label:{show:!0,position:"top"},data:[]},{name:"平均值",type:"bar",label:{show:!0,position:"top"},data:[]}],legend2:{data:["平均值","绝对偏差"]},yAxis2:[{type:"value",min:0,max:1}],echartsSeries2:[{name:"平均值",type:"line",label:{show:!0,position:"top",formatter:function(t){return Math.round(1e3*t.value)/10+"%"}},data:[]},{name:"绝对偏差",type:"line",label:{show:!0,position:"top",formatter:function(t){return Math.round(1e3*t.value)/10+"%"}},data:[]}],echartsSeries3:[{name:"检测中心检测数据",type:"line",data:[]}]}},mounted:function(){this.getInfo()},methods:{getInfo:function(){this.localData=null===this.comparisonData.localData?["","","","","","","","",""]:this.comparisonData.localData,this.localData=this.localData.map((function(t,e){return 7===e?"".concat(Math.round(100*t),"%"):t})),this.echartsSeries3[0].data=this.localData.slice(0,5),this.localULC=this.comparisonData.localULC,this.localLCL=this.comparisonData.localLCL,this.localAverage=this.comparisonData.localAverage,this.localRange=this.comparisonData.localRange},getInfo1:function(){this.echartsSeries1[0].data=[],this.supplierData=null===this.comparisonData1.supplierData?["","","","","","","","",""]:this.comparisonData1.supplierData,this.localData=null===this.comparisonData1.localData?["","","","","","","","",""]:this.comparisonData1.localData,this.localData=this.localData.map((function(t,e){return 7===e?"".concat(Math.round(100*t),"%"):t})),this.echartsSeries3[0].data=this.localData.slice(0,5),this.echartsSeries[0].data=this.supplierData,this.echartsSeries[1].data=this.localData,this.absoluteDeviation=null===this.comparisonData1.absoluteDeviation?["","","","","","","","",""]:this.comparisonData1.absoluteDeviation,this.echartsSeries2[1].data=this.absoluteDeviation,this.absoluteDeviation=this.absoluteDeviation.map((function(t){return"".concat(Math.round(100*t),"%")})),this.average=null===this.comparisonData1.average?["","","","","","","","",""]:this.comparisonData1.average,this.echartsSeries2[0].data=this.average,this.average=this.average.map((function(t){return"".concat(Math.round(100*t),"%")})),this.supplierULC=null===this.comparisonData1.supplierULC?["","","","",""]:this.comparisonData1.supplierULC,this.echartsSeries1[0].data.push(this.supplierULC[0]),this.supplierLCL=null===this.comparisonData1.supplierLCL?["","","","",""]:this.comparisonData1.supplierLCL,this.echartsSeries1[1].data.push(this.supplierLCL[0]),this.supplierAverage=null===this.comparisonData1.supplierAverage?["","","","",""]:this.comparisonData1.supplierAverage,this.echartsSeries1[2].data.push(this.supplierAverage[0]),this.supplierRange=null===this.comparisonData1.supplierRange?["","","","",""]:this.comparisonData1.supplierRange,this.localULC=this.comparisonData1.localULC,this.echartsSeries1[0].data.push(this.localULC[0]),this.localLCL=this.comparisonData1.localLCL,this.echartsSeries1[1].data.push(this.localLCL[0]),this.localAverage=this.comparisonData1.localAverage,this.echartsSeries1[2].data.push(this.localAverage[0]),this.localRange=this.comparisonData1.localRange},submitForm:function(){var t=this;this.$refs["supplierForm"].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a={orderIds:t.selectRow.orderIds,itemNames:t.selectRow.itemNames,supplierDataList:Object.values(t.supplierForm)};t.$axios.post(t.$api.dataAnalysis.getRawSupplierCompare,a,{headers:{"Content-Type":"application/json"},noQs:!0}).then((function(e){t.comparisonData1=e.data,t.getInfo1()}))}))},resetForm:function(){this.$refs["supplierForm"].resetFields()}}}),u=c,d=(a("9536"),a("2877")),p=Object(d["a"])(u,l,o,!1,null,"77273990",null),h=p.exports,m=a("00d5"),f=a("d3a9"),g=a("2381"),b={name:"ItemInspectionAnalysis",components:{limsTable:m["a"],Echarts:n["a"],DataComparison:h},data:function(){var t=this;return{selectChangeRows:[],groupTypeList:[{label:"样品",value:"0"},{label:"同一厂家, 同一型号, 不同批次",value:"1"},{label:"同一型号, 不同厂家",value:"2"}],itemNames:[],itemNamesList:[],selectLoading:!1,datePicker:[],groupType:"",beginDate:"",endDate:"",sampleName:"",modelName:"",supplierName:"",grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},echartsOptions:{},echartsOptions1:{},dataset:{dimensions:[],source:[]},dataset1:{dimensions:[],source:[]},xAxis:[{type:"category"}],yAxis:[{}],yAxis1:[{axisLabel:{formatter:"{value} %"}}],echartsSeries:[],echartsSeries1:[],tooltip:{},chartStyle:{width:"100%",height:"96%"},editColumn:[{label:"批号",minWidth:"120px",prop:"updateBatchNo"},{label:"委托编号",minWidth:"120px",prop:"entrustCode"},{label:"零件号",minWidth:"120px",prop:"partNo"},{label:"零件描述",minWidth:"120px",prop:"partDesc"},{label:"供应商名称",minWidth:"120px",prop:"supplierName"},{dataType:"tag",label:"检验状态",prop:"inspectStatus",minWidth:"120px",formatData:function(t){return 0==t?"检验中":1==t?"合格":2==t?"不合格":3==t?"未下单":4==t?"让步放行":void 0},formatType:function(t){return 1==t||4==t?"success":3==t?"warning":0==t||2==t?"danger":void 0}},{label:"样品名称",minWidth:"300px",prop:"sampleName"},{label:"样品型号",minWidth:"300px",prop:"sampleModel"},{label:"下发时间",minWidth:"120px",prop:"sendTime"},{label:"抵达的采购数量",minWidth:"130px",prop:"qtyArrived"},{label:"单位",minWidth:"120px",prop:"buyUnitMeas"},{dataType:"action",width:"80px",label:"操作",fixed:"right",operation:[{name:"数据查看",type:"text",clickFun:function(e){t.handleDataLook(e)}}]}],editTableData:[],editLoading:!1,dataDialogVisible:!1,tableData:[],tableLoading:!1,column:[{label:"样品编号",prop:"sampleCode"},{label:"样品名称",prop:"sample"},{label:"检验项分类",prop:"inspectionItemClass"},{label:"检验项",prop:"inspectionItem"},{label:"检验子项",prop:"inspectionItemSubclass"},{label:"单位",prop:"unit"},{label:"样品型号",prop:"model"},{label:"条件",prop:"radius"},{label:"电缆标识",prop:"cableTag"},{label:"试验要求",prop:"tell"},{label:"检验结果",prop:"lastValue"},{dataType:"tag",label:"结果判定",prop:"insResult",formatData:function(t){return 1==t?"合格":0==t?"不合格":3==t?"不判定":null},formatType:function(t){return 1==t?"success":0==t?"danger":3==t?"":null}}],page:{total:0,size:10,current:1},currentRow:{},isShowDataCom:!1,comparisonData:{},selectRow:{}}},mounted:function(){},methods:{getBarInfo:function(t){if("1"===t){if(!this.modelName||!this.supplierName)return this.$message.warning("型号或供应商不能为空"),void(this.groupType="")}else if("2"===t){if(!this.modelName)return this.$message.warning("型号不能为空"),void(this.groupType="");if(this.supplierName)return this.$message.warning("不可选供应商名称"),void(this.groupType="")}this.getBar(),this.getBar1()},getBar:function(){var t=this;this.echartsSeries=[];var e={beginDate:this.beginDate,endDate:this.endDate,sampleName:this.sampleName,modelName:this.modelName,supplierName:this.supplierName,itemNames:this.itemNames,groupType:this.groupType};Object(f["e"])(e).then((function(e){if(null!==e.data){for(var a=0;a<e.data.itemNames.length;a++)t.echartsSeries.push({type:"line",label:{show:!0,position:"top"}});t.dataset.dimensions=t.HaveJson(e.data.itemNames),t.dataset.dimensions.unshift("product"),t.dataset.source=t.HaveJson(e.data.productList)}else t.$message.warning("暂无数据")}))},getBar1:function(){var t=this;this.echartsSeries1=[];var e={beginDate:this.beginDate,endDate:this.endDate,sampleName:this.sampleName,modelName:this.modelName,supplierName:this.supplierName,itemNames:this.itemNames,groupType:this.groupType};Object(f["g"])(e).then((function(e){if(null!==e.data){for(var a=0;a<e.data.itemNames.length;a++)t.echartsSeries1.push({type:"line",tooltip:{valueFormatter:function(t){return t+"%"}},label:{show:!0,position:"top",formatter:function(t){return t.value[t.dimensionNames[t.encode.y[0]]]+"%"}}});t.dataset1.dimensions=t.HaveJson(e.data.itemNames),t.dataset1.dimensions.unshift("product"),t.dataset1.source=t.HaveJson(e.data.productList)}else t.$message.warning("暂无数据")}))},handleDataLook:function(t){this.dataDialogVisible=!0,this.currentRow=t,this.refreshTable(t)},refreshTable:function(t){var e=this;Object(g["C"])(Object(s["a"])({id:t.id},this.page)).then((function(t){e.tableLoading=!1,200===t.code&&(e.tableData=t.data.records,e.page.total=t.data.total)})).catch((function(t){e.tableLoading=!1}))},pagination:function(t){this.page.size=t.limit,this.refreshTable(this.currentRow)},changeData:function(){null!==this.datePicker&&this.datePicker.length>0?(this.beginDate=this.datePicker[0]+" 00:00:00",this.endDate=this.datePicker[1]+" 23:59:59"):(this.beginDate="",this.endDate=""),this.getBar(),this.getBar1(),this.getTableData()},getTableData:function(){var t=this;this.editLoading=!0;var e={beginDate:this.beginDate,endDate:this.endDate,sampleName:this.sampleName,modelName:this.modelName,supplierName:this.supplierName,itemNames:this.itemNames};Object(f["f"])(e).then((function(e){t.editLoading=!1,t.editTableData=e.data})).catch((function(){t.editLoading=!1}))},getItemList:function(){var t=this;this.selectLoading=!0,this.itemNamesList=[];var e={beginDate:this.beginDate,endDate:this.endDate,sampleName:this.sampleName,modelName:this.modelName,supplierName:this.supplierName};Object(f["b"])(e).then((function(e){t.selectLoading=!1,e.data.map((function(e){var a=Object.assign({label:e,value:e});t.itemNamesList.push(a)}))})).catch((function(){t.selectLoading=!1}))},goBack:function(){this.isShowDataCom=!1},openShowData:function(){var t=this;if(5===this.selectChangeRows.length)if(1===this.itemNames.length){var e=[],a=[];this.selectChangeRows.forEach((function(t){e.push(t.enterOrderId)})),this.itemNames.forEach((function(t){a.push(t)}));var r={orderIds:e,itemNames:a};Object(f["h"])(r).then((function(e){t.comparisonData=e.data,t.selectRow=r,t.isShowDataCom=!0}))}else this.$message.warning("只能选择1项检验项名称");else this.$message.warning("请选择5条数据")},handleSelectionChange:function(t){this.selectChangeRows=t}}},v=b,y=(a("326c"),Object(d["a"])(v,r,i,!1,null,"7fc6887b",null));e["default"]=y.exports}}]);