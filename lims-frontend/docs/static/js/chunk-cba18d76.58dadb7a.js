(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cba18d76"],{1839:function(e,t,r){"use strict";r.d(t,"x",(function(){return a})),r.d(t,"n",(function(){return o})),r.d(t,"A",(function(){return n})),r.d(t,"z",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"i",(function(){return c})),r.d(t,"l",(function(){return m})),r.d(t,"u",(function(){return p})),r.d(t,"p",(function(){return d})),r.d(t,"y",(function(){return u})),r.d(t,"e",(function(){return f})),r.d(t,"m",(function(){return b})),r.d(t,"q",(function(){return g})),r.d(t,"t",(function(){return h})),r.d(t,"a",(function(){return v})),r.d(t,"h",(function(){return y})),r.d(t,"s",(function(){return T})),r.d(t,"g",(function(){return w})),r.d(t,"o",(function(){return k})),r.d(t,"v",(function(){return x})),r.d(t,"b",(function(){return j})),r.d(t,"w",(function(){return C})),r.d(t,"c",(function(){return L})),r.d(t,"k",(function(){return O})),r.d(t,"j",(function(){return P})),r.d(t,"r",(function(){return R})),r.d(t,"f",(function(){return _}));var i=r("b775");function a(e){return Object(i["a"])({url:"/fePowerStable/getLaboratoryFacilityPowerStablePage",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/deviceScope/search",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/deviceScope/treeDevice",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/fePowerStable/addLaboratoryFacilityPowerStable",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/fePowerStable/deleteFeMeasuredQuantity",method:"delete",params:e})}function m(e){return Object(i["a"])({url:"/fePowerStable/deleteLaboratoryFacilityPowerStable",method:"delete",params:e})}function p(e){return Object(i["a"])({url:"/fePowerStable/getFeMeasuredQuantityService",method:"get",params:e})}function d(e){return Object(i["a"])({url:"/fePowerStable/exportFePowerStable",method:"get",responseType:"blob",params:e})}function u(e){return Object(i["a"])({url:"/feLightningProtection/getLightningProtectionDetection",method:"get",params:e})}function f(e){return Object(i["a"])({url:"/feLightningProtection/addLightningProtectionDetection",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function b(e){return Object(i["a"])({url:"/feLightningProtection/deleteLightningProtectionDetection",method:"delete",params:e})}function g(e){return Object(i["a"])({url:"/feLightningProtection/exportOfLightningProtectionDetection",method:"get",responseType:"blob",params:e})}function h(e){return Object(i["a"])({url:"/feIllumination/getFeLightningProtection",method:"get",params:e})}function v(e){return Object(i["a"])({url:"/feIllumination/addFeLightningProtection",method:"post",data:e})}function y(e){return Object(i["a"])({url:"/feIllumination/deleteFeLightningProtection",method:"delete",params:e})}function T(e){return Object(i["a"])({url:"/feIllumination/getFeIlluminationDetectionArea",method:"get",params:e})}function w(e){return Object(i["a"])({url:"/feIllumination/deleteFeIlluminationDetectionArea",method:"delete",params:e})}function k(e){return Object(i["a"])({url:"/feIllumination/exportFeIllumination",method:"get",responseType:"blob",params:e})}function x(e){return Object(i["a"])({url:"/feTempHumDate/getFeTempHumDate",method:"get",params:e})}function j(e){return Object(i["a"])({url:"/feTempHumDate/addFeTempHumDate",method:"post",data:e})}function C(e){return Object(i["a"])({url:"/feTempHumDate/getFeTempHumRecordPage",method:"get",params:e})}function L(e){return Object(i["a"])({url:"/feTempHumDate/addFeTempHumRecord",method:"post",data:e})}function O(e){return Object(i["a"])({url:"/feTempHumDate/deleteFeTempHumRecord",method:"delete",params:e})}function P(e){return Object(i["a"])({url:"/feTempHumDate/deleteFeTempHumDate",method:"delete",params:e})}function R(e){return Object(i["a"])({url:"/feTempHumDate/exportTemperatureAndHumidityRecords",method:"get",responseType:"blob",params:e})}function _(e){return Object(i["a"])({url:"/feTempHumDate/affirmFeTempHumDate",method:"post",data:e})}},"4c8a":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{"margin-bottom":"18px","margin-right":"10px",display:"flex","align-items":"center","line-height":"32px"}},[r("span",{staticStyle:{width:"48px","font-size":"14px","font-weight":"700",color:"#606266"}},[e._v("姓名")]),r("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.refreshTable(t)}},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),r("div",{staticStyle:{"line-height":"30px"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.refreshTable}},[e._v("查询")])],1)]),r("div",{staticStyle:{"line-height":"30px"}},[e.isDepartment?e._e():r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.addAppointPost("add")}}},[e._v("新增")])],1)]),r("lims-table",{attrs:{tableData:e.tableData,column:e.yearColumnData,height:"calc(100vh - 20em)",page:e.search,tableLoading:e.yearLoading},on:{pagination:e.pagination},scopedSlots:e._u([{key:"jobResponsibilities",fn:function(t){return r("div",{},[r("div",{domProps:{innerHTML:e._s(e.changeLine(t.row.responsibilities))}})])}},{key:"placeWorkSlot",fn:function(t){return r("div",{},[r("div",{domProps:{innerHTML:e._s(e.changeLine(t.row.placeWork))}})])}}])}),r("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,title:e.title,visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.resetForm}},[e.dialogVisible?r("el-form",{ref:"infoForm",attrs:{model:e.form,rules:e.rules}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"人员：","label-width":"110px",prop:"userId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",clearable:"",filterable:"",size:"small"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.responsibleOptions,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),r("el-col",{attrs:{span:24}},[r("div",{staticStyle:{display:"flex","justify-content":"space-evenly","font-weight":"600"}},[r("span",[e._v("查核结果")]),r("span",[e._v("符合与否")]),r("span",[e._v("备注")])])]),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"学历：","label-width":"110px",prop:"academicDegree"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.academicDegree,callback:function(t){e.$set(e.form,"academicDegree",t)},expression:"form.academicDegree"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"radio-group",staticStyle:{"text-align":"center"},attrs:{prop:"academicConformNot"}},[r("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType},model:{value:e.form.academicConformNot,callback:function(t){e.$set(e.form,"academicConformNot",t)},expression:"form.academicConformNot"}},[r("el-radio",{attrs:{label:1}},[e._v("符合")]),r("el-radio",{attrs:{label:2}},[e._v("不符合")]),r("el-radio",{attrs:{label:3}},[e._v("不适用")])],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"academicRemarks"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.academicRemarks,callback:function(t){e.$set(e.form,"academicRemarks",t)},expression:"form.academicRemarks"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"相关年限：","label-width":"110px",prop:"relatedYears"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.relatedYears,callback:function(t){e.$set(e.form,"relatedYears",t)},expression:"form.relatedYears"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"radio-group",staticStyle:{"text-align":"center"},attrs:{prop:"relatedYearsConformNot"}},[r("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType},model:{value:e.form.relatedYearsConformNot,callback:function(t){e.$set(e.form,"relatedYearsConformNot",t)},expression:"form.relatedYearsConformNot"}},[r("el-radio",{attrs:{label:1}},[e._v("符合")]),r("el-radio",{attrs:{label:2}},[e._v("不符合")]),r("el-radio",{attrs:{label:3}},[e._v("不适用")])],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"relatedYearsRemarks\t"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.relatedYearsRemarks,callback:function(t){e.$set(e.form,"relatedYearsRemarks",t)},expression:"form.relatedYearsRemarks\t"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"相关培训：","label-width":"110px",prop:"relatedTraining"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.relatedTraining,callback:function(t){e.$set(e.form,"relatedTraining",t)},expression:"form.relatedTraining"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"radio-group",staticStyle:{"text-align":"center"},attrs:{prop:"relatedTrainingConformNot"}},[r("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType},model:{value:e.form.relatedTrainingConformNot,callback:function(t){e.$set(e.form,"relatedTrainingConformNot",t)},expression:"form.relatedTrainingConformNot"}},[r("el-radio",{attrs:{label:1}},[e._v("符合")]),r("el-radio",{attrs:{label:2}},[e._v("不符合")]),r("el-radio",{attrs:{label:3}},[e._v("不适用")])],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"relatedTrainingRemarks"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.relatedTrainingRemarks,callback:function(t){e.$set(e.form,"relatedTrainingRemarks",t)},expression:"form.relatedTrainingRemarks"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"相关经验：","label-width":"110px",prop:"relevantExperience"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.relevantExperience,callback:function(t){e.$set(e.form,"relevantExperience",t)},expression:"form.relevantExperience"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"radio-group",staticStyle:{"text-align":"center"},attrs:{prop:"relevantExperienceConformNot"}},[r("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType},model:{value:e.form.relevantExperienceConformNot,callback:function(t){e.$set(e.form,"relevantExperienceConformNot",t)},expression:"form.relevantExperienceConformNot"}},[r("el-radio",{attrs:{label:1}},[e._v("符合")]),r("el-radio",{attrs:{label:2}},[e._v("不符合")]),r("el-radio",{attrs:{label:3}},[e._v("不适用")])],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"relevantExperienceRemarks"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.relevantExperienceRemarks,callback:function(t){e.$set(e.form,"relevantExperienceRemarks",t)},expression:"form.relevantExperienceRemarks"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"上岗证：","label-width":"110px",prop:"workLicense"}},[r("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.workLicense,callback:function(t){e.$set(e.form,"workLicense",t)},expression:"form.workLicense"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"radio-group",staticStyle:{"text-align":"center"},attrs:{prop:"workLicenseConformNot"}},[r("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType},model:{value:e.form.workLicenseConformNot,callback:function(t){e.$set(e.form,"workLicenseConformNot",t)},expression:"form.workLicenseConformNot"}},[r("el-radio",{attrs:{label:1}},[e._v("符合")]),r("el-radio",{attrs:{label:2}},[e._v("不符合")]),r("el-radio",{attrs:{label:3}},[e._v("不适用")])],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{prop:"workLicenseRemarks"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.workLicenseRemarks,callback:function(t){e.$set(e.form,"workLicenseRemarks",t)},expression:"form.workLicenseRemarks"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticStyle:{height:"450px"},attrs:{label:"岗位职责：","label-width":"110px",prop:"jobResponsibilitiesTem"}},[r("el-checkbox-group",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType},on:{change:e.selectResponsibilities},model:{value:e.form.jobResponsibilitiesTem,callback:function(t){e.$set(e.form,"jobResponsibilitiesTem",t)},expression:"form.jobResponsibilitiesTem"}},e._l(e.dict.type.responsibilities_list,(function(e){return r("el-checkbox",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"radio-group",staticStyle:{"text-align":"center",height:"420px"},attrs:{prop:"jobResponsibilitiesConformNot"}},[r("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType},model:{value:e.form.jobResponsibilitiesConformNot,callback:function(t){e.$set(e.form,"jobResponsibilitiesConformNot",t)},expression:"form.jobResponsibilitiesConformNot"}},[r("el-radio",{attrs:{label:1}},[e._v("符合")]),r("el-radio",{attrs:{label:2}},[e._v("不符合")]),r("el-radio",{attrs:{label:3}},[e._v("不适用")])],1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticStyle:{height:"420px"},attrs:{prop:"jobResponsibilitiesRemarks"}},[r("el-input",{attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType,size:"small"},model:{value:e.form.jobResponsibilitiesRemarks,callback:function(t){e.$set(e.form,"jobResponsibilitiesRemarks",t)},expression:"form.jobResponsibilitiesRemarks"}})],1)],1),r("el-col",{attrs:{span:24}},[r("span",{staticStyle:{"padding-left":"110px","font-size":"14px"}},[e._v("备注：岗位职责达到5项及5项以上为符合")])]),r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{label:"综合评价：","label-width":"110px",prop:"comprehensiveAssessment"}},[r("el-radio-group",{directives:[{name:"removeAriaHidden",rawName:"v-removeAriaHidden"}],attrs:{disabled:"view"===e.operationType||"confirm"===e.operationType},model:{value:e.form.comprehensiveAssessment,callback:function(t){e.$set(e.form,"comprehensiveAssessment",t)},expression:"form.comprehensiveAssessment"}},[r("el-radio",{attrs:{label:"Qualified this position"}},[e._v("可胜任该岗位")]),r("el-radio",{attrs:{label:"You can work while training"}},[e._v("可边培训边上岗")]),r("el-radio",{attrs:{label:"Iconpetent for the position"}},[e._v("不胜任该岗位")])],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"confirmOperatingPersonnelId",label:"确认人："}},[r("el-select",{attrs:{clearable:"",disabled:"view"===e.operationType||"confirm"===e.operationType,filterable:"",size:"small"},model:{value:e.form.confirmOperatingPersonnelId,callback:function(t){e.$set(e.form,"confirmOperatingPersonnelId",t)},expression:"form.confirmOperatingPersonnelId"}},e._l(e.responsibleOptions,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"confirmDate",label:"确认时间："}},[r("el-date-picker",{attrs:{format:"yyyy-MM-dd",disabled:"view"===e.operationType||"confirm"===e.operationType,placeholder:"选择日期",size:"small","value-format":"yyyy-MM-dd HH:mm:ss",type:"date"},model:{value:e.form.confirmDate,callback:function(t){e.$set(e.form,"confirmDate",t)},expression:"form.confirmDate"}})],1)],1)],1):e._e(),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["view"!==e.operationType?r("el-button",{on:{click:e.resetForm}},[e._v("取消")]):e._e(),"view"!==e.operationType&&"confirm"!==e.operationType?r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]):e._e(),"view"!==e.operationType&&"confirm"!==e.operationType?r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm1}},[e._v("提交并通知")]):e._e(),"confirm"===e.operationType?r("el-button",{attrs:{type:"primary"},on:{click:e.verifyGet}},[e._v("确认")]):e._e()],1)],1)],1)},a=[],o=r("5530"),n=(r("c740"),r("a15b"),r("d81d"),r("14d9"),r("a9e3"),r("d3b7"),r("ac1f"),r("5319"),r("841c"),r("0643"),r("a573"),r("00d5")),s=r("b775");function l(e){return Object(s["a"])({url:"/personPersonnelCapacity/personPersonnelCapacityPage",method:"get",params:e})}function c(e){return Object(s["a"])({url:"/personPersonnelCapacity/addOrUpdatePersonPersonnelCapacity",method:"post",data:e})}function m(e){return Object(s["a"])({url:"/personPersonnelCapacity/submitConfirmPersonnelCapability",method:"post",data:e})}function p(e){return Object(s["a"])({url:"/personPersonnelCapacity/confirmPersonnelCapability",method:"post",data:e})}function d(e){return Object(s["a"])({url:"/personPersonnelCapacity/deletePersonPersonnelCapacity",method:"delete",params:e})}function u(e){return Object(s["a"])({url:"/personPersonnelCapacity/exportPersonnelCapacity",method:"get",params:e,responseType:"blob"})}var f=r("1839"),b=r("2f62"),g={props:{departId:{type:Number,default:function(){return null}},isDepartment:{type:Boolean,default:!1}},components:{limsTable:n["a"]},computed:Object(o["a"])({},Object(b["b"])(["userId"])),dicts:["responsibilities_list"],data:function(){var e=this;return{userName:"",tableData:[],search:{size:20,current:1,total:0},title:"新增能力认定",operationType:"",yearColumnData:[{label:"岗位",prop:"postName",width:"100"},{label:"姓名",prop:"userName",width:"100"},{label:"学历",prop:"academicDegree",width:"100"},{label:"专业",prop:"major",width:"100"},{label:"职称",prop:"professionalTitle",width:"100"},{dataType:"slot",label:"岗位职责",prop:"jobResponsibilities",width:"400",slot:"jobResponsibilities"},{dataType:"tag",label:"综合评价",width:"140px",prop:"comprehensiveAssessment",formatData:function(e){return"Qualified this position"==e?"可胜任该岗位":"You can work while training"==e?"可边培训边上岗":"不胜任该岗位"},formatType:function(e){return"Qualified this position"==e?"success":"You can work while training"==e?"warning":"danger"}},{label:"确认人",prop:"confirmOperatingPersonnelName",width:"100"},{label:"确认日期",prop:"confirmDate",width:"160"},{dataType:"action",label:"操作",fixed:"right",operation:[{name:"编辑",type:"text",clickFun:function(t){e.handleViewClick("edit",t)},disabled:function(e){return!!e.confirmDate}},{name:"查看",type:"text",clickFun:function(t){e.handleViewClick("view",t)}},{name:"导出",type:"text",clickFun:function(t){e.downLoadPost(t)}},{name:"确认",type:"text",clickFun:function(t){e.handleViewClick("confirm",t)},disabled:function(t){return!(!t.confirmDate&&e.userId==t.confirmOperatingPersonnelId)}},{name:"删除",type:"text",color:"#f56c6c",clickFun:function(t){e.deletePost(t.id)},disabled:function(e){return!!e.confirmDate}}]}],yearLoading:!1,dialogVisible:!1,verifyGetId:"",form:{jobResponsibilitiesTem:[]},responsibleOptions:[],rules:{confirmOperatingPersonnelId:[{required:!0,message:"请选择确认人",trigger:"change"}],confirmDate:[{required:!0,message:"请选择确认时间",trigger:"change"}],userId:[{required:!0,message:"请选择人员",trigger:"change"}],academicDegree:[{required:!0,message:"请输入学历查核结果",trigger:"blur"}],academicConformNot:[{required:!0,message:"请选择学历符合与否",trigger:"change"}],relatedYears:[{required:!0,message:"请输入相关年限查核结果",trigger:"blur"}],relatedYearsConformNot:[{required:!0,message:"请选择相关年限符合与否",trigger:"change"}],relatedTraining:[{required:!0,message:"请输入相培训限查核结果",trigger:"blur"}],relatedTrainingConformNot:[{required:!0,message:"请选择相关培训符合与否",trigger:"change"}],relevantExperience:[{required:!0,message:"请输入相关经验查核结果",trigger:"blur"}],relevantExperienceConformNot:[{required:!0,message:"请选择相关经验符合与否",trigger:"change"}],workLicense:[{required:!0,message:"请输入上岗证查核结果",trigger:"blur"}],workLicenseConformNot:[{required:!0,message:"请选择上岗证符合与否",trigger:"change"}],jobResponsibilitiesTem:[{required:!0,message:"请选择岗位职责查核结果",trigger:"change"}],jobResponsibilitiesConformNot:[{required:!0,message:"请选择岗位职责符合与否",trigger:"change"}],comprehensiveAssessment:[{required:!0,message:"请选择综合评价",trigger:"change"}]},responsibilities:[]}},mounted:function(){this.getList(this.departId)},methods:{downLoadPost:function(e){var t=this;u({id:e.id}).then((function(e){t.outLoading=!1;var r=new Blob([e],{type:"application/msword"});t.$download.saveAs(r,"人员能力导出.docx")}))},refreshTable:function(){this.getList(this.departId)},getList:function(e){var t=this;this.search.userId=e;var r=this.isDepartment?{departmentId:this.search.userId,size:this.search.size,current:this.search.current,userName:this.userName}:{userId:this.search.userId,size:this.search.size,current:this.search.current,userName:this.userName};this.yearLoading=!0,l(r).then((function(e){t.yearLoading=!1,t.tableData=e.data.records,t.search.total=e.data.total})).catch((function(e){console.log(e),t.yearLoading=!1}))},pagination:function(e){this.search.size=e.limit,this.refreshTable()},selectResponsibilities:function(e){var t=this,r=[];e.map((function(e){var i=t.dict.type.responsibilities_list.findIndex((function(t){return t.label===e}));i>-1&&r.push(t.dict.type.responsibilities_list[i].value)})),this.form.jobResponsibilities=r.join(",")},changeLine:function(e){return e?e.replace(/,/g,"<br>"):void 0},addAppointPost:function(e){this.operationType=e,this.title="新增能力认定",this.dialogVisible=!0,this.form={jobResponsibilitiesTem:[]},this.form.userId=this.departId,this.getUserList()},handleViewClick:function(e,t){this.operationType=e,this.verifyGetId=t.id,this.title="edit"===this.operationType?"修改能力认定":"查看能力认定",this.dialogVisible=!0,this.form=Object(o["a"])({},t),this.form.responsibilities?this.$set(this.form,"jobResponsibilitiesTem",this.form.responsibilities.split(",")):this.$set(this.form,"jobResponsibilitiesTem",[]),this.getUserList()},submitForm:function(){var e=this;this.$refs.infoForm.validate((function(t){t&&c(e.form).then((function(t){200==t.code&&(e.$message.success("提交成功"),e.getList(e.departId),e.dialogVisible=!1)}))}))},submitForm1:function(){var e=this;this.$refs.infoForm.validate((function(t){t&&m(e.form).then((function(t){200==t.code&&(e.$message.success("提交成功"),e.getList(e.departId),e.dialogVisible=!1)}))}))},verifyGet:function(){var e=this;p({id:this.verifyGetId}).then((function(t){200==t.code&&(e.$message.success("确认成功"),e.resetForm(),e.getList(e.departId))}))},deletePost:function(e){var t=this;this.$confirm("此操作将永久删除此数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){d({id:e}).then((function(e){200==e.code&&(t.$message.success("删除成功"),t.getList(t.departId))}))})).catch((function(){t.$message.error("删除失败")}))},resetForm:function(){this.$refs.infoForm.resetFields(),this.dialogVisible=!1},getUserList:function(){var e=this;Object(f["z"])({type:2}).then((function(t){200==t.code&&(e.responsibleOptions=t.data)}))}},watch:{departId:{handler:function(e,t){this.getList(e)}}}},h=g,v=(r("7b2d"),r("2877")),y=Object(v["a"])(h,i,a,!1,null,"403761db",null);t["default"]=y.exports},"7b2d":function(e,t,r){"use strict";r("d6e4")},d6e4:function(e,t,r){}}]);