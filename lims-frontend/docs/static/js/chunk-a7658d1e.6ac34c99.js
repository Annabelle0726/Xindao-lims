(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7658d1e","chunk-18ea0e8c"],{"3b3e":function(e,t,n){},"5b4a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add"},[n("el-dialog",{attrs:{title:e.isEdit?"编辑附件资料":"新增附件资料",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.form,"label-width":"130px",size:"medium"}},[n("el-form-item",{attrs:{label:"证书编号",prop:"certificateNumber"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"},model:{value:e.form.certificateNumber,callback:function(t){e.$set(e.form,"certificateNumber",t)},expression:"form.certificateNumber"}})],1),n("el-form-item",{attrs:{label:"被任职人员",prop:"userId"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.userList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"任职岗位",prop:"post"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.post,callback:function(t){e.$set(e.form,"post",t)},expression:"form.post"}})],1),n("el-form-item",{attrs:{label:"理论考试成绩",prop:"num1"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.num1,callback:function(t){e.$set(e.form,"num1",t)},expression:"form.num1"}})],1),n("el-form-item",{attrs:{label:"操作技能考试成绩",prop:"num2"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.num2,callback:function(t){e.$set(e.form,"num2",t)},expression:"form.num2"}})],1),n("el-form-item",{attrs:{label:"操作类型",prop:"operationType"}},[n("el-input",{attrs:{placeholder:"请选择"},model:{value:e.form.operationType,callback:function(t){e.$set(e.form,"operationType",t)},expression:"form.operationType"}})],1),n("el-row",[n("el-col",{attrs:{span:20}},[n("el-form-item",{attrs:{label:"上岗证书"}},[n("el-input",{attrs:{size:"small",disabled:""},model:{value:e.form.systemFileName,callback:function(t){e.$set(e.form,"systemFileName",t)},expression:"form.systemFileName"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteFile(e.form.systemFileName)}},slot:"append"})],1)],1)],1),n("el-col",{attrs:{span:4}},[n("el-upload",{ref:"upload",staticStyle:{float:"left",margin:"0 12px 0 20px"},attrs:{action:e.action,headers:e.uploadHeader,"show-file-list":!1,"on-success":e.onSuccess}},[n("el-button",{staticClass:"uploadFile",attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("上传")])],1)],1)],1),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{attrs:{placeholder:"请选择"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1),n("div",{staticClass:"foot",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},o=[],a=n("c14f"),i=n("1da1"),u=(n("b0c0"),n("a9e3"),n("cfb9")),s=n("b558"),c=n("ec9a"),l={data:function(){return{isEdit:!1,dialogVisible:!1,form:{id:void 0,certificateNumber:void 0,userId:void 0,post:void 0,operationType:void 0,fileList:[],fileName:void 0,systemFileName:void 0,remarks:void 0,num2:void 0,num1:void 0},rules:{certificateNumber:[{required:!0,message:"请输入证书编号",trigger:"blur"}],userId:[{required:!0,message:"请选择被任职人员",trigger:"change"}],post:[{required:!0,message:"任职岗位",trigger:"blur"}],operationType:[{required:!0,message:"操作类型",trigger:"blur"}]},loading:!1,userList:[]}},computed:{action:function(){return this.javaApi+"/personBasicInfo/saveCNASFile"}},methods:{onSuccess:function(e,t,n){this.$set(this.form,"systemFileName",e.data)},deleteFile:function(e){var t=this;Object(u["j"])({fileName:e}).then((function(e){t.$message.success("删除成功！"),t.$set(t.form,"systemFileName",null)}))},openDialog:function(e,t){var n=this;return Object(i["a"])(Object(a["a"])().m((function r(){return Object(a["a"])().w((function(r){while(1)switch(r.n){case 0:return r.n=1,n.getUserList();case 1:n.dialogVisible=!0,t?(n.isEdit=!0,n.form.id=e.id,n.form.certificateNumber=e.certificateNumber,n.form.userId=Number(e.userId),n.form.post=e.post,n.form.operationType=e.operationType,n.form.systemFileName=e.systemFileName,n.form.remarks=e.remarks,n.form.num1=e.num1,n.form.num2=e.num2):n.resetForm("ruleForm");case 2:return r.a(2)}}),r)})))()},closeDialog:function(){this.resetForm("ruleForm"),this.dialogVisible=!1},getUserList:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:Object(s["w"])({type:2}).then((function(t){e.userList=t.data}));case 1:return t.a(2)}}),t)})))()},submitForm:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(t){var n={id:e.form.id,certificateNumber:e.form.certificateNumber,userId:e.form.userId,post:e.form.post,operationType:e.form.operationType,systemFileName:e.form.systemFileName,remarks:e.form.remarks,num1:e.form.num1,num2:e.form.num2};e.loading=!0,Object(c["b"])(n).then((function(t){e.loading=!1,e.closeDialog(),e.$emit("refresh")})).catch((function(t){e.loading=!1}))}}))},beforeUpload:function(e){return e.size>10485760?(this.$message.error("上传文件不超过10M"),this.$refs.upload.clearFiles(),!1):(this.form.fileList=[e],this.form.fileName=e.name,!0)}}},d=l,m=(n("bc7c"),n("2877")),f=Object(m["a"])(d,r,o,!1,null,"51ce1ada",null);t["default"]=f.exports},"5fd5":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n("b775");function o(e){return Object(r["a"])({url:"/system/custom/selectCustomPageList",method:"get",params:e})}function a(e){return Object(r["a"])({url:"/system/custom/addCustom",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/system/custom/upCustom",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/system/custom/delCustomById",method:"delete",params:e})}},b558:function(e,t,n){"use strict";n.d(t,"v",(function(){return o})),n.d(t,"A",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"z",(function(){return u})),n.d(t,"y",(function(){return s})),n.d(t,"w",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"u",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"D",(function(){return y})),n.d(t,"l",(function(){return P})),n.d(t,"t",(function(){return I})),n.d(t,"C",(function(){return v})),n.d(t,"b",(function(){return B})),n.d(t,"x",(function(){return k})),n.d(t,"s",(function(){return w})),n.d(t,"h",(function(){return N})),n.d(t,"k",(function(){return x})),n.d(t,"f",(function(){return T})),n.d(t,"r",(function(){return F})),n.d(t,"m",(function(){return D})),n.d(t,"q",(function(){return A})),n.d(t,"B",(function(){return $}));var r=n("b775");function o(e){return Object(r["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:e})}function a(e){return Object(r["a"])({url:"/insOrderPlan/updateProductOnPlan",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/insOrderPlan/claimInsOrderPlan",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/insOrderPlan/upPlanUser2",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/insOrderPlan/upPlanUser",method:"post",params:e})}function c(e){return Object(r["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:e})}function l(e){return Object(r["a"])({url:"/insOrderPlan/getBindingProductByProductId",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/insOrderPlan/getProductTreeByProductId",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/insOrderPlan/bindingProductTreeByProductId",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/insOrderPlan/delProductTreeByProductId",method:"delete",params:e})}function p(e){return Object(r["a"])({url:"/insOrderPlan/selectInsOrderPlanList",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/insOrderPlan/doInsOrder",method:"get",params:e})}function h(e){return Object(r["a"])({url:"/insOrderPlan/getCableTag",method:"get",params:e})}function g(e){return Object(r["a"])({url:"/insOrderPlan/getRepetitionTag",method:"get",params:e})}function O(e){return Object(r["a"])({url:"/insOrderPlan/getRawMaterialTag",method:"get",params:e})}function j(e){return Object(r["a"])({url:"/deviceScope/dataCollection",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/insOrderPlan/write",method:"post",data:e})}function P(e){return Object(r["a"])({url:"/insOrderPlan/getInsProduct",method:"get",params:e})}function I(e){return Object(r["a"])({url:"/deviceScope/search",method:"get",params:e})}function v(e){return Object(r["a"])({url:"/insOrderPlan/verifyPlan",method:"post",params:e})}function B(e){return Object(r["a"])({url:"/insOrderPlan/checkSubmitPlan",method:"post",params:e})}function k(e){return Object(r["a"])({url:"/insOrderPlan/submitPlan",method:"post",params:e})}function w(e){return Object(r["a"])({url:"/insOrderPlan/saveInsContext",method:"post",data:e})}function N(e){return Object(r["a"])({url:"/insOrderPlan/downFile",method:"get",params:e})}function x(e){return Object(r["a"])({url:"/insOrderPlan/getFileList",method:"get",params:e})}function T(e){return Object(r["a"])({url:"/insOrderPlan/delfile",method:"delete",params:e})}function F(e){return Object(r["a"])({url:"/insOrderPlan/inspectionOrderDetailsTaskSwitching",method:"get",params:e})}function D(e){return Object(r["a"])({url:"/insOrderPlan/getInsProductUnqualifiedRetest",method:"get",params:e})}function A(e){return Object(r["a"])({url:"/insOrderPlan/getWorkingHoursByOrderId",method:"get",params:e})}function $(e){return Object(r["a"])({url:"/insOrderPlan/updateWorkingHours",method:"post",data:e})}},bc7c:function(e,t,n){"use strict";n("3b3e")},cfb9:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"t",(function(){return a})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"s",(function(){return d})),n.d(t,"o",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"v",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"m",(function(){return O})),n.d(t,"u",(function(){return j})),n.d(t,"n",(function(){return y})),n.d(t,"a",(function(){return P})),n.d(t,"i",(function(){return I})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return B})),n.d(t,"j",(function(){return k}));var r=n("b775");function o(e){return Object(r["a"])({url:"/system/newUser/delUserDepardLimsId",method:"delete",params:e})}function a(e){return Object(r["a"])({url:"/system/newUser/upUserDepardLimsId",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/personBasicInfo/exportPersonBasicInfo",method:"get",data:e,responseType:"blob"})}function u(e){return Object(r["a"])({url:"/personBasicInfo/exportPersonBasicInfoById",method:"get",params:e,responseType:"blob"})}function s(e){return Object(r["a"])({url:"/personBasicInfo/basicInformationOfPersonnelSelectPage",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/personBasicInfo/delDepartmentLims",method:"delete",params:e})}function l(e){return Object(r["a"])({url:"/personBasicInfo/addDepartmentLims",method:"post",data:e})}function d(){return Object(r["a"])({url:"/personBasicInfo/selectCNSAPersonTree",method:"get"})}function m(e){return Object(r["a"])({url:"/personBasicInfo/getBasicInfoFileList",method:"get",params:e})}function f(e){return Object(r["a"])({url:"/personBasicInfo/delBasicInfoFileList",method:"delete",params:e})}function p(e){return Object(r["a"])({url:"/personBasicInfo/addBasicInfoWork",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/personBasicInfo/updateBasicInfoWorkList",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/personBasicInfo/delBasicInfoWorkList",method:"delete",params:e})}function g(e){return Object(r["a"])({url:"/personBasicInfo/getBasicInfoWorkList",method:"get",params:e})}function O(e){return Object(r["a"])({url:"/personBasicInfo/getAnnex",method:"get",params:e})}function j(e){return Object(r["a"])({url:"/personBasicInfo/updateAnnex",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/personBasicInfo/getAnnexByUserId",method:"get",params:e})}function P(e){return Object(r["a"])({url:"/personBasicInfo/addAnnex",method:"post",data:e})}function I(e){return Object(r["a"])({url:"/personBasicInfo/deleteAnnex",method:"delete",params:e})}function v(e){return Object(r["a"])({url:"/personBasicInfo/getCNASPersonnelInfo",method:"get",params:e})}function B(e){return Object(r["a"])({url:"/personBasicInfo/saveCNASPersonnelInfo",method:"post",data:e})}function k(e){return Object(r["a"])({url:"/personBasicInfo/deleteCNASFile",method:"delete",params:e})}},ea76:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex_column"},[n("div",[e.isDepartment?n("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.getTableData}},[e._v("刷新")]),n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.openDialog}},[e._v("新增")])],1):e._e(),n("lims-table",{attrs:{tableData:e.tableData,column:e.columnData,height:"calc(100vh - 18em)",page:e.pagination,tableLoading:e.loading},on:{pagination:e.page}})],1),n("Add",{ref:"mandateModal",on:{refresh:e.getTableData}})],1)},o=[],a=n("c14f"),i=n("1da1"),u=(n("a9e3"),n("5b4a")),s=n("00d5"),c=n("ec9a"),l=(n("5fd5"),{components:{limsTable:s["a"],Add:u["default"]},props:{departId:{type:Number,default:function(){return null}},isDepartment:{type:Boolean,default:!1}},data:function(){var e=this;return{columnData:[{label:"序号",prop:"id"},{label:"证书编号",prop:"certificateNumber"},{label:"被任职人员",prop:"userName"},{label:"任职岗位",prop:"post"},{label:"理论考试成绩",prop:"num1",width:120},{label:"操作技能考试成绩",prop:"num2",width:150},{label:"操作时间",prop:"updateTime"},{label:"备注",prop:"remarks",width:300},{label:"操作",dataType:"action",width:160,fixed:"right",operation:[{name:"编辑",type:"text",clickFun:function(t){e.openDialog(t,!0)}},{name:"下载",type:"text",clickFun:function(t){e.handleDown(t)}},{name:"删除",type:"text",color:"#f56c6c",clickFun:function(t){e.deleteNotify(t.id)}}]}],tableData:[],pagination:{current:1,size:20,total:0},loading:!1}},mounted:function(){this.getTableData()},methods:{openDialog:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$refs.mandateModal.openDialog(e,t)},getTableData:function(){var e=this;return Object(i["a"])(Object(a["a"])().m((function t(){var n;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:n=e.isDepartment?{departLimsId:e.departId,current:e.pagination.current,size:e.pagination.pageSize}:{userId:e.departId,current:e.pagination.current,size:e.pagination.pageSize},e.loading=!0,Object(c["a"])(n).then((function(t){e.loading=!1,e.tableData=t.data.records,e.pagination.total=t.data.total})).catch((function(t){e.loading=!1}));case 1:return t.a(2)}}),t)})))()},page:function(e){this.pagination.size=e.limit,this.getTableData()},deleteNotify:function(e){var t=this;this.$confirm("是否删除当前数据?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["c"])({id:e}).then((function(e){t.$message.success("删除成功"),t.getTableData()})).catch((function(e){t.$message.error("删除失败")}))})).catch((function(){}))},handleDown:function(e){var t=this;Object(c["d"])({id:e.id}).then((function(n){var r=new Blob([n],{type:"application/octet-stream"});t.$download.saveAs(r,"任职授权-"+e.certificateNumber+"-"+e.post+".docx")}))}},watch:{departId:{handler:function(e,t){e&&this.getTableData()}}}}),d=l,m=n("2877"),f=Object(m["a"])(d,r,o,!1,null,"47e07da7",null);t["default"]=f.exports},ec9a:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n("b775");function o(e){return Object(r["a"])({url:"/personPostAuthorizationRecord/PersonPostAuthorizationRecordPage",method:"get",params:e})}function a(e){return Object(r["a"])({url:"/personPostAuthorizationRecord/deletePersonPostAuthorizationRecord",method:"delete",params:e})}function i(e){return Object(r["a"])({url:"/personPostAuthorizationRecord/exportPersonPostAuthorizationRecord",method:"get",params:e,responseType:"blob"})}function u(e){return Object(r["a"])({url:"/personPostAuthorizationRecord/addOrUpdatePersonPostAuthorizationRecord",method:"post",data:e})}}}]);