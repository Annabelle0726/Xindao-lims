(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83177966","chunk-6d50f6fe","chunk-491cb740"],{"0180":function(t,e,r){"use strict";r.d(e,"z",(function(){return a})),r.d(e,"j",(function(){return i})),r.d(e,"f",(function(){return o})),r.d(e,"o",(function(){return s})),r.d(e,"i",(function(){return l})),r.d(e,"r",(function(){return u})),r.d(e,"b",(function(){return d})),r.d(e,"y",(function(){return c})),r.d(e,"s",(function(){return p})),r.d(e,"t",(function(){return f})),r.d(e,"n",(function(){return m})),r.d(e,"w",(function(){return h})),r.d(e,"u",(function(){return b})),r.d(e,"h",(function(){return g})),r.d(e,"k",(function(){return O})),r.d(e,"l",(function(){return w})),r.d(e,"m",(function(){return v})),r.d(e,"e",(function(){return y})),r.d(e,"d",(function(){return S})),r.d(e,"c",(function(){return L})),r.d(e,"x",(function(){return j})),r.d(e,"p",(function(){return x})),r.d(e,"q",(function(){return T})),r.d(e,"a",(function(){return I})),r.d(e,"v",(function(){return k})),r.d(e,"g",(function(){return M}));var n=r("b775");function a(t){return Object(n["a"])({url:"/standardTree/updateTreeSort",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/standardTree/resetTreeDragBatch",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/standardTree/delStandardTree",method:"delete",params:t})}function s(t){return Object(n["a"])({url:"/standardTree/selectStandardTreeList",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/laboratoryScope/obtainItemParameterList",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/capacityScope/selectTestObjectByName",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/standardTree/addStandardTree",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/standardTree/updateStandardTree",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/standardTree/selectsStandardMethodByFLSSM",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/standardTree/upStandardProductList",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/standardTree/selectStandardProductListByMethodId",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/standardTree/updateSection",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/standardTree/upStandardProducts",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/StandardTemplate/getStandardTemplate",method:"get",params:t})}function O(t){return Object(n["a"])({url:"/standardMethod/selectStandardMethods",method:"get",params:t})}function w(t){return Object(n["a"])({url:"/standardTree/selectStandardProductByMethodId",method:"post",data:t})}function v(t){return Object(n["a"])({url:"/standardTree/selectStandardProductEnumByMethodId",method:"post",data:t})}function y(t){return Object(n["a"])({url:"/standardTree/copyStandardProductSort",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/standardTree/copyStandardProductOne",method:"post",data:t})}function L(t){return Object(n["a"])({url:"/standardTree/copyStandardProductList",method:"post",data:t})}function j(t){return Object(n["a"])({url:"/standardTree/updateStandardProductListBatch",method:"post",data:t})}function x(t){return Object(n["a"])({url:"/standardTree/selectStandardTreeList2",method:"get",params:t})}function T(t){return Object(n["a"])({url:"/standardTree/selectSupplierAsk",method:"post",data:t})}function I(t){return Object(n["a"])({url:"/standardTree/addProductSupplierAsk",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/standardTree/updateProductSupplierAsk",method:"post",data:t})}function M(t){return Object(n["a"])({url:"/standardTree/deleteProductSupplierAsk",method:"delete",params:t})}},"055c":function(t,e,r){"use strict";r("f8e60")},"07ac":function(t,e,r){"use strict";var n=r("23e7"),a=r("6f53").values;n({target:"Object",stat:!0},{values:function(t){return a(t)}})},2381:function(t,e,r){"use strict";r.d(e,"n",(function(){return a})),r.d(e,"l",(function(){return i})),r.d(e,"k",(function(){return o})),r.d(e,"m",(function(){return s})),r.d(e,"q",(function(){return l})),r.d(e,"D",(function(){return u})),r.d(e,"o",(function(){return d})),r.d(e,"r",(function(){return c})),r.d(e,"G",(function(){return p})),r.d(e,"h",(function(){return f})),r.d(e,"B",(function(){return m})),r.d(e,"A",(function(){return h})),r.d(e,"e",(function(){return b})),r.d(e,"a",(function(){return g})),r.d(e,"E",(function(){return O})),r.d(e,"H",(function(){return w})),r.d(e,"b",(function(){return v})),r.d(e,"c",(function(){return y})),r.d(e,"d",(function(){return S})),r.d(e,"F",(function(){return L})),r.d(e,"z",(function(){return j})),r.d(e,"f",(function(){return x})),r.d(e,"w",(function(){return T})),r.d(e,"u",(function(){return I})),r.d(e,"x",(function(){return k})),r.d(e,"v",(function(){return M})),r.d(e,"t",(function(){return C})),r.d(e,"I",(function(){return _})),r.d(e,"s",(function(){return P})),r.d(e,"C",(function(){return $})),r.d(e,"p",(function(){return z})),r.d(e,"j",(function(){return R})),r.d(e,"i",(function(){return E})),r.d(e,"g",(function(){return A})),r.d(e,"y",(function(){return B}));var n=r("b775");function a(t){return Object(n["a"])({url:"/rawMaterialOrder/getIfsByStateOne",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/rawMaterialOrder/getIfsByOver",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/rawMaterialOrder/getIfsByAll",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/rawMaterialOrder/getIfsByQuarter",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/system/newUser/getUserNow",method:"get"})}function u(t){return Object(n["a"])({url:"/standardTree/selectStandardMethodEnum",method:"get"})}function d(t){return Object(n["a"])({url:"/insOrder/getInsOrder",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/rawMaterialOrder/notificationRawOrder",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/rawMaterialOrder/selectStandardTreeListByPartNo",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/rawMaterialOrder/delRawMaterOrderTemplate",method:"delete",params:t})}function m(t){return Object(n["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplateById",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/rawMaterialOrder/selectRawMaterOrderTemplate",method:"get",params:t})}function b(t){return Object(n["a"])({url:"/rawMaterialOrder/addRawMaterOrderTemplate",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/rawMaterialOrder/addExemptionOrder",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/standardTree/selectStandardProductList",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/standardTree/selectsStandardMethodByFLSSM",method:"get",params:t})}function v(t){return Object(n["a"])({url:"/insOrder/addInsOrder",method:"post",data:t})}function y(t){return Object(n["a"])({url:"/rawMaterialOrder/addRawCopperOrder",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/rawMaterialOrder/addRawCopperOrderExemptionOrder",method:"post",data:t})}function L(){return Object(n["a"])({url:"/standardTree/selectStandardTreeList2",method:"get"})}function j(t){return Object(n["a"])({url:"/insOrder/selectInsOrderTemplate",method:"get",params:t})}function x(t){return Object(n["a"])({url:"/rawMaterialOrder/concessionRelease",method:"post",data:t})}function T(t){return Object(n["a"])({url:"/rawMaterialOrder/repealQuarterRawOrder",method:"post",data:t})}function I(t){return Object(n["a"])({url:"/rawMaterialOrder/rawOrderRelease",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/rawMaterialOrder/revokeInspectionReport",method:"post",data:t})}function M(t){return Object(n["a"])({url:"/rawMaterialOrder/repealEnterRawOrder",method:"post",data:t})}function C(t){return Object(n["a"])({url:"/rawMaterialOrder/rawAllExport",method:"get",data:t,responseType:"blob"})}function _(t){return Object(n["a"])({url:"/insOrder/updateEntrustCode",method:"post",data:t})}function P(t){return Object(n["a"])({url:"/rawMaterialOrder/printLabel",method:"post",data:t})}function $(t){return Object(n["a"])({url:"/insOrder/selectSampleAndProductByOrderId",method:"get",params:t})}function z(t){return Object(n["a"])({url:"/insOrder/getRetestResult",method:"get",params:t})}function R(t){return Object(n["a"])({url:"/insOrderPlan/getFileList",method:"get",params:t})}function E(t){return Object(n["a"])({url:"/insOrderPlan/downFile",method:"get",params:t})}function A(t){return Object(n["a"])({url:"/insOrderPlan/delfile",method:"delete",params:t})}function B(t){return Object(n["a"])({url:"/insOrderPlan/saveUnqualifiedContext",method:"post",data:t})}},2771:function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"i",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"h",(function(){return s})),r.d(e,"f",(function(){return l})),r.d(e,"g",(function(){return u})),r.d(e,"c",(function(){return d})),r.d(e,"b",(function(){return c})),r.d(e,"e",(function(){return p}));var n=r("b775");function a(){return Object(n["a"])({url:"/finishProductSpotCheck/getQuarterOnOrder",method:"get"})}function i(t){return Object(n["a"])({url:"/insOrder/updateInsOrder",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/insOrder/addInsOrder",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/insOrder/upInsOrderOfState",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/insOrder/selectOrderManDay",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/insOrder/upInsOrder",method:"post",params:t})}function d(t){return Object(n["a"])({url:"/insOrder/delInsOrderTemplate",method:"delete",params:t})}function c(t){return Object(n["a"])({url:"/insOrder/addInsOrderTemplate",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/insOrder/selectInsOrderTemplateById",method:"get",params:t})}},"58d5":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ins_order_config"},[r("div",{staticClass:"search_form"},[r("div",{staticClass:"search_input"},[r("el-radio-group",{staticStyle:{"margin-right":"20px"},attrs:{size:"small"},on:{input:t.changeTab},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[r("el-radio-button",{attrs:{label:"绝缘"}},[t._v("绝 缘")])],1),r("el-form",{ref:"entity",attrs:{model:t.auxiliaryWireCore,size:"small",inline:!0}},[r("el-form-item",{attrs:{label:"芯数",prop:"num"}},[r("el-select",{attrs:{"allow-create":"",clearable:"","default-first-option":"",filterable:"",multiple:"",size:"small"},model:{value:t.auxiliaryWireCore.num,callback:function(e){t.$set(t.auxiliaryWireCore,"num",e)},expression:"auxiliaryWireCore.num"}},t._l(t.quantityList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),r("el-form-item",{attrs:{label:"检验标准",prop:"standardMethodListId"}},[r("el-select",{attrs:{disabled:"",placeholder:"请选择检验标准",size:"small"},on:{change:function(e){return t.methodChange(e)}},model:{value:t.auxiliaryWireCore.standardMethodListId,callback:function(e){t.$set(t.auxiliaryWireCore,"standardMethodListId",e)},expression:"auxiliaryWireCore.standardMethodListId"}},t._l(t.standards,(function(t){return r("el-option",{key:t.id,attrs:{label:t.code,value:t.id}})})),1)],1)],1)],1),r("div",[r("el-button",{attrs:{size:"small"},on:{click:t.outConfig}},[t._v("返 回")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("保 存")])],1)]),r("div",{staticClass:"table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.getProductLoad,expression:"getProductLoad"}],ref:"productTable",staticClass:"el-table",attrs:{data:t.productList,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 200px)","header-cell-style":{background:"#f8f8f9",color:"#515a6e"},"tooltip-effect":"dark"},on:{select:t.upProductSelect,"selection-change":t.selectProduct,"select-all":t.handleAll}},[r("el-table-column",{attrs:{selectable:t.selectable,type:"selection",width:"65"}}),r("el-table-column",{attrs:{label:"检验项分类","min-width":"140",prop:"inspectionItemClass","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"检验项","min-width":"140",prop:"inspectionItem","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("检验项")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.inspectionItem,callback:function(e){t.inspectionItem=e},expression:"inspectionItem"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"检验项子项","min-width":"140",prop:"inspectionItemSubclass","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("检验项子项")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.inspectionItemSubclass,callback:function(e){t.inspectionItemSubclass=e},expression:"inspectionItemSubclass"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"要求描述","min-width":"220px",prop:"tell"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:e.row.tell,callback:function(r){t.$set(e.row,"tell",r)},expression:"scope.row.tell"}})]}}])}),r("el-table-column",{attrs:{label:"要求值","min-width":"220px",prop:"ask"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求值",size:"small",type:"textarea"},model:{value:e.row.ask,callback:function(r){t.$set(e.row,"ask",r)},expression:"scope.row.ask"}})]}}])}),r("el-table-column",{attrs:{label:"条件","min-width":"140",prop:"radius","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.inspectionItem.includes("高温压力试验")?t._e():r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:e.row.radius,callback:function(r){t.$set(e.row,"radius",r)},expression:"scope.row.radius"}}),e.row.inspectionItem.includes("高温压力试验")?r("el-select",{attrs:{clearable:"",placeholder:"条件",size:"small"},model:{value:e.row.radius,callback:function(r){t.$set(e.row,"radius",r)},expression:"scope.row.radius"}},t._l(JSON.parse(e.row.radiusList),(function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})})),1):t._e()]}}])}),r("el-table-column",{attrs:{label:"试验方法","min-width":"120",prop:"methodS","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("试验方法")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.methodS,callback:function(e){t.methodS=e},expression:"methodS"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"计量单位",prop:"unit","show-overflow-tooltip":"",width:"100"}}),r("el-table-column",{attrs:{label:"单价",prop:"price","show-overflow-tooltip":"",width:"100"}}),r("el-table-column",{attrs:{label:"区间","min-width":"120",prop:"section","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"子实验室","min-width":"130",prop:"sonLaboratory","show-overflow-tooltip":""}})],1)],1)])},a=[],i=(r("4de4"),r("7db0"),r("caad"),r("a15b"),r("d81d"),r("14d9"),r("fb6a"),r("d3b7"),r("07ac"),r("2532"),r("0643"),r("2382"),r("fffc"),r("4e3e"),r("a573"),r("9a9a"),r("159b"),r("5c96"),r("2381")),o={props:{active:{type:String,default:function(){return"0"}},sampleSelectionList:{type:Array,default:function(){return[]}},isSpecial:{type:Boolean,default:function(){return!1}}},data:function(t){return{standardList:[],vaule0:"",currentTab:"绝缘",upIndex:0,productList:[],getProductLoad:!1,productIds:[],sample:[],tree:"",standards:[],auxiliaryWireCore:{standardMethodListId:null,insProduct:[],num:[],modelNum:""},isAskOnlyRead:!1,inspectionItem:null,inspectionItemSubclass:null,methodS:null,filters:[],quantityList:[]}},mounted:function(){var t=this;this.$parent.sampleIds.forEach((function(e){for(var r=0;r<t.$parent.sampleList.length;r++)if(t.$parent.sampleList[r].id==e){t.sample.push(t.$parent.sampleList[r]),void 0!==t.$parent.sampleList[r].auxiliaryWireCore&&null!==t.$parent.sampleList[r].auxiliaryWireCore&&(t.auxiliaryWireCore=t.$parent.sampleList[r].auxiliaryWireCore);break}})),this.selectsStandardMethodByFLSSM2()},methods:{searchFilterList:function(){var t=this,e={inspectionItem:this.inspectionItem,inspectionItemSubclass:this.inspectionItemSubclass,methodS:this.methodS},r=Object.values(e).some((function(t){return t}));if(r){var n=function(r){e[r]&&(t.productList=t.productList0.filter((function(t){return t[r]&&t[r].includes(e[r])})))};for(var a in e)n(a)}else this.productList=this.productList0},requestChange:function(t,e,r){var n=this;this.sampleList.map((function(a){return n.sampleIds.indexOf(a.id)>-1&&a.insProduct.map((function(n){return n.id==e.id&&(e.repetitionTag?e.repetitionTag==n.repetitionTag&&(n[r]=t):n.repetitionTag||(n[r]=t)),n})),a}))},outConfig:function(){this.$parent.auxiliaryShow=!1},selectProduct:function(t){var e=this;this.productIds=[],t.forEach((function(t){e.productIds.push(t.id)}))},upProductSelect:function(t,e){e.state=1==e.state?0:1},handleAll:function(t){var e=this;t.length>0?this.productList.map((function(t){return t.state=1,t})):this.productList.map((function(t){return t.state=0,t})),this.$nextTick((function(){e.$refs.productTable.doLayout()}))},tableRowClassName:function(t){var e=t.row;t.rowIndex;return 0===e.state?"":"warning-row"},selectable:function(){return!(this.active>1)},selectsStandardMethodByFLSSM2:function(){var t=this;this.standards=[],Object(i["H"])({tree:this.$parent.selectTree}).then((function(e){try{if(0==e.data.standardMethodList.length&&5==t.selectTree.split("-").length){var r=t.selectTree.split("-"),n=r.slice(0,r.length-1),a=n.join("-").substring(0,n.join("-").length-1);Object(i["H"])({tree:a}).then((function(e){t.standards=e.data.standardMethodList}))}else t.standards=e.data.standardMethodList}catch(o){}})),this.auxiliaryWireCore.standardMethodListId=this.sampleSelectionList[0].standardMethodListId,this.auxiliaryWireCore.insProduct.length>0?(this.productList=this.auxiliaryWireCore.insProduct,setTimeout((function(){t.productList.forEach((function(e){1==e.state&&t.toggleSelection(e)}))}),200)):this.methodChange(this.sampleSelectionList[0].standardMethodListId)},methodChange:function(t){var e=this;if(null!==t&&""!==t){this.getProductLoad=!0;var r=this.standards.find((function(e){return e.id===t}));this.isAskOnlyRead=null!=r&&"技术要求"===r.code;var n=this.$parent.selectTree.split(" - ");this.$parent.addObj.model&&(n[n.length-1]=this.$parent.addObj.model);var a=this.sampleSelectionList[0].model,o=this.sampleSelectionList[0].cores,s=this.sampleSelectionList[0].conductorMaterial,l=this.sampleSelectionList[0].conductorType,u=this.sampleSelectionList[0].modelNum;Object(i["E"])({model:this.$parent.addObj.model?this.$parent.addObj.model:a,modelNum:u,standardMethodListId:t,factory:n.join(" - "),cores:o,conductorMaterial:s,conductorType:l,isCableTag:"1"},{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.forEach((function(t){t.state=0})),e.productList=t.data,e.getProductLoad=!1})).catch((function(t){e.getProductLoad=!1}))}},toggleSelection:function(t){this.$refs.productTable.toggleRowSelection(t,!0)},save:function(){var t=this;0===this.auxiliaryWireCore.insProduct.length||0!==this.auxiliaryWireCore.num.length?(this.auxiliaryWireCore.insProduct=this.HaveJson(this.productList),this.auxiliaryWireCore.insProduct.forEach((function(t){delete t.id})),"绝缘"===this.currentTab&&this.sample.forEach((function(e){e.auxiliaryWireCore=t.auxiliaryWireCore})),this.$emit("goBackAdd2"),this.$message.success("已保存")):this.$message.error("缺少芯数无法保存")},changeTab:function(t){var e=this;"绝缘"===t&&(this.productList=this.auxiliaryWireCore.insProduct),setTimeout((function(){e.productList.forEach((function(t){1==t.state&&e.toggleSelection(t)}))}),100)},filterHandler:function(t,e,r){var n=r["property"];return e[n]===t}}},s=o,l=(r("7298"),r("2877")),u=Object(l["a"])(s,n,a,!1,null,"7f311443",null);e["default"]=u.exports},"5b81":function(t,e,r){"use strict";var n=r("23e7"),a=r("c65b"),i=r("e330"),o=r("1d80"),s=r("1626"),l=r("7234"),u=r("44e7"),d=r("577e"),c=r("dc4a"),p=r("90d8"),f=r("0cb2"),m=r("b622"),h=r("c430"),b=m("replace"),g=TypeError,O=i("".indexOf),w=i("".replace),v=i("".slice),y=Math.max;n({target:"String",proto:!0},{replaceAll:function(t,e){var r,n,i,m,S,L,j,x,T,I=o(this),k=0,M=0,C="";if(!l(t)){if(r=u(t),r&&(n=d(o(p(t))),!~O(n,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(i=c(t,b),i)return a(i,t,I,e);if(h&&r)return w(d(I),t,e)}m=d(I),S=d(t),L=s(e),L||(e=d(e)),j=S.length,x=y(1,j),k=O(m,S);while(-1!==k)T=L?d(e(S,k,m)):f(S,m,k,[],void 0,e),C+=v(m,M,k)+T,M=k+j,k=k+x>m.length?-1:O(m,S,k+x);return M<m.length&&(C+=v(m,M)),C}})},"5fd5":function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"b",(function(){return s}));var n=r("b775");function a(t){return Object(n["a"])({url:"/system/custom/selectCustomPageList",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/system/custom/addCustom",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/system/custom/upCustom",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/system/custom/delCustomById",method:"delete",params:t})}},7298:function(t,e,r){"use strict";r("e414")},b9fe:function(t,e,r){"use strict";r.d(e,"e",(function(){return a})),r.d(e,"f",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return s})),r.d(e,"h",(function(){return l})),r.d(e,"j",(function(){return u})),r.d(e,"i",(function(){return d})),r.d(e,"b",(function(){return c})),r.d(e,"d",(function(){return p})),r.d(e,"k",(function(){return f})),r.d(e,"g",(function(){return m}));var n=r("b775");function a(t){return Object(n["a"])({url:"/performanceShift/page",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/performanceShift/pageYear",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/performanceShift/add",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/shiftTime/list",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/shiftTime/add",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/shiftTime/update",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/shiftTime/remove",method:"delete",params:t})}function c(t){return Object(n["a"])({url:"/performanceShift/export",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/laboratoryScope/obtainItemParameterList",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/performanceShift/update",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/system/newUser/selectUserCondition",method:"get",params:t})}},c03f:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"search_form"},["绝缘"==t.currentTab?r("div",{staticStyle:{display:"flex"}},[r("el-radio-group",{staticStyle:{"margin-right":"20px"},attrs:{size:"small"},on:{input:t.changeTab},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[r("el-radio-button",{attrs:{label:"绝缘"}},[t._v("绝 缘")])],1),r("el-form",{ref:"entity",attrs:{model:t.insulating,size:"small",inline:!0}},[r("el-form-item",{attrs:{label:"芯数",prop:"num"}},[r("el-select",{attrs:{"allow-create":"",clearable:"","default-first-option":"",filterable:"",multiple:"",size:"small"},model:{value:t.insulating.num,callback:function(e){t.$set(t.insulating,"num",e)},expression:"insulating.num"}},t._l(t.quantityList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),r("el-form-item",{attrs:{label:"检验标准",prop:"standardMethodListId"}},[r("el-select",{attrs:{disabled:"",placeholder:"请选择检验标准",size:"small"},on:{change:function(e){return t.methodChange(e)}},model:{value:t.insulating.standardMethodListId,callback:function(e){t.$set(t.insulating,"standardMethodListId",e)},expression:"insulating.standardMethodListId"}},t._l(t.standards,(function(t){return r("el-option",{key:t.id,attrs:{label:t.code,value:t.id}})})),1)],1)],1)],1):t._e(),r("div",[r("el-button",{attrs:{size:"small"},on:{click:t.outConfig}},[t._v("返 回")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("保 存")])],1)]),r("div",{staticClass:"table"},[r("el-table",{ref:"productTable",staticClass:"el-table",attrs:{data:t.productList,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 200px)","tooltip-effect":"dark","header-cell-style":{background:"#f8f8f9",color:"#515a6e"}},on:{select:t.upProductSelect,"selection-change":t.selectProduct,"select-all":t.handleAll}},[r("el-table-column",{attrs:{selectable:t.selectable,type:"selection",width:"65"}}),r("el-table-column",{attrs:{label:"检验项分类","min-width":"140",prop:"inspectionItemClass","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"检验项","min-width":"140",prop:"inspectionItem","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("检验项")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.inspectionItem,callback:function(e){t.inspectionItem=e},expression:"inspectionItem"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"检验项子项","min-width":"140",prop:"inspectionItemSubclass","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("检验项子项")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.inspectionItemSubclass,callback:function(e){t.inspectionItemSubclass=e},expression:"inspectionItemSubclass"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"要求描述","min-width":"220px",prop:"tell"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.active&&(t.isAskOnlyRead||t.isSpecial)?r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:e.row.tell,callback:function(r){t.$set(e.row,"tell",r)},expression:"scope.row.tell"}}):r("span",[[t._v(t._s(e.row.tell))]],2)]}}])}),r("el-table-column",{attrs:{label:"要求值","min-width":"220px",prop:"ask"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.active&&(t.isAskOnlyRead||t.isSpecial)?r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求值",size:"small",type:"textarea"},model:{value:e.row.ask,callback:function(r){t.$set(e.row,"ask",r)},expression:"scope.row.ask"}}):r("span",[t._v(t._s(e.row.ask))])]}}])}),r("el-table-column",{attrs:{label:"条件","min-width":"140",prop:"radius","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[1!=t.active||!t.isAskOnlyRead&&!t.isSpecial||e.row.inspectionItem.includes("高温压力试验")?t._e():r("el-input",{attrs:{autosize:{minRows:1,maxRows:3},clearable:"",placeholder:"要求描述",size:"small",type:"textarea"},model:{value:e.row.radius,callback:function(r){t.$set(e.row,"radius",r)},expression:"scope.row.radius"}}),e.row.inspectionItem.includes("高温压力试验")&&1==t.active?r("el-select",{attrs:{clearable:"",placeholder:"条件",size:"small"},model:{value:e.row.radius,callback:function(r){t.$set(e.row,"radius",r)},expression:"scope.row.radius"}},t._l(JSON.parse(e.row.radiusList),(function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})})),1):t._e(),1!=t.active?r("span",[t._v(t._s(e.row.radius))]):t._e()]}}])}),r("el-table-column",{attrs:{label:"试验方法","min-width":"120",prop:"methodS","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[r("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column","font-size":"14px"}},[r("span",[t._v("试验方法")]),1==t.active?r("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{input:t.searchFilterList},model:{value:t.methodS,callback:function(e){t.methodS=e},expression:"methodS"}}):t._e()],1)]}}])}),r("el-table-column",{attrs:{label:"计量单位",prop:"unit","show-overflow-tooltip":"",width:"100"}}),r("el-table-column",{attrs:{label:"单价",prop:"price","show-overflow-tooltip":"",width:"100"}}),r("el-table-column",{attrs:{label:"区间","min-width":"120",prop:"section","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"子实验室","min-width":"130",prop:"sonLaboratory","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{"filter-method":t.filterHandler,filters:t.filters,label:"子实验室","min-width":"130",prop:"sonLaboratory","show-overflow-tooltip":""}}),t.isSpecial?r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.repetitionTag?t._e():r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.addProductList(t.productList,e.row,e.$index)}}},[t._v("插入行")]),e.row.repetitionTag&&e.row.delete?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.deleteProductList(e.$index,t.productList)}}},[t._v("删除")]):t._e()]}}],null,!1,3023364105)}):t._e()],1)],1)])},a=[],i=(r("4de4"),r("7db0"),r("caad"),r("a15b"),r("d81d"),r("14d9"),r("fb6a"),r("a434"),r("d3b7"),r("07ac"),r("2532"),r("0643"),r("2382"),r("fffc"),r("4e3e"),r("a573"),r("9a9a"),r("159b"),r("2381")),o={props:{active:{type:String,default:function(){return"0"}},sampleSelectionList:{type:Array,default:function(){return[]}},isSpecial:{type:Boolean,default:function(){return!1}}},data:function(t){return{standardList:[],vaule0:"",currentTab:"绝缘",upIndex:0,productList:[],productIds:[],sample:[],tree:"",standards:[],insulating:{standardMethodListId:null,insProduct:[],num:[]},isAskOnlyRead:!1,inspectionItem:null,inspectionItemSubclass:null,methodS:null,filters:[],quantityList:[]}},mounted:function(){var t=this;this.$parent.sampleIds.forEach((function(e){for(var r=0;r<t.$parent.sampleList.length;r++)if(t.$parent.sampleList[r].id==e){t.sample.push(t.$parent.sampleList[r]),void 0!==t.$parent.sampleList[r].insulating&&null!==t.$parent.sampleList[r].insulating&&(t.insulating=t.$parent.sampleList[r].insulating);break}})),this.selectsStandardMethodByFLSSM2()},methods:{searchFilterList:function(){var t=this,e={inspectionItem:this.inspectionItem,inspectionItemSubclass:this.inspectionItemSubclass,methodS:this.methodS},r=Object.values(e).some((function(t){return t}));if(r){var n=function(r){e[r]&&(t.productList=t.productList0.filter((function(t){return t[r]&&t[r].includes(e[r])})))};for(var a in e)n(a)}else this.productList=this.productList0},outConfig:function(){this.$parent.cableConfigShow=!1},selectProduct:function(t){var e=this;this.productIds=[],t.forEach((function(t){e.productIds.push(t.id)}))},upProductSelect:function(t,e){e.state=1==e.state?0:1},handleAll:function(t){var e=this;t.length>0?this.productList.map((function(t){return t.state=1,t})):this.productList.map((function(t){return t.state=0,t})),this.$nextTick((function(){e.$refs.productTable.doLayout()}))},tableRowClassName:function(t){var e=t.row;t.rowIndex;return 0===e.state?"":"warning-row"},selectable:function(){return!(this.active>1)},selectsStandardMethodByFLSSM2:function(){var t=this;this.standards=[],Object(i["H"])({tree:this.$parent.selectTree}).then((function(e){try{if(0==e.data.standardMethodList.length&&5==t.selectTree.split("-").length){var r=t.selectTree.split("-"),n=r.slice(0,r.length-1),a=n.join("-").substring(0,n.join("-").length-1);Object(i["H"])({tree:a}).then((function(e){t.standards=e.data.standardMethodList}))}else t.standards=e.data.standardMethodList}catch(o){}})),this.insulating.standardMethodListId=this.sampleSelectionList[0].standardMethodListId,this.insulating.insProduct.length>0?(this.productList=this.insulating.insProduct,setTimeout((function(){t.productList.forEach((function(e){1==e.state&&t.toggleSelection(e)}))}),200)):this.methodChange(this.sampleSelectionList[0].standardMethodListId)},methodChange:function(t){var e=this;if(null!==t&&""!==t){var r=this.standards.find((function(e){return e.id===t}));null!=r&&"技术要求"===r.code?this.isAskOnlyRead=!0:this.isAskOnlyRead=!1;var n=this.$parent.selectTree.split(" - ");this.$parent.addObj.model&&(n[n.length-1]=this.$parent.addObj.model);var a=this.sampleSelectionList[0].model,o=this.sampleSelectionList[0].modelNum,s=this.sampleSelectionList[0].cores,l=this.sampleSelectionList[0].conductorMaterial,u=this.sampleSelectionList[0].conductorType;Object(i["E"])({model:this.$parent.addObj.model?this.$parent.addObj.model:a,modelNum:o,cores:s,conductorMaterial:l,conductorType:u,standardMethodListId:t,factory:n.join(" - "),isCableTag:"1"},{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.forEach((function(t){t.state=0})),e.productList=t.data}))}},toggleSelection:function(t){this.$refs.productTable.toggleRowSelection(t,!0)},save:function(){var t=this;this.insulating.insProduct=this.HaveJson(this.productList),0===this.insulating.insProduct.length||0!==this.insulating.num.length?(this.insulating.insProduct.forEach((function(t){delete t.id})),"绝缘"===this.currentTab&&this.sample.forEach((function(e){e.insulating=t.insulating})),this.$emit("goBackAdd"),this.$message.success("已保存")):this.$message.error("缺少芯数无法保存")},changeTab:function(t){var e=this;"绝缘"===t&&(this.productList=this.insulating.insProduct),setTimeout((function(){e.productList.forEach((function(t){1==t.state&&e.toggleSelection(t)}))}),100)},filterHandler:function(t,e,r){var n=r["property"];return e[n]===t},addProductList:function(t,e,r){var n=t.filter((function(t){return t.id==e.id&&(t.delete=!1),t.id==e.id})),a=n.length,i=this.HaveJson(e);i.repetitionTag=a,i.delete=!0,i.state=0,t.splice(r+a,0,i)},deleteProductList:function(t,e){e[t-1]&&e[t-1].repetitionTag&&(e[t-1].delete=!0),e.splice(t,1)}}},s=o,l=(r("055c"),r("2877")),u=Object(l["a"])(s,n,a,!1,null,"3d224e74",null);e["default"]=u.exports},e414:function(t,e,r){},f8e60:function(t,e,r){}}]);